/*! For license information please see PydioComponents.min.js.LICENSE.txt */
(()=>{var __webpack_modules__={38682:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(76859),o=r(35438),i=r(27125),a=r(60634),c=r(22807),s=r(36999),u=r(64873),l=function(e,t,r){for(var n=0,i=0;n=i,i=(0,o.fj)(),38===n&&12===i&&(t[r]=1),!(0,o.r)(i);)(0,o.lp)();return(0,o.tP)(e,o.FK)},f=new WeakMap,p=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,r=e.parent,n=e.column===r.column&&e.line===r.line;"rule"!==r.type;)if(!(r=r.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||f.get(r))&&!n){f.set(e,!0);for(var a=[],c=function(e,t){return(0,o.cE)(function(e,t){var r=-1,n=44;do{switch((0,o.r)(n)){case 0:38===n&&12===(0,o.fj)()&&(t[r]=1),e[r]+=l(o.FK-1,t,r);break;case 2:e[r]+=(0,o.iF)(n);break;case 4:if(44===n){e[++r]=58===(0,o.fj)()?"&\f":"",t[r]=e[r].length;break}default:e[r]+=(0,i.Dp)(n)}}while(n=(0,o.lp)());return e}((0,o.un)(e),t))}(t,a),s=r.props,u=0,p=0;u<c.length;u++)for(var d=0;d<s.length;d++,p++)e.props[p]=a[u]?c[u].replace(/&\f/g,s[d]):s[d]+" "+c[u]}}},d=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function h(e,t){switch((0,i.vp)(e,t)){case 5103:return a.G$+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return a.G$+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return a.G$+e+a.uj+e+a.MS+e+e;case 6828:case 4268:return a.G$+e+a.MS+e+e;case 6165:return a.G$+e+a.MS+"flex-"+e+e;case 5187:return a.G$+e+(0,i.gx)(e,/(\w+).+(:[^]+)/,a.G$+"box-$1$2"+a.MS+"flex-$1$2")+e;case 5443:return a.G$+e+a.MS+"flex-item-"+(0,i.gx)(e,/flex-|-self/,"")+e;case 4675:return a.G$+e+a.MS+"flex-line-pack"+(0,i.gx)(e,/align-content|flex-|-self/,"")+e;case 5548:return a.G$+e+a.MS+(0,i.gx)(e,"shrink","negative")+e;case 5292:return a.G$+e+a.MS+(0,i.gx)(e,"basis","preferred-size")+e;case 6060:return a.G$+"box-"+(0,i.gx)(e,"-grow","")+a.G$+e+a.MS+(0,i.gx)(e,"grow","positive")+e;case 4554:return a.G$+(0,i.gx)(e,/([^-])(transform)/g,"$1"+a.G$+"$2")+e;case 6187:return(0,i.gx)((0,i.gx)((0,i.gx)(e,/(zoom-|grab)/,a.G$+"$1"),/(image-set)/,a.G$+"$1"),e,"")+e;case 5495:case 3959:return(0,i.gx)(e,/(image-set\([^]*)/,a.G$+"$1$`$1");case 4968:return(0,i.gx)((0,i.gx)(e,/(.+:)(flex-)?(.*)/,a.G$+"box-pack:$3"+a.MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+a.G$+e+e;case 4095:case 3583:case 4068:case 2532:return(0,i.gx)(e,/(.+)-inline(.+)/,a.G$+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if((0,i.to)(e)-1-t>6)switch((0,i.uO)(e,t+1)){case 109:if(45!==(0,i.uO)(e,t+4))break;case 102:return(0,i.gx)(e,/(.+:)(.+)-([^]+)/,"$1"+a.G$+"$2-$3$1"+a.uj+(108==(0,i.uO)(e,t+3)?"$3":"$2-$3"))+e;case 115:return~(0,i.Cw)(e,"stretch")?h((0,i.gx)(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==(0,i.uO)(e,t+1))break;case 6444:switch((0,i.uO)(e,(0,i.to)(e)-3-(~(0,i.Cw)(e,"!important")&&10))){case 107:return(0,i.gx)(e,":",":"+a.G$)+e;case 101:return(0,i.gx)(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+a.G$+(45===(0,i.uO)(e,14)?"inline-":"")+"box$3$1"+a.G$+"$2$3$1"+a.MS+"$2box$3")+e}break;case 5936:switch((0,i.uO)(e,t+11)){case 114:return a.G$+e+a.MS+(0,i.gx)(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return a.G$+e+a.MS+(0,i.gx)(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return a.G$+e+a.MS+(0,i.gx)(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return a.G$+e+a.MS+e+e}return e}var y=[function(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case a.h5:e.return=h(e.value,e.length);break;case a.lK:return(0,c.q)([(0,o.JG)(e,{value:(0,i.gx)(e.value,"@","@"+a.G$)})],n);case a.Fr:if(e.length)return(0,i.$e)(e.props,(function(t){switch((0,i.EQ)(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return(0,c.q)([(0,o.JG)(e,{props:[(0,i.gx)(t,/:(read-\w+)/,":"+a.uj+"$1")]})],n);case"::placeholder":return(0,c.q)([(0,o.JG)(e,{props:[(0,i.gx)(t,/:(plac\w+)/,":"+a.G$+"input-$1")]}),(0,o.JG)(e,{props:[(0,i.gx)(t,/:(plac\w+)/,":"+a.uj+"$1")]}),(0,o.JG)(e,{props:[(0,i.gx)(t,/:(plac\w+)/,a.MS+"input-$1")]})],n)}return""}))}}];const m=function(e){var t=e.key;if("css"===t){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var o,i,a=e.stylisPlugins||y,l={},f=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),r=1;r<t.length;r++)l[t[r]]=!0;f.push(e)}));var h,m=[p,d],v=[c.P,(0,s.cD)((function(e){h.insert(e)}))],b=(0,s.qR)(m.concat(a,v));i=function(e,t,r,n){var o;h=r,o=e?e+"{"+t.styles+"}":t.styles,(0,c.q)((0,u.MY)(o),b),n&&(g.inserted[t.name]=!0)};var g={key:t,sheet:new n.m({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:l,registered:{},insert:i};return g.sheet.hydrate(f),g}},95246:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=function(e){for(var t,r=0,n=0,o=e.length;o>=4;++n,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(o){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)}},78606:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(56861),o=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;const i=(0,n.Z)((function(e){return o.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}))},56861:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=function(e){var t=Object.create(null);return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}},61513:(e,t,r)=>{"use strict";r.d(t,{T:()=>c,w:()=>a});var n=r(16689),o=r(38682);r(95135),r(29419);var i=(0,n.createContext)("undefined"!=typeof HTMLElement?(0,o.Z)({key:"css"}):null);i.Provider;var a=function(e){return(0,n.forwardRef)((function(t,r){var o=(0,n.useContext)(i);return e(t,o,r)}))},c=(0,n.createContext)({})},95135:(e,t,r)=>{"use strict";r.d(t,{O:()=>m});var n=r(95246),o=r(98961),i=r(56861);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var c=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,u=function(e){return 45===e.charCodeAt(1)},l=function(e){return null!=e&&"boolean"!=typeof e},f=(0,i.Z)((function(e){return u(e)?e:e.replace(c,"-$&").toLowerCase()})),p=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(s,(function(e,t,r){return h={name:t,styles:r,next:h},t}))}return 1===o.Z[e]||u(e)||"number"!=typeof t||0===t?t:t+"px"};function d(e,t,r){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(a(r)){case"boolean":return"";case"object":if(1===r.anim)return h={name:r.name,styles:r.styles,next:h},r.name;if(void 0!==r.styles){var n=r.next;if(void 0!==n)for(;void 0!==n;)h={name:n.name,styles:n.styles,next:h},n=n.next;return r.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var o=0;o<r.length;o++)n+=d(e,t,r[o])+";";else for(var i in r){var c=r[i];if("object"!==a(c))null!=t&&void 0!==t[c]?n+=i+"{"+t[c]+"}":l(c)&&(n+=f(i)+":"+p(i,c)+";");else if(!Array.isArray(c)||"string"!=typeof c[0]||null!=t&&void 0!==t[c[0]]){var s=d(e,t,c);switch(i){case"animation":case"animationName":n+=f(i)+":"+s+";";break;default:n+=i+"{"+s+"}"}}else for(var u=0;u<c.length;u++)l(c[u])&&(n+=f(i)+":"+p(i,c[u])+";")}return n}(e,t,r);case"function":if(void 0!==e){var o=h,i=r(e);return h=o,d(e,t,i)}}if(null==t)return r;var c=t[r];return void 0!==c?c:r}var h,y=/label:\s*([^\s;\n{]+)\s*(;|$)/g,m=function(e,t,r){if(1===e.length&&"object"===a(e[0])&&null!==e[0]&&void 0!==e[0].styles)return e[0];var o=!0,i="";h=void 0;var c=e[0];null==c||void 0===c.raw?(o=!1,i+=d(r,t,c)):i+=c[0];for(var s=1;s<e.length;s++)i+=d(r,t,e[s]),o&&(i+=c[s]);y.lastIndex=0;for(var u,l="";null!==(u=y.exec(i));)l+="-"+u[1];return{name:(0,n.Z)(i)+l,styles:i,next:h}}},76859:(e,t,r)=>{"use strict";r.d(t,{m:()=>n});var n=function(){function e(e){var t=this;this._insertTag=function(e){var r;r=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,r),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{r.insertRule(e,r.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}()},97942:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var n=r(79777),o=r(16689),i=r(78606),a=r(61513),c=r(81612),s=r(95135),u=r(29419),l=i.Z,f=function(e){return"theme"!==e},p=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?l:f},d=function(e,t,r){var n;if(t){var o=t.shouldForwardProp;n=e.__emotion_forwardProp&&o?function(t){return e.__emotion_forwardProp(t)&&o(t)}:o}return"function"!=typeof n&&r&&(n=e.__emotion_forwardProp),n},h=function(e){var t=e.cache,r=e.serialized,n=e.isStringTag;return(0,c.hC)(t,r,n),(0,u.L)((function(){return(0,c.My)(t,r,n)})),null};const y=function e(t,r){var i,u,l=t.__emotion_real===t,f=l&&t.__emotion_base||t;void 0!==r&&(i=r.label,u=r.target);var y=d(t,r,l),m=y||p(f),v=!m("as");return function(){var b=arguments,g=l&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&g.push("label:"+i+";"),null==b[0]||void 0===b[0].raw)g.push.apply(g,b);else{g.push(b[0][0]);for(var w=b.length,S=1;S<w;S++)g.push(b[S],b[0][S])}var O=(0,a.w)((function(e,t,r){var n=v&&e.as||f,i="",l=[],d=e;if(null==e.theme){for(var b in d={},e)d[b]=e[b];d.theme=(0,o.useContext)(a.T)}"string"==typeof e.className?i=(0,c.fp)(t.registered,l,e.className):null!=e.className&&(i=e.className+" ");var w=(0,s.O)(g.concat(l),t.registered,d);i+=t.key+"-"+w.name,void 0!==u&&(i+=" "+u);var S=v&&void 0===y?p(n):m,O={};for(var P in e)v&&"as"===P||S(P)&&(O[P]=e[P]);return O.className=i,O.ref=r,(0,o.createElement)(o.Fragment,null,(0,o.createElement)(h,{cache:t,serialized:w,isStringTag:"string"==typeof n}),(0,o.createElement)(n,O))}));return O.displayName=void 0!==i?i:"Styled("+("string"==typeof f?f:f.displayName||f.name||"Component")+")",O.defaultProps=t.defaultProps,O.__emotion_real=O,O.__emotion_base=f,O.__emotion_styles=g,O.__emotion_forwardProp=y,Object.defineProperty(O,"toString",{value:function(){return"."+u}}),O.withComponent=function(t,o){return e(t,(0,n.Z)({},r,o,{shouldForwardProp:d(O,o,!0)})).apply(void 0,g)},O}}},82441:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i}),r(16689);var n=r(97942),o=(r(95135),r(29419),n.Z.bind());["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){o[e]=o(e)}));const i=o},98961:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},29419:(e,t,r)=>{"use strict";r.d(t,{L:()=>i});var n=r(16689),o=!!n.useInsertionEffect&&n.useInsertionEffect,i=o||function(e){return e()};o||n.useLayoutEffect},81612:(e,t,r)=>{"use strict";function n(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]+";"):n+=r+" "})),n}r.d(t,{My:()=>i,fp:()=>n,hC:()=>o});var o=function(e,t,r){var n=e.key+"-"+t.name;!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles)},i=function(e,t,r){o(e,t,r);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+n:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}},26454:(e,t,r)=>{"use strict";var n=r(42970);t.Z=void 0;var o=n(r(17324)),i=r(2038),a=(0,o.default)((0,i.jsx)("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown");t.Z=a},14741:(e,t,r)=>{"use strict";var n=r(42970);t.Z=void 0;var o=n(r(17324)),i=r(2038),a=(0,o.default)((0,i.jsx)("path",{d:"m10 17 5-5-5-5v10z"}),"ArrowRight");t.Z=a},17324:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=r(44007)},60543:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"}},74379:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={black:"#000",white:"#fff"}},90232:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"}},36812:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"}},58602:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"}},42137:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"}},26646:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"}},19542:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"}},76531:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(79777);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===o(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r;return(0,n.Z)({toolbar:(r={minHeight:56},i(r,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),i(r,e.up("sm"),{minHeight:64}),r)},t)}},77724:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>w});var n=r(79777),o=r(86646),i=r(12469),a=r(44305),c=r(83026),s=r(74379),u=r(36812),l=r(26646),f=r(19542),p=r(42137),d=r(60543),h=r(58602),y=r(90232),m=["mode","contrastThreshold","tonalOffset"],v={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:s.Z.white,default:s.Z.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},b={text:{primary:s.Z.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:s.Z.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function g(e,t,r,n){var o=n.light||n,i=n.dark||1.5*n;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:"light"===t?e.light=(0,c.$n)(e.main,o):"dark"===t&&(e.dark=(0,c._j)(e.main,i)))}function w(e){var t=e.mode,r=void 0===t?"light":t,w=e.contrastThreshold,S=void 0===w?3:w,O=e.tonalOffset,P=void 0===O?.2:O,k=(0,o.Z)(e,m),_=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:d.Z[200],light:d.Z[50],dark:d.Z[400]}:{main:d.Z[700],light:d.Z[400],dark:d.Z[800]}}(r),E=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:l.Z[200],light:l.Z[50],dark:l.Z[400]}:{main:l.Z[500],light:l.Z[300],dark:l.Z[700]}}(r),j=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:f.Z[500],light:f.Z[300],dark:f.Z[700]}:{main:f.Z[700],light:f.Z[400],dark:f.Z[800]}}(r),x=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:h.Z[400],light:h.Z[300],dark:h.Z[700]}:{main:h.Z[700],light:h.Z[500],dark:h.Z[900]}}(r),C=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y.Z[400],light:y.Z[300],dark:y.Z[700]}:{main:y.Z[800],light:y.Z[500],dark:y.Z[900]}}(r),T=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p.Z[400],light:p.Z[300],dark:p.Z[700]}:{main:"#ed6c02",light:p.Z[500],dark:p.Z[900]}}(r);function R(e){return(0,c.mi)(e,b.text.primary)>=S?b.text.primary:v.text.primary}var I=function(e){var t=e.color,r=e.name,o=e.mainShade,a=void 0===o?500:o,c=e.lightShade,s=void 0===c?300:c,u=e.darkShade,l=void 0===u?700:u;if(!(t=(0,n.Z)({},t)).main&&t[a]&&(t.main=t[a]),!t.hasOwnProperty("main"))throw new Error((0,i.Z)(11,r?" (".concat(r,")"):"",a));if("string"!=typeof t.main)throw new Error((0,i.Z)(12,r?" (".concat(r,")"):"",JSON.stringify(t.main)));return g(t,"light",s,P),g(t,"dark",l,P),t.contrastText||(t.contrastText=R(t.main)),t},L={dark:b,light:v};return(0,a.Z)((0,n.Z)({common:(0,n.Z)({},s.Z),mode:r,primary:I({color:_,name:"primary"}),secondary:I({color:E,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:I({color:j,name:"error"}),warning:I({color:T,name:"warning"}),info:I({color:x,name:"info"}),success:I({color:C,name:"success"}),grey:u.Z,contrastThreshold:S,getContrastText:R,augmentColor:I,tonalOffset:P},L[r]),k)}},82013:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var n=r(79777),o=r(86646),i=r(12469),a=r(44305),c=r(38774),s=r(1697),u=r(1267),l=r(76531),f=r(77724),p=r(14680),d=r(60248),h=r(5197),y=r(41495),m=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];const v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,r=void 0===t?{}:t,v=e.palette,b=void 0===v?{}:v,g=e.transitions,w=void 0===g?{}:g,S=e.typography,O=void 0===S?{}:S,P=(0,o.Z)(e,m);if(e.vars)throw new Error((0,i.Z)(18));var k=(0,f.ZP)(b),_=(0,c.Z)(e),E=(0,a.Z)(_,{mixins:(0,l.Z)(_.breakpoints,r),palette:k,shadows:d.Z.slice(),typography:(0,p.Z)(k,O),transitions:(0,h.ZP)(w),zIndex:(0,n.Z)({},y.Z)});E=(0,a.Z)(E,P);for(var j=arguments.length,x=new Array(j>1?j-1:0),C=1;C<j;C++)x[C-1]=arguments[C];return(E=x.reduce((function(e,t){return(0,a.Z)(e,t)}),E)).unstable_sxConfig=(0,n.Z)({},s.Z,null==P?void 0:P.unstable_sxConfig),E.unstable_sx=function(e){return(0,u.Z)({sx:e,theme:this})},E}},5197:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>l,x9:()=>c});var n=r(86646),o=r(79777),i=["duration","easing","delay"],a={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},c={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function s(e){return"".concat(Math.round(e),"ms")}function u(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function l(e){var t=(0,o.Z)({},a,e.easing),r=(0,o.Z)({},c,e.duration);return(0,o.Z)({getAutoHeightDuration:u,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o.duration,c=void 0===a?r.standard:a,u=o.easing,l=void 0===u?t.easeInOut:u,f=o.delay,p=void 0===f?0:f;return(0,n.Z)(o,i),(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"==typeof c?c:s(c)," ").concat(l," ").concat("string"==typeof p?p:s(p))})).join(",")}},e,{easing:t,duration:r})}},14680:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(79777),o=r(86646),i=r(44305),a=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"],c={textTransform:"uppercase"},s='"Roboto", "Helvetica", "Arial", sans-serif';function u(e,t){var r="function"==typeof t?t(e):t,u=r.fontFamily,l=void 0===u?s:u,f=r.fontSize,p=void 0===f?14:f,d=r.fontWeightLight,h=void 0===d?300:d,y=r.fontWeightRegular,m=void 0===y?400:y,v=r.fontWeightMedium,b=void 0===v?500:v,g=r.fontWeightBold,w=void 0===g?700:g,S=r.htmlFontSize,O=void 0===S?16:S,P=r.allVariants,k=r.pxToRem,_=(0,o.Z)(r,a),E=p/14,j=k||function(e){return"".concat(e/O*E,"rem")},x=function(e,t,r,o,i){return(0,n.Z)({fontFamily:l,fontWeight:e,fontSize:j(t),lineHeight:r},l===s?{letterSpacing:"".concat((a=o/t,Math.round(1e5*a)/1e5),"em")}:{},i,P);var a},C={h1:x(h,96,1.167,-1.5),h2:x(h,60,1.2,-.5),h3:x(m,48,1.167,0),h4:x(m,34,1.235,.25),h5:x(m,24,1.334,0),h6:x(b,20,1.6,.15),subtitle1:x(m,16,1.75,.15),subtitle2:x(b,14,1.57,.1),body1:x(m,16,1.5,.15),body2:x(m,14,1.43,.15),button:x(b,14,1.75,.4,c),caption:x(m,12,1.66,.4),overline:x(m,12,2.66,1,c)};return(0,i.Z)((0,n.Z)({htmlFontSize:O,pxToRem:j,fontFamily:l,fontSize:p,fontWeightLight:h,fontWeightRegular:m,fontWeightMedium:b,fontWeightBold:w},C),_,{clone:!1})}},15785:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=(0,r(82013).Z)()},60248:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=.2,o=.14,i=.12;function a(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(n,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(o,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(i,")")].join(",")}const c=["none",a(0,2,1,-1,0,1,1,0,0,1,3,0),a(0,3,1,-2,0,2,2,0,0,1,5,0),a(0,3,3,-2,0,3,4,0,0,1,8,0),a(0,2,4,-1,0,4,5,0,0,1,10,0),a(0,3,5,-1,0,5,8,0,0,1,14,0),a(0,3,5,-1,0,6,10,0,0,1,18,0),a(0,4,5,-2,0,7,10,1,0,2,16,1),a(0,5,5,-3,0,8,10,1,0,3,14,2),a(0,5,6,-3,0,9,12,1,0,3,16,2),a(0,6,6,-3,0,10,14,1,0,4,18,3),a(0,6,7,-4,0,11,15,1,0,4,20,3),a(0,7,8,-4,0,12,17,2,0,5,22,4),a(0,7,8,-4,0,13,19,2,0,5,24,4),a(0,7,9,-4,0,14,21,2,0,5,26,4),a(0,8,9,-5,0,15,22,2,0,6,28,5),a(0,8,10,-5,0,16,24,2,0,6,30,5),a(0,8,11,-5,0,17,26,2,0,6,32,5),a(0,9,11,-5,0,18,28,2,0,7,34,6),a(0,9,12,-6,0,19,29,2,0,7,36,6),a(0,10,13,-6,0,20,31,3,0,8,38,7),a(0,10,13,-6,0,21,33,3,0,8,40,7),a(0,10,14,-6,0,22,35,3,0,8,42,7),a(0,11,14,-7,0,23,36,3,0,9,44,8),a(0,11,15,-7,0,24,38,3,0,9,46,8)]},49917:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>i});var n=r(17500),o=r(15785);const i=(0,n.ZP)({defaultTheme:o.Z,rootShouldForwardProp:function(e){return(0,n.x9)(e)&&"classes"!==e}})},47186:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(98654),o=r(15785);function i(e){var t=e.props,r=e.name;return(0,n.Z)({props:t,name:r,defaultTheme:o.Z})}},41495:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},44007:(e,t,r)=>{"use strict";r.r(t),r.d(t,{capitalize:()=>o,createChainedFunction:()=>i,createSvgIcon:()=>S,debounce:()=>O,deprecatedPropType:()=>P,isMuiElement:()=>k,ownerDocument:()=>_.Z,ownerWindow:()=>j,requirePropFactory:()=>x,setRef:()=>C,unstable_ClassNameGenerator:()=>G,unstable_useEnhancedEffect:()=>T.Z,unstable_useId:()=>R.Z,unsupportedProp:()=>I,useControlled:()=>L.Z,useEventCallback:()=>A,useForkRef:()=>N.Z,useIsFocusVisible:()=>Z});var n=r(21142);const o=r(2494).Z,i=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t){return null==t?e:function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];e.apply(this,n),t.apply(this,n)}}),(function(){}))};var a=r(79777),c=r(16689),s=r(86646),u=(r(580),r(82566)),l=r(56e3),f=r(47186),p=r(49917),d=r(46213),h=r(5245);function y(e){return(0,h.Z)("MuiSvgIcon",e)}(0,d.Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var m=r(2038),v=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],b=(0,p.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,"inherit"!==r.color&&t["color".concat(o(r.color))],t["fontSize".concat(o(r.fontSize))]]}})((function(e){var t,r,n,o,i,a,c,s,u,l,f,p,d,h,y,m,v,b=e.theme,g=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=b.transitions)||null==(r=t.create)?void 0:r.call(t,"fill",{duration:null==(n=b.transitions)||null==(o=n.duration)?void 0:o.shorter}),fontSize:{inherit:"inherit",small:(null==(i=b.typography)||null==(a=i.pxToRem)?void 0:a.call(i,20))||"1.25rem",medium:(null==(c=b.typography)||null==(s=c.pxToRem)?void 0:s.call(c,24))||"1.5rem",large:(null==(u=b.typography)||null==(l=u.pxToRem)?void 0:l.call(u,35))||"2.1875rem"}[g.fontSize],color:null!=(f=null==(p=(b.vars||b).palette)||null==(d=p[g.color])?void 0:d.main)?f:{action:null==(h=(b.vars||b).palette)||null==(y=h.action)?void 0:y.active,disabled:null==(m=(b.vars||b).palette)||null==(v=m.action)?void 0:v.disabled,inherit:void 0}[g.color]}})),g=c.forwardRef((function(e,t){var r=(0,f.Z)({props:e,name:"MuiSvgIcon"}),n=r.children,i=r.className,c=r.color,p=void 0===c?"inherit":c,d=r.component,h=void 0===d?"svg":d,g=r.fontSize,w=void 0===g?"medium":g,S=r.htmlColor,O=r.inheritViewBox,P=void 0!==O&&O,k=r.titleAccess,_=r.viewBox,E=void 0===_?"0 0 24 24":_,j=(0,s.Z)(r,v),x=(0,a.Z)({},r,{color:p,component:h,fontSize:w,instanceFontSize:e.fontSize,inheritViewBox:P,viewBox:E}),C={};P||(C.viewBox=E);var T=function(e){var t=e.color,r=e.fontSize,n=e.classes,i={root:["root","inherit"!==t&&"color".concat(o(t)),"fontSize".concat(o(r))]};return(0,l.Z)(i,y,n)}(x);return(0,m.jsxs)(b,(0,a.Z)({as:h,className:(0,u.Z)(T.root,i),focusable:"false",color:S,"aria-hidden":!k||void 0,role:k?"img":void 0,ref:t},C,j,{ownerState:x,children:[n,k?(0,m.jsx)("title",{children:k}):null]}))}));g.muiName="SvgIcon";const w=g;function S(e,t){function r(r,n){return(0,m.jsx)(w,(0,a.Z)({"data-testid":"".concat(t,"Icon"),ref:n},r,{children:e}))}return r.muiName=w.muiName,c.memo(c.forwardRef(r))}const O=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function n(){for(var n=this,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];clearTimeout(t),t=setTimeout((function(){e.apply(n,i)}),r)}return n.clear=function(){clearTimeout(t)},n},P=function(e,t){return function(){return null}},k=function(e,t){return c.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)};var _=r(92466),E=r(91136);const j=function(e){return(0,E.Z)(e).defaultView||window};r(51730);const x=function(e,t){return function(){return null}},C=r(37367).Z;var T=r(43547),R=r(9118);const I=function(e,t,r,n,o){return null};var L=r(90678),M=r(52695);const A=function(e){var t=c.useRef(e);return(0,M.Z)((function(){t.current=e})),c.useCallback((function(){return t.current.apply(void 0,arguments)}),[])};var D,N=r(44880),U=!0,B=!1,z={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function F(e){e.metaKey||e.altKey||e.ctrlKey||(U=!0)}function q(){U=!1}function W(){"hidden"===this.visibilityState&&B&&(U=!0)}const Z=function(){var e=c.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",F,!0),t.addEventListener("mousedown",q,!0),t.addEventListener("pointerdown",q,!0),t.addEventListener("touchstart",q,!0),t.addEventListener("visibilitychange",W,!0))}),[]),t=c.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!function(e){var t,r,n,o=e.target;try{return o.matches(":focus-visible")}catch(e){}return U||(r=(t=o).type,!("INPUT"!==(n=t.tagName)||!z[r]||t.readOnly)||"TEXTAREA"===n&&!t.readOnly||!!t.isContentEditable)}(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(B=!0,window.clearTimeout(D),D=window.setTimeout((function(){B=!1}),100),t.current=!1,!0)},ref:e}};var G={configure:function(e){n.Z.configure(e)}}},92466:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=r(91136).Z},90678:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=r(31168).Z},43547:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=r(52695).Z},44880:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=r(66357).Z},9118:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=r(87655).Z},96557:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=r(16689).createContext(null)},24231:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(16689),o=r(96557);function i(){return n.useContext(o.Z)}},7522:(e,t,r)=>{"use strict";r.d(t,{Co:()=>i,ZP:()=>o});var n=r(82441);function o(e,t){return(0,n.Z)(e,t)}var i=function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},3052:(e,t,r)=>{"use strict";r.d(t,{E0:()=>b,NL:()=>c});var n=r(33994),o=r(39642),i=r(10415),a=r(47921);function c(e){return"number"!=typeof e?e:"".concat(e,"px solid")}var s=(0,n.ZP)({prop:"border",themeKey:"borders",transform:c}),u=(0,n.ZP)({prop:"borderTop",themeKey:"borders",transform:c}),l=(0,n.ZP)({prop:"borderRight",themeKey:"borders",transform:c}),f=(0,n.ZP)({prop:"borderBottom",themeKey:"borders",transform:c}),p=(0,n.ZP)({prop:"borderLeft",themeKey:"borders",transform:c}),d=(0,n.ZP)({prop:"borderColor",themeKey:"palette"}),h=(0,n.ZP)({prop:"borderTopColor",themeKey:"palette"}),y=(0,n.ZP)({prop:"borderRightColor",themeKey:"palette"}),m=(0,n.ZP)({prop:"borderBottomColor",themeKey:"palette"}),v=(0,n.ZP)({prop:"borderLeftColor",themeKey:"palette"}),b=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=(0,i.eI)(e.theme,"shape.borderRadius",4,"borderRadius");return(0,a.k9)(e,e.borderRadius,(function(e){return{borderRadius:(0,i.NA)(t,e)}}))}return null};b.propTypes={},b.filterProps=["borderRadius"],(0,o.Z)(s,u,l,f,p,d,h,y,m,v,b)},47921:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.d(t,{L7:()=>s,VO:()=>o,W8:()=>c,k9:()=>a}),r(580);var o={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(o[e],"px)")}};function a(e,t,r){var a=e.theme||{};if(Array.isArray(t)){var c=a.breakpoints||i;return t.reduce((function(e,n,o){return e[c.up(c.keys[o])]=r(t[o]),e}),{})}if("object"===n(t)){var s=a.breakpoints||i;return Object.keys(t).reduce((function(e,n){if(-1!==Object.keys(s.values||o).indexOf(n))e[s.up(n)]=r(t[n],n);else{var i=n;e[i]=t[i]}return e}),{})}return r(t)}function c(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==(e=t.keys)?void 0:e.reduce((function(e,r){return e[t.up(r)]={},e}),{}))||{}}function s(e,t){return e.reduce((function(e,t){var r=e[t];return(!r||0===Object.keys(r).length)&&delete e[t],e}),t)}},83026:(e,t,r)=>{"use strict";r.d(t,{$n:()=>f,Fq:()=>u,_j:()=>l,mi:()=>s});var n=r(12469);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),r)}function i(e){if(e.type)return e;if("#"===e.charAt(0))return i(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),r=e.match(t);return r&&1===r[0].length&&(r=r.map((function(e){return e+e}))),r?"rgb".concat(4===r.length?"a":"","(").concat(r.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),r=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(r))throw new Error((0,n.Z)(9,e));var o,a=e.substring(t+1,e.length-1);if("color"===r){if(o=(a=a.split(" ")).shift(),4===a.length&&"/"===a[3].charAt(0)&&(a[3]=a[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(o))throw new Error((0,n.Z)(10,o))}else a=a.split(",");return{type:r,values:a=a.map((function(e){return parseFloat(e)})),colorSpace:o}}function a(e){var t=e.type,r=e.colorSpace,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),n=-1!==t.indexOf("color")?"".concat(r," ").concat(n.join(" ")):"".concat(n.join(", ")),"".concat(t,"(").concat(n,")")}function c(e){var t="hsl"===(e=i(e)).type||"hsla"===e.type?i(function(e){var t=(e=i(e)).values,r=t[0],n=t[1]/100,o=t[2]/100,c=n*Math.min(o,1-o),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+r/30)%12;return o-c*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",l=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(u+="a",l.push(t[3])),a({type:u,values:l})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function s(e,t){var r=c(e),n=c(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function u(e,t){return e=i(e),t=o(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,a(e)}function l(e,t){if(e=i(e),t=o(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]*=1-t;return a(e)}function f(e,t){if(e=i(e),t=o(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return a(e)}},39642:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(88054);const o=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=t.reduce((function(e,t){return t.filterProps.forEach((function(r){e[r]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,r){return o[r]?(0,n.Z)(t,o[r](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i}},17500:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>S,x9:()=>g});var n=r(83265),o=r(51730),i=r(7522),a=r(38774),c=r(3965),s=r(1267);function u(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],d=["theme"],h=["theme"];function y(e){return 0===Object.keys(e).length}var m=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},v=function(e,t){var r=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(r=t.components[e].variants);var n={};return r.forEach((function(e){var t=(0,c.Z)(e.props);n[t]=e.style})),n},b=function(e,t,r,n){var o,i,a=e.ownerState,s=void 0===a?{}:a,u=[],l=null==r||null==(o=r.components)||null==(i=o[n])?void 0:i.variants;return l&&l.forEach((function(r){var n=!0;Object.keys(r.props).forEach((function(t){s[t]!==r.props[t]&&e[t]!==r.props[t]&&(n=!1)})),n&&u.push(t[(0,c.Z)(r.props)])})),u};function g(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var w=(0,a.Z)();function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,r=void 0===t?w:t,a=e.rootShouldForwardProp,c=void 0===a?g:a,f=e.slotShouldForwardProp,S=void 0===f?g:f,O=function(e){var t=y(e.theme)?r:e.theme;return(0,s.Z)((0,o.Z)({},e,{theme:t}))};return O.__mui_systemSx=!0,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.Co)(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var a=t.name,s=t.slot,f=t.skipVariantsResolver,w=t.skipSx,P=t.overridesResolver,k=(0,n.Z)(t,p),_=void 0!==f?f:s&&"Root"!==s||!1,E=w||!1,j=g;"Root"===s?j=c:s?j=S:function(e){return"string"==typeof e&&e.charCodeAt(0)>96}(e)&&(j=void 0);var x=(0,i.ZP)(e,(0,o.Z)({shouldForwardProp:j,label:void 0},k)),C=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),c=1;c<t;c++)i[c-1]=arguments[c];var s=i?i.map((function(e){return"function"==typeof e&&e.__emotion_real!==e?function(t){var i=t.theme,a=(0,n.Z)(t,d);return e((0,o.Z)({theme:y(i)?r:i},a))}:e})):[],f=e;a&&P&&s.push((function(e){var t=y(e.theme)?r:e.theme,n=m(a,t);if(n){var i={};return Object.entries(n).forEach((function(r){var n,a,c=(a=2,function(e){if(Array.isArray(e))return e}(n=r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(n,a)||l(n,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=c[0],u=c[1];i[s]="function"==typeof u?u((0,o.Z)({},e,{theme:t})):u})),P(e,i)}return null})),a&&!_&&s.push((function(e){var t=y(e.theme)?r:e.theme;return b(e,v(a,t),t,a)})),E||s.push(O);var p=s.length-i.length;if(Array.isArray(e)&&p>0){var g=new Array(p).fill("");(f=[].concat(u(e),u(g))).raw=[].concat(u(e.raw),u(g))}else"function"==typeof e&&e.__emotion_real!==e&&(f=function(t){var i=t.theme,a=(0,n.Z)(t,h);return e((0,o.Z)({theme:y(i)?r:i},a))});return x.apply(void 0,[f].concat(u(s)))};return x.withConfig&&(C.withConfig=x.withConfig),C}}},11242:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(83265),o=r(51730);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var a=["values","unit","step"],c=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return(0,o.Z)({},e,function(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===i(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},t.key,t.val))}),{})};function s(e){var t=e.values,r=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,i=e.unit,s=void 0===i?"px":i,u=e.step,l=void 0===u?5:u,f=(0,n.Z)(e,a),p=c(r),d=Object.keys(p);function h(e){var t="number"==typeof r[e]?r[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function y(e){var t="number"==typeof r[e]?r[e]:e;return"@media (max-width:".concat(t-l/100).concat(s,")")}function m(e,t){var n=d.indexOf(t);return"@media (min-width:".concat("number"==typeof r[e]?r[e]:e).concat(s,") and ")+"(max-width:".concat((-1!==n&&"number"==typeof r[d[n]]?r[d[n]]:t)-l/100).concat(s,")")}return(0,o.Z)({keys:d,values:p,up:h,down:y,between:m,only:function(e){return d.indexOf(e)+1<d.length?m(e,d[d.indexOf(e)+1]):h(e)},not:function(e){var t=d.indexOf(e);return 0===t?h(d[1]):t===d.length-1?y(d[t]):m(e,d[d.indexOf(e)+1]).replace("@media","@media not all and")},unit:s},f)}},2354:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(10415);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,n.hB)({spacing:e}),r=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(0===r.length?[1]:r).map((function(e){var r=t(e);return"number"==typeof r?"".concat(r,"px"):r})).join(" ")};return r.mui=!0,r}},38774:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(51730),o=r(83265),i=r(44305),a=r(11242),c=r(77358),s=r(2354),u=r(1267),l=r(1697),f=["breakpoints","palette","spacing","shape"];const p=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,r=void 0===t?{}:t,p=e.palette,d=void 0===p?{}:p,h=e.spacing,y=e.shape,m=void 0===y?{}:y,v=(0,o.Z)(e,f),b=(0,a.Z)(r),g=(0,s.Z)(h),w=(0,i.Z)({breakpoints:b,direction:"ltr",components:{},palette:(0,n.Z)({mode:"light"},d),spacing:g,shape:(0,n.Z)({},c.Z,m)},v),S=arguments.length,O=new Array(S>1?S-1:0),P=1;P<S;P++)O[P-1]=arguments[P];return(w=O.reduce((function(e,t){return(0,i.Z)(e,t)}),w)).unstable_sxConfig=(0,n.Z)({},l.Z,null==v?void 0:v.unstable_sxConfig),w.unstable_sx=function(e){return(0,u.Z)({sx:e,theme:this})},w}},77358:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={borderRadius:4}},83644:(e,t,r)=>{"use strict";r.d(t,{SG:()=>c,e$:()=>s,s2:()=>u});var n=r(33994),o=r(39642),i=r(10415),a=r(47921),c=function(e){if(void 0!==e.gap&&null!==e.gap){var t=(0,i.eI)(e.theme,"spacing",8,"gap");return(0,a.k9)(e,e.gap,(function(e){return{gap:(0,i.NA)(t,e)}}))}return null};c.propTypes={},c.filterProps=["gap"];var s=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=(0,i.eI)(e.theme,"spacing",8,"columnGap");return(0,a.k9)(e,e.columnGap,(function(e){return{columnGap:(0,i.NA)(t,e)}}))}return null};s.propTypes={},s.filterProps=["columnGap"];var u=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=(0,i.eI)(e.theme,"spacing",8,"rowGap");return(0,a.k9)(e,e.rowGap,(function(e){return{rowGap:(0,i.NA)(t,e)}}))}return null};u.propTypes={},u.filterProps=["rowGap"];var l=(0,n.ZP)({prop:"gridColumn"}),f=(0,n.ZP)({prop:"gridRow"}),p=(0,n.ZP)({prop:"gridAutoFlow"}),d=(0,n.ZP)({prop:"gridAutoColumns"}),h=(0,n.ZP)({prop:"gridAutoRows"}),y=(0,n.ZP)({prop:"gridTemplateColumns"}),m=(0,n.ZP)({prop:"gridTemplateRows"}),v=(0,n.ZP)({prop:"gridTemplateAreas"}),b=(0,n.ZP)({prop:"gridArea"});(0,o.Z)(c,s,u,l,f,p,d,h,y,m,v,b)},60722:(e,t,r)=>{"use strict";function n(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}r.d(t,{Z:()=>n})},88054:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(44305);const o=function(e,t){return t?(0,n.Z)(e,t,{clone:!1}):e}},94341:(e,t,r)=>{"use strict";r.d(t,{Sh:()=>i});var n=r(33994),o=r(39642);function i(e,t){return"grey"===t?t:e}var a=(0,n.ZP)({prop:"color",themeKey:"palette",transform:i}),c=(0,n.ZP)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:i}),s=(0,n.ZP)({prop:"backgroundColor",themeKey:"palette",transform:i});(0,o.Z)(a,c,s)},3965:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(83265),o=r(2494),i=["variant"];function a(e){return 0===e.length}function c(e){var t=e.variant,r=(0,n.Z)(e,i),c=t||"";return Object.keys(r).sort().forEach((function(t){c+="color"===t?a(c)?e[t]:(0,o.Z)(e[t]):"".concat(a(c)?t:(0,o.Z)(t)).concat((0,o.Z)(e[t].toString()))})),c}},54157:(e,t,r)=>{"use strict";r.d(t,{EB:()=>a,kk:()=>s});var n=r(33994),o=r(39642),i=r(47921);function a(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var c=(0,n.ZP)({prop:"width",transform:a}),s=function(e){return void 0!==e.maxWidth&&null!==e.maxWidth?(0,i.k9)(e,e.maxWidth,(function(t){var r,n,o;return{maxWidth:(null==(r=e.theme)||null==(n=r.breakpoints)||null==(o=n.values)?void 0:o[t])||i.VO[t]||a(t)}})):null};s.filterProps=["maxWidth"];var u=(0,n.ZP)({prop:"minWidth",transform:a}),l=(0,n.ZP)({prop:"height",transform:a}),f=(0,n.ZP)({prop:"maxHeight",transform:a}),p=(0,n.ZP)({prop:"minHeight",transform:a}),d=((0,n.ZP)({prop:"size",cssProperty:"width",transform:a}),(0,n.ZP)({prop:"size",cssProperty:"height",transform:a}),(0,n.ZP)({prop:"boxSizing"}));(0,o.Z)(c,s,u,l,f,p,d)},10415:(e,t,r)=>{"use strict";r.d(t,{NA:()=>v,e6:()=>g,eI:()=>y,hB:()=>m,o3:()=>w});var n=r(47921),o=r(33994),i=r(88054),a=r(60722);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s={m:"margin",p:"padding"},u={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},f=(0,a.Z)((function(e){if(e.length>2){if(!l[e])return[e];e=l[e]}var t,r,n=(t=e.split(""),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=n[1],a=s[o],f=u[i]||"";return Array.isArray(f)?f.map((function(e){return a+e})):[a+f]})),p=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],h=[].concat(p,d);function y(e,t,r,n){var i,a=null!=(i=(0,o.DW)(e,t,!1))?i:r;return"number"==typeof a?function(e){return"string"==typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"==typeof e?e:a[e]}:"function"==typeof a?a:function(){}}function m(e){return y(e,"spacing",8)}function v(e,t){if("string"==typeof t||null==t)return t;var r=e(Math.abs(t));return t>=0?r:"number"==typeof r?-r:"-".concat(r)}function b(e,t){var r=m(e.theme);return Object.keys(e).map((function(o){return function(e,t,r,o){if(-1===t.indexOf(r))return null;var i=function(e,t){return function(r){return e.reduce((function(e,n){return e[n]=v(t,r),e}),{})}}(f(r),o),a=e[r];return(0,n.k9)(e,a,i)}(e,t,o,r)})).reduce(i.Z,{})}function g(e){return b(e,p)}function w(e){return b(e,d)}function S(e){return b(e,h)}g.propTypes={},g.filterProps=p,w.propTypes={},w.filterProps=d,S.propTypes={},S.filterProps=h},33994:(e,t,r)=>{"use strict";r.d(t,{DW:()=>a,Jq:()=>c,ZP:()=>s});var n=r(2494),o=r(47921);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!=typeof t)return null;if(e&&e.vars&&r){var n="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=n)return n}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function c(e,t,r){var n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r;return n="function"==typeof e?e(r):Array.isArray(e)?e[r]||o:a(e,r)||o,t&&(n=t(n,o,e)),n}const s=function(e){var t=e.prop,r=e.cssProperty,s=void 0===r?e.prop:r,u=e.themeKey,l=e.transform,f=function(e){if(null==e[t])return null;var r=e[t],f=a(e.theme,u)||{};return(0,o.k9)(e,r,(function(e){var r=c(f,l,e);return e===r&&"string"==typeof e&&(r=c(f,l,"".concat(t).concat("default"===e?"":(0,n.Z)(e)),e)),!1===s?r:function(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===i(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},s,r)}))};return f.propTypes={},f.filterProps=[t],f}},1697:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(10415),o=r(3052),i=r(83644),a=r(94341),c=r(54157);const s={border:{themeKey:"borders",transform:o.NL},borderTop:{themeKey:"borders",transform:o.NL},borderRight:{themeKey:"borders",transform:o.NL},borderBottom:{themeKey:"borders",transform:o.NL},borderLeft:{themeKey:"borders",transform:o.NL},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:o.E0},color:{themeKey:"palette",transform:a.Sh},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:a.Sh},backgroundColor:{themeKey:"palette",transform:a.Sh},p:{style:n.o3},pt:{style:n.o3},pr:{style:n.o3},pb:{style:n.o3},pl:{style:n.o3},px:{style:n.o3},py:{style:n.o3},padding:{style:n.o3},paddingTop:{style:n.o3},paddingRight:{style:n.o3},paddingBottom:{style:n.o3},paddingLeft:{style:n.o3},paddingX:{style:n.o3},paddingY:{style:n.o3},paddingInline:{style:n.o3},paddingInlineStart:{style:n.o3},paddingInlineEnd:{style:n.o3},paddingBlock:{style:n.o3},paddingBlockStart:{style:n.o3},paddingBlockEnd:{style:n.o3},m:{style:n.e6},mt:{style:n.e6},mr:{style:n.e6},mb:{style:n.e6},ml:{style:n.e6},mx:{style:n.e6},my:{style:n.e6},margin:{style:n.e6},marginTop:{style:n.e6},marginRight:{style:n.e6},marginBottom:{style:n.e6},marginLeft:{style:n.e6},marginX:{style:n.e6},marginY:{style:n.e6},marginInline:{style:n.e6},marginInlineStart:{style:n.e6},marginInlineEnd:{style:n.e6},marginBlock:{style:n.e6},marginBlockStart:{style:n.e6},marginBlockEnd:{style:n.e6},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:i.SG},rowGap:{style:i.s2},columnGap:{style:i.e$},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:c.EB},maxWidth:{style:c.kk},minWidth:{transform:c.EB},height:{transform:c.EB},maxHeight:{transform:c.EB},minHeight:{transform:c.EB},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}}},1267:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(2494),o=r(88054),i=r(33994),a=r(47921),c=r(1697);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===s(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=function(){function e(e,t,r,o){var c,s=(u(c={},e,t),u(c,"theme",r),c),l=o[e];if(!l)return u({},e,t);var f=l.cssProperty,p=void 0===f?e:f,d=l.themeKey,h=l.transform,y=l.style;if(null==t)return null;var m=(0,i.DW)(r,d)||{};return y?y(s):(0,a.k9)(s,t,(function(t){var r=(0,i.Jq)(m,h,t);return t===r&&"string"==typeof t&&(r=(0,i.Jq)(m,h,"".concat(e).concat("default"===t?"":(0,n.Z)(t)),t)),!1===p?r:u({},p,r)}))}return function t(r){var n,i=r||{},l=i.sx,f=i.theme,p=void 0===f?{}:f;if(!l)return null;var d=null!=(n=p.unstable_sxConfig)?n:c.Z;function h(r){var n=r;if("function"==typeof r)n=r(p);else if("object"!==s(r))return r;if(!n)return null;var i=(0,a.W8)(p.breakpoints),c=Object.keys(i),l=i;return Object.keys(n).forEach((function(r){var i,c="function"==typeof(i=n[r])?i(p):i;if(null!=c)if("object"===s(c))if(d[r])l=(0,o.Z)(l,e(r,c,p,d));else{var f=(0,a.k9)({theme:p},c,(function(e){return u({},r,e)}));!function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),o=new Set(n);return t.every((function(e){return o.size===Object.keys(e).length}))}(f,c)?l=(0,o.Z)(l,f):l[r]=t({sx:c,theme:p})}else l=(0,o.Z)(l,e(r,c,p,d))})),(0,a.L7)(c,l)}return Array.isArray(l)?l.map(h):h(l)}}();l.filterProps=["sx"];const f=l},74099:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(38774),o=r(61945),i=(0,n.Z)();const a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return(0,o.Z)(e)}},88464:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(29450);function o(e){var t=e.theme,r=e.name,o=e.props;return t&&t.components&&t.components[r]&&t.components[r].defaultProps?(0,n.Z)(t.components[r].defaultProps,o):o}},98654:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(88464),o=r(74099);function i(e){var t=e.props,r=e.name,i=e.defaultTheme,a=(0,o.Z)(i);return(0,n.Z)({theme:a,name:r,props:t})}},61945:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(24231);const o=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=(0,n.Z)();return r&&(e=r,0!==Object.keys(e).length)?r:t}},21142:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n,o=function(e){return e};const i=(n=o,{configure:function(e){n=e},generate:function(e){return n(e)},reset:function(){n=o}})},2494:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(12469);function o(e){if("string"!=typeof e)throw new Error((0,n.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},56e3:(e,t,r)=>{"use strict";function n(e,t,r){var n={};return Object.keys(e).forEach((function(o){n[o]=e[o].reduce((function(e,n){return n&&(e.push(t(n)),r&&r[n]&&e.push(r[n])),e}),[]).join(" ")})),n}r.d(t,{Z:()=>n})},44305:(e,t,r)=>{"use strict";r.d(t,{P:()=>i,Z:()=>c});var n=r(51730);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e){return null!==e&&"object"===o(e)&&e.constructor===Object}function a(e){if(!i(e))return e;var t={};return Object.keys(e).forEach((function(r){t[r]=a(e[r])})),t}function c(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},o=r.clone?(0,n.Z)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((function(n){"__proto__"!==n&&(i(t[n])&&n in e&&i(e[n])?o[n]=c(e[n],t[n],r):r.clone?o[n]=i(t[n])?a(t[n]):t[n]:o[n]=t[n])})),o}},12469:(e,t,r)=>{"use strict";function n(e){for(var t="https://mui.com/production-error/?code="+e,r=1;r<arguments.length;r+=1)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}r.d(t,{Z:()=>n})},5245:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(21142),o={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function i(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",i=o[t];return i?"".concat(r,"-").concat(i):"".concat(n.Z.generate(e),"-").concat(t)}},46213:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(5245);function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",o={};return t.forEach((function(t){o[t]=(0,n.Z)(e,t,r)})),o}},91136:(e,t,r)=>{"use strict";function n(e){return e&&e.ownerDocument||document}r.d(t,{Z:()=>n})},29450:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(51730);function o(e,t){var r=(0,n.Z)({},t);return Object.keys(e).forEach((function(i){if(i.toString().match(/^(components|slots)$/))r[i]=(0,n.Z)({},e[i],r[i]);else if(i.toString().match(/^(componentsProps|slotProps)$/)){var a=e[i]||{},c=t[i];r[i]={},c&&Object.keys(c)?a&&Object.keys(a)?(r[i]=(0,n.Z)({},c),Object.keys(a).forEach((function(e){r[i][e]=o(a[e],c[e])}))):r[i]=c:r[i]=a}else void 0===r[i]&&(r[i]=e[i])})),r}},37367:(e,t,r)=>{"use strict";function n(e,t){"function"==typeof e?e(t):e&&(e.current=t)}r.d(t,{Z:()=>n})},31168:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(16689);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e){var t,r,i=e.controlled,a=e.default,c=(e.name,e.state,n.useRef(void 0!==i).current),s=(t=n.useState(a),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=s[0],l=s[1];return[c?i:u,n.useCallback((function(e){c||l(e)}),[])]}},52695:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(16689);const o="undefined"!=typeof window?n.useLayoutEffect:n.useEffect},66357:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(16689),o=r(37367);function i(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.useMemo((function(){return t.every((function(e){return null==e}))?null:function(e){t.forEach((function(t){(0,o.Z)(t,e)}))}}),t)}},87655:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(16689);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=0,a=n.useId;function c(e){if(void 0!==a){var t=a();return null!=e?e:t}return function(e){var t,r,a=(t=n.useState(e),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=a[0],s=a[1],u=e||c;return n.useEffect((function(){null==c&&s("mui-".concat(i+=1))}),[c]),u}(e)}},48446:e=>{"use strict";e.exports=function(e,t){for(var r=new Array(arguments.length-1),n=0,o=2,i=!0;o<arguments.length;)r[n++]=arguments[o++];return new Promise((function(o,a){r[n]=function(e){if(i)if(i=!1,e)a(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];o.apply(null,t)}};try{e.apply(t||null,r)}catch(e){i&&(i=!1,a(e))}}))}},32129:(e,t)=>{"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var n=new Array(64),o=new Array(123),i=0;i<64;)o[n[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;r.encode=function(e,t,r){for(var o,i=null,a=[],c=0,s=0;t<r;){var u=e[t++];switch(s){case 0:a[c++]=n[u>>2],o=(3&u)<<4,s=1;break;case 1:a[c++]=n[o|u>>4],o=(15&u)<<2,s=2;break;case 2:a[c++]=n[o|u>>6],a[c++]=n[63&u],s=0}c>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),c=0)}return s&&(a[c++]=n[o],a[c++]=61,1===s&&(a[c++]=61)),i?(c&&i.push(String.fromCharCode.apply(String,a.slice(0,c))),i.join("")):String.fromCharCode.apply(String,a.slice(0,c))};var a="invalid encoding";r.decode=function(e,t,r){for(var n,i=r,c=0,s=0;s<e.length;){var u=e.charCodeAt(s++);if(61===u&&c>1)break;if(void 0===(u=o[u]))throw Error(a);switch(c){case 0:n=u,c=1;break;case 1:t[r++]=n<<2|(48&u)>>4,n=u,c=2;break;case 2:t[r++]=(15&n)<<4|(60&u)>>2,n=u,c=3;break;case 3:t[r++]=(3&n)<<6|u,c=0}}if(1===c)throw Error(a);return r-i},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},91186:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},80756:e=>{"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function o(e,n,o){t[0]=e,n[o]=r[0],n[o+1]=r[1],n[o+2]=r[2],n[o+3]=r[3]}function i(e,n,o){t[0]=e,n[o]=r[3],n[o+1]=r[2],n[o+2]=r[1],n[o+3]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function c(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?o:i,e.writeFloatBE=n?i:o,e.readFloatLE=n?a:c,e.readFloatBE=n?c:a}():function(){function t(e,t,r,n){var o=t<0?1:0;if(o&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((o<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((o<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var i=Math.floor(Math.log(t)/Math.LN2);e((o<<31|i+127<<23|8388607&Math.round(t*Math.pow(2,-i)*8388608))>>>0,r,n)}}function a(e,t,r){var n=e(t,r),o=2*(n>>31)+1,i=n>>>23&255,a=8388607&n;return 255===i?a?NaN:o*(1/0):0===i?1401298464324817e-60*o*a:o*Math.pow(2,i-150)*(a+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,n),e.readFloatLE=a.bind(null,o),e.readFloatBE=a.bind(null,i)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function o(e,n,o){t[0]=e,n[o]=r[0],n[o+1]=r[1],n[o+2]=r[2],n[o+3]=r[3],n[o+4]=r[4],n[o+5]=r[5],n[o+6]=r[6],n[o+7]=r[7]}function i(e,n,o){t[0]=e,n[o]=r[7],n[o+1]=r[6],n[o+2]=r[5],n[o+3]=r[4],n[o+4]=r[3],n[o+5]=r[2],n[o+6]=r[1],n[o+7]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function c(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?o:i,e.writeDoubleBE=n?i:o,e.readDoubleLE=n?a:c,e.readDoubleBE=n?c:a}():function(){function t(e,t,r,n,o,i){var a=n<0?1:0;if(a&&(n=-n),0===n)e(0,o,i+t),e(1/n>0?0:2147483648,o,i+r);else if(isNaN(n))e(0,o,i+t),e(2146959360,o,i+r);else if(n>17976931348623157e292)e(0,o,i+t),e((a<<31|2146435072)>>>0,o,i+r);else{var c;if(n<22250738585072014e-324)e((c=n/5e-324)>>>0,o,i+t),e((a<<31|c/4294967296)>>>0,o,i+r);else{var s=Math.floor(Math.log(n)/Math.LN2);1024===s&&(s=1023),e(4503599627370496*(c=n*Math.pow(2,-s))>>>0,o,i+t),e((a<<31|s+1023<<20|1048576*c&1048575)>>>0,o,i+r)}}}function a(e,t,r,n,o){var i=e(n,o+t),a=e(n,o+r),c=2*(a>>31)+1,s=a>>>20&2047,u=4294967296*(1048575&a)+i;return 2047===s?u?NaN:c*(1/0):0===s?5e-324*c*u:c*Math.pow(2,s-1075)*(u+4503599627370496)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,n,4,0),e.readDoubleLE=a.bind(null,o,0,4),e.readDoubleBE=a.bind(null,i,4,0)}(),e}function r(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function n(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function o(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function i(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},81578:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},49187:e=>{"use strict";e.exports=function(e,t,r){var n=r||8192,o=n>>>1,i=null,a=n;return function(r){if(r<1||r>o)return e(r);a+r>n&&(i=e(n),a=0);var c=t.call(i,a,a+=r);return 7&a&&(a=1+(7|a)),c}}},95793:(e,t)=>{"use strict";var r=t;r.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},r.read=function(e,t,r){if(r-t<1)return"";for(var n,o=null,i=[],a=0;t<r;)(n=e[t++])<128?i[a++]=n:n>191&&n<224?i[a++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,i[a++]=55296+(n>>10),i[a++]=56320+(1023&n)):i[a++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),a=0);return o?(a&&o.push(String.fromCharCode.apply(String,i.slice(0,a))),o.join("")):String.fromCharCode.apply(String,i.slice(0,a))},r.write=function(e,t,r){for(var n,o,i=r,a=0;a<e.length;++a)(n=e.charCodeAt(a))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(o=e.charCodeAt(a+1)))?(n=65536+((1023&n)<<10)+(1023&o),++a,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-i}},49493:(e,t,r)=>{"use strict";var n=r(43532),o=r(64411),i=o(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&i(e,".prototype.")>-1?o(r):r}},64411:(e,t,r)=>{"use strict";var n=r(65836),o=r(43532),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),c=o("%Reflect.apply%",!0)||n.call(a,i),s=o("%Object.getOwnPropertyDescriptor%",!0),u=o("%Object.defineProperty%",!0),l=o("%Math.max%");if(u)try{u({},"a",{value:1})}catch(e){u=null}e.exports=function(e){var t=c(n,a,arguments);return s&&u&&s(t,"length").configurable&&u(t,"length",{value:1+l(0,e.length-(arguments.length-1))}),t};var f=function(){return c(n,i,arguments)};u?u(e.exports,"apply",{value:f}):e.exports.apply=f},82566:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e){var t,r,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==n(e))if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=o(e[t]))&&(i&&(i+=" "),i+=r);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}r.d(t,{Z:()=>i});const i=function(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=o(e))&&(n&&(n+=" "),n+=t);return n}},13674:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(42801),i=r(80288),a=r(28675),c=r(92708),s=r(30907),u=r(99776),l=r(47478),f=r(65176),p=r(43532),d=r(49493),h=r(18724),y=r(23382),m=r(645),v=r(2607),b=r(46880),g=d("Date.prototype.getTime"),w=Object.getPrototypeOf,S=d("Object.prototype.toString"),O=p("%Set%",!0),P=d("Map.prototype.has",!0),k=d("Map.prototype.get",!0),_=d("Map.prototype.size",!0),E=d("Set.prototype.add",!0),j=d("Set.prototype.delete",!0),x=d("Set.prototype.has",!0),C=d("Set.prototype.size",!0);function T(e,t,r,n){for(var o,i=y(e);(o=i.next())&&!o.done;)if(A(t,o.value,r,n))return j(e,o.value),!0;return!1}function R(e){return void 0===e?null:"object"!==n(e)?"symbol"!==n(e)&&("string"!=typeof e&&"number"!=typeof e||+e==+e):void 0}function I(e,t,r,n,o,i){var a=R(r);if(null!=a)return a;var c=k(t,a),s=b({},o,{strict:!1});return!(void 0===c&&!P(t,a)||!A(n,c,s,i))&&!P(e,a)&&A(n,c,s,i)}function L(e,t,r){var n=R(r);return null!=n?n:x(t,n)&&!x(e,n)}function M(e,t,r,n,o,i){for(var a,c,s=y(e);(a=s.next())&&!a.done;)if(A(r,c=a.value,o,i)&&A(n,k(t,c),o,i))return j(e,c),!0;return!1}function A(e,t,r,p){var d=r||{};if(d.strict?a(e,t):e===t)return!0;if(f(e)!==f(t))return!1;if(!e||!t||"object"!==n(e)&&"object"!==n(t))return d.strict?a(e,t):e==t;var m,j=p.has(e),R=p.has(t);if(j&&R){if(p.get(e)===p.get(t))return!0}else m={};return j||p.set(e,m),R||p.set(t,m),function(e,t,r,a){var f,p;if(n(e)!==n(t))return!1;if(null==e||null==t)return!1;if(S(e)!==S(t))return!1;if(i(e)!==i(t))return!1;if(u(e)!==u(t))return!1;var d=e instanceof Error,m=t instanceof Error;if(d!==m)return!1;if((d||m)&&(e.name!==t.name||e.message!==t.message))return!1;var j=c(e),R=c(t);if(j!==R)return!1;if((j||R)&&(e.source!==t.source||s(e)!==s(t)))return!1;var N=l(e),U=l(t);if(N!==U)return!1;if((N||U)&&g(e)!==g(t))return!1;if(r.strict&&w&&w(e)!==w(t))return!1;if(v(e)!==v(t))return!1;var B=D(e),z=D(t);if(B!==z)return!1;if(B||z){if(e.length!==t.length)return!1;for(f=0;f<e.length;f++)if(e[f]!==t[f])return!1;return!0}if(n(e)!==n(t))return!1;var F=o(e),q=o(t);if(F.length!==q.length)return!1;for(F.sort(),q.sort(),f=F.length-1;f>=0;f--)if(F[f]!=q[f])return!1;for(f=F.length-1;f>=0;f--)if(!A(e[p=F[f]],t[p],r,a))return!1;var W=h(e),Z=h(t);return W===Z&&("Set"===W||"Set"===Z?function(e,t,r,o){if(C(e)!==C(t))return!1;for(var i,a,c,s=y(e),u=y(t);(i=s.next())&&!i.done;)if(i.value&&"object"===n(i.value))c||(c=new O),E(c,i.value);else if(!x(t,i.value)){if(r.strict)return!1;if(!L(e,t,i.value))return!1;c||(c=new O),E(c,i.value)}if(c){for(;(a=u.next())&&!a.done;)if(a.value&&"object"===n(a.value)){if(!T(c,a.value,r.strict,o))return!1}else if(!r.strict&&!x(e,a.value)&&!T(c,a.value,r.strict,o))return!1;return 0===C(c)}return!0}(e,t,r,a):"Map"!==W||function(e,t,r,o){if(_(e)!==_(t))return!1;for(var i,a,c,s,u,l,f=y(e),p=y(t);(i=f.next())&&!i.done;)if(s=i.value[0],u=i.value[1],s&&"object"===n(s))c||(c=new O),E(c,s);else if(void 0===(l=k(t,s))&&!P(t,s)||!A(u,l,r,o)){if(r.strict)return!1;if(!I(e,t,s,u,r,o))return!1;c||(c=new O),E(c,s)}if(c){for(;(a=p.next())&&!a.done;)if(s=a.value[0],l=a.value[1],s&&"object"===n(s)){if(!M(c,e,s,l,r,o))return!1}else if(!(r.strict||e.has(s)&&A(k(e,s),l,r,o)||M(c,e,s,l,b({},r,{strict:!1}),o)))return!1;return 0===C(c)}return!0}(e,t,r,a))}(e,t,d,p)}function D(e){return!(!e||"object"!==n(e)||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0]||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))}e.exports=function(e,t,r){return A(e,t,r,m())}},10635:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(42801),i="function"==typeof Symbol&&"symbol"===n(Symbol("foo")),a=Object.prototype.toString,c=Array.prototype.concat,s=Object.defineProperty,u=s&&function(){var e={};try{for(var t in s(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),l=function(e,t,r,n){var o;(!(t in e)||"function"==typeof(o=n)&&"[object Function]"===a.call(o)&&n())&&(u?s(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r)},f=function(e,t){var r=arguments.length>2?arguments[2]:{},n=o(t);i&&(n=c.call(n,Object.getOwnPropertySymbols(t)));for(var a=0;a<n.length;a+=1)l(e,n[a],t[n[a]],r[n[a]])};f.supportsDescriptors=!!u,e.exports=f},40063:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var r,n="object"===("undefined"==typeof Reflect?"undefined":t(Reflect))?Reflect:null,o=n&&"function"==typeof n.apply?n.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};r=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(r,n){function o(r){e.removeListener(t,i),n(r)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),r([].slice.call(arguments))}m(e,t,i,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&m(e,"error",t,{once:!0})}(e,o)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+t(e))}function u(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function l(e,t,r,n){var o,i,a,c;if(s(r),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),a=i[t]),void 0===a)a=i[t]=r,++e._eventsCount;else if("function"==typeof a?a=i[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(o=u(e))>0&&a.length>o&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,c=l,console&&console.warn&&console.warn(c)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=f.bind(n);return o.listener=r,n.wrapFn=o,o}function d(e,t,r){var n=e._events;if(void 0===n)return[];var o=n[t];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(o):y(o,o.length)}function h(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function y(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function m(e,r,n,o){if("function"==typeof e.on)o.once?e.once(r,n):e.on(r,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+t(e));e.addEventListener(r,(function t(i){o.once&&e.removeEventListener(r,t),n(i)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var c=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw c.context=a,c}var s=i[e];if(void 0===s)return!1;if("function"==typeof s)o(s,this,t);else{var u=s.length,l=y(s,u);for(r=0;r<u;++r)o(l[r],this,t)}return!0},a.prototype.addListener=function(e,t){return l(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return l(this,e,t,!0)},a.prototype.once=function(e,t){return s(t),this.on(e,p(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,p(this,e,t)),this},a.prototype.removeListener=function(e,t){var r,n,o,i,a;if(s(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){a=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,o),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var o,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(o=i[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},a.prototype.listeners=function(e){return d(this,e,!0)},a.prototype.rawListeners=function(e){return d(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},a.prototype.listenerCount=h,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},77758:e=>{var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString;e.exports=function(e,n,o){if("[object Function]"!==r.call(n))throw new TypeError("iterator must be a function");var i=e.length;if(i===+i)for(var a=0;a<i;a++)n.call(o,e[a],a,e);else for(var c in e)t.call(e,c)&&n.call(o,e[c],c,e)}},4237:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,n=Object.prototype.toString,o="[object Function]";e.exports=function(e){var i=this;if("function"!=typeof i||n.call(i)!==o)throw new TypeError(t+i);for(var a,c=r.call(arguments,1),s=Math.max(0,i.length-c.length),u=[],l=0;l<s;l++)u.push("$"+l);if(a=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof a){var t=i.apply(this,c.concat(r.call(arguments)));return Object(t)===t?t:this}return i.apply(e,c.concat(r.call(arguments)))})),i.prototype){var f=function(){};f.prototype=i.prototype,a.prototype=new f,f.prototype=null}return a}},65836:(e,t,r)=>{"use strict";var n=r(4237);e.exports=Function.prototype.bind||n},81091:e=>{"use strict";var t=function(){return"string"==typeof function(){}.name},r=Object.getOwnPropertyDescriptor;if(r)try{r([],"length")}catch(e){r=null}t.functionsHaveConfigurableNames=function(){return t()&&r&&!!r((function(){}),"name").configurable};var n=Function.prototype.bind;t.boundFunctionsHaveNames=function(){return t()&&"function"==typeof n&&""!==function(){}.bind().name},e.exports=t},43532:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o,i=SyntaxError,a=Function,c=TypeError,s=function(e){try{return a('"use strict"; return ('+e+").constructor;")()}catch(e){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(e){u=null}var l=function(){throw new c},f=u?function(){try{return l}catch(e){try{return u(arguments,"callee").get}catch(e){return l}}}():l,p=r(87285)(),d=Object.getPrototypeOf||function(e){return e.__proto__},h={},y="undefined"==typeof Uint8Array?o:d(Uint8Array),m={"%AggregateError%":"undefined"==typeof AggregateError?o:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?o:ArrayBuffer,"%ArrayIteratorPrototype%":p?d([][Symbol.iterator]()):o,"%AsyncFromSyncIteratorPrototype%":o,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"==typeof Atomics?o:Atomics,"%BigInt%":"undefined"==typeof BigInt?o:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?o:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?o:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?o:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?o:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":h,"%Int8Array%":"undefined"==typeof Int8Array?o:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?o:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?o:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p?d(d([][Symbol.iterator]())):o,"%JSON%":"object"===("undefined"==typeof JSON?"undefined":n(JSON))?JSON:o,"%Map%":"undefined"==typeof Map?o:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&p?d((new Map)[Symbol.iterator]()):o,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?o:Promise,"%Proxy%":"undefined"==typeof Proxy?o:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?o:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?o:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&p?d((new Set)[Symbol.iterator]()):o,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?o:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p?d(""[Symbol.iterator]()):o,"%Symbol%":p?Symbol:o,"%SyntaxError%":i,"%ThrowTypeError%":f,"%TypedArray%":y,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?o:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?o:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?o:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?o:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?o:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?o:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?o:WeakSet},v=function e(t){var r;if("%AsyncFunction%"===t)r=s("async function () {}");else if("%GeneratorFunction%"===t)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=s("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&(r=d(o.prototype))}return m[t]=r,r},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},g=r(65836),w=r(19392),S=g.call(Function.call,Array.prototype.concat),O=g.call(Function.apply,Array.prototype.splice),P=g.call(Function.call,String.prototype.replace),k=g.call(Function.call,String.prototype.slice),_=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,E=/\\(\\)?/g,j=function(e){var t=k(e,0,1),r=k(e,-1);if("%"===t&&"%"!==r)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var n=[];return P(e,_,(function(e,t,r,o){n[n.length]=r?P(o,E,"$1"):t||e})),n},x=function(e,t){var r,n=e;if(w(b,n)&&(n="%"+(r=b[n])[0]+"%"),w(m,n)){var o=m[n];if(o===h&&(o=v(n)),void 0===o&&!t)throw new c("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new c('"allowMissing" argument must be a boolean');var r=j(e),n=r.length>0?r[0]:"",o=x("%"+n+"%",t),a=o.name,s=o.value,l=!1,f=o.alias;f&&(n=f[0],O(r,S([0,1],f)));for(var p=1,d=!0;p<r.length;p+=1){var h=r[p],y=k(h,0,1),v=k(h,-1);if(('"'===y||"'"===y||"`"===y||'"'===v||"'"===v||"`"===v)&&y!==v)throw new i("property names with quotes must have matching quotes");if("constructor"!==h&&d||(l=!0),w(m,a="%"+(n+="."+h)+"%"))s=m[a];else if(null!=s){if(!(h in s)){if(!t)throw new c("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&p+1>=r.length){var b=u(s,h);s=(d=!!b)&&"get"in b&&!("originalValue"in b.get)?b.get:s[h]}else d=w(s,h),s=s[h];d&&!l&&(m[a]=s)}}return s}},87285:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o="undefined"!=typeof Symbol&&Symbol,i=r(2112);e.exports=function(){return"function"==typeof o&&"function"==typeof Symbol&&"symbol"===n(o("foo"))&&"symbol"===n(Symbol("bar"))&&i()}},2112:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"===t(Symbol.iterator))return!0;var e={},r=Symbol("test"),n=Object(r);if("string"==typeof r)return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(r in e[r]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var o=Object.getOwnPropertySymbols(e);if(1!==o.length||o[0]!==r)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,r);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},19392:(e,t,r)=>{"use strict";var n=r(65836);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},80288:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o="function"==typeof Symbol&&"symbol"===n(Symbol.toStringTag),i=r(49493)("Object.prototype.toString"),a=function(e){return!(o&&e&&"object"===n(e)&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},c=function(e){return!!a(e)||null!==e&&"object"===n(e)&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},s=function(){return a(arguments)}();a.isLegacyArguments=c,e.exports=s?a:c},39518:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}if("function"==typeof BigInt){var r=BigInt.prototype.valueOf;e.exports=function(e){return null!=e&&"boolean"!=typeof e&&"string"!=typeof e&&"number"!=typeof e&&"symbol"!==t(e)&&"function"!=typeof e&&("bigint"==typeof e||function(e){try{return r.call(e),!0}catch(e){}return!1}(e))}}else e.exports=function(e){return!1}},30293:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(49493),i=o("Boolean.prototype.toString"),a=o("Object.prototype.toString"),c="function"==typeof Symbol&&!!Symbol.toStringTag;e.exports=function(e){return"boolean"==typeof e||null!==e&&"object"===n(e)&&(c&&Symbol.toStringTag in e?function(e){try{return i(e),!0}catch(e){return!1}}(e):"[object Boolean]"===a(e))}},47478:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var r=Date.prototype.getDay,n=Object.prototype.toString,o="function"==typeof Symbol&&!!Symbol.toStringTag;e.exports=function(e){return"object"===t(e)&&null!==e&&(o?function(e){try{return r.call(e),!0}catch(e){return!1}}(e):"[object Date]"===n.call(e))}},33410:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var r,n="function"==typeof Map&&Map.prototype?Map:null,o="function"==typeof Set&&Set.prototype?Set:null;n||(r=function(e){return!1});var i=n?Map.prototype.has:null,a=o?Set.prototype.has:null;r||i||(r=function(e){return!1}),e.exports=r||function(e){if(!e||"object"!==t(e))return!1;try{if(i.call(e),a)try{a.call(e)}catch(e){return!0}return e instanceof n}catch(e){}return!1}},33524:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var r=Number.prototype.toString,n=Object.prototype.toString,o="function"==typeof Symbol&&!!Symbol.toStringTag;e.exports=function(e){return"number"==typeof e||"object"===t(e)&&(o?function(e){try{return r.call(e),!0}catch(e){return!1}}(e):"[object Number]"===n.call(e))}},92708:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o,i,a,c,s=r(49493),u=r(2112)()&&!!Symbol.toStringTag;if(u){o=s("Object.prototype.hasOwnProperty"),i=s("RegExp.prototype.exec"),a={};var l=function(){throw a};c={toString:l,valueOf:l},"symbol"===n(Symbol.toPrimitive)&&(c[Symbol.toPrimitive]=l)}var f=s("Object.prototype.toString"),p=Object.getOwnPropertyDescriptor;e.exports=u?function(e){if(!e||"object"!==n(e))return!1;var t=p(e,"lastIndex");if(!t||!o(t,"value"))return!1;try{i(e,c)}catch(e){return e===a}}:function(e){return!(!e||"object"!==n(e)&&"function"!=typeof e)&&"[object RegExp]"===f(e)}},32454:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var r,n="function"==typeof Map&&Map.prototype?Map:null,o="function"==typeof Set&&Set.prototype?Set:null;o||(r=function(e){return!1});var i=n?Map.prototype.has:null,a=o?Set.prototype.has:null;r||a||(r=function(e){return!1}),e.exports=r||function(e){if(!e||"object"!==t(e))return!1;try{if(a.call(e),i)try{i.call(e)}catch(e){return!0}return e instanceof o}catch(e){}return!1}},50434:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var r=String.prototype.valueOf,n=Object.prototype.toString,o="function"==typeof Symbol&&!!Symbol.toStringTag;e.exports=function(e){return"string"==typeof e||"object"===t(e)&&(o?function(e){try{return r.call(e),!0}catch(e){return!1}}(e):"[object String]"===n.call(e))}},57764:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=Object.prototype.toString;if(r(87285)()){var i=Symbol.prototype.toString,a=/^Symbol\(.*\)$/;e.exports=function(e){if("symbol"===n(e))return!0;if("[object Symbol]"!==o.call(e))return!1;try{return function(e){return"symbol"===n(e.valueOf())&&a.test(i.call(e))}(e)}catch(e){return!1}}}else e.exports=function(e){return!1}},18215:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(77758),i=r(93167),a=r(49493),c=a("Object.prototype.toString"),s=r(87285)()&&"symbol"===n(Symbol.toStringTag),u=i(),l=a("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},f=a("String.prototype.slice"),p={},d=r(16992),h=Object.getPrototypeOf;s&&d&&h&&o(u,(function(e){var t=new r.g[e];if(!(Symbol.toStringTag in t))throw new EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var n=h(t),o=d(n,Symbol.toStringTag);if(!o){var i=h(n);o=d(i,Symbol.toStringTag)}p[e]=o.get})),e.exports=function(e){if(!e||"object"!==n(e))return!1;if(!s){var t=f(c(e),8,-1);return l(u,t)>-1}return!!d&&function(e){var t=!1;return o(p,(function(r,n){if(!t)try{t=r.call(e)===n}catch(e){}})),t}(e)}},30464:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var r,n="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,o="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;n||(r=function(e){return!1});var i=n?n.prototype.has:null,a=o?o.prototype.has:null;r||i||(r=function(e){return!1}),e.exports=r||function(e){if(!e||"object"!==t(e))return!1;try{if(i.call(e,i),a)try{a.call(e,a)}catch(e){return!0}return e instanceof n}catch(e){}return!1}},77799:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(43532),i=r(49493),a=o("%WeakSet%",!0),c=i("WeakSet.prototype.has",!0);if(c){var s=i("WeakMap.prototype.has",!0);e.exports=function(e){if(!e||"object"!==n(e))return!1;try{if(c(e,c),s)try{s(e,s)}catch(e){return!0}return e instanceof a}catch(e){}return!1}}else e.exports=function(e){return!1}},99776:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},36754:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){o=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),c=new j(n||[]);return i(a,"_invoke",{value:P(e,r,c)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var d={};function h(){}function y(){}function m(){}var v={};l(v,c,(function(){return this}));var b=Object.getPrototypeOf,g=b&&b(b(x([])));g&&g!==t&&r.call(g,c)&&(v=g);var w=m.prototype=h.prototype=Object.create(v);function S(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function o(i,a,c,s){var u=p(e[i],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(f).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function P(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=p(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function k(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=p(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function x(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return y.prototype=m,i(w,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:y,configurable:!0}),y.displayName=l(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},S(O.prototype),l(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(w),l(w,u,"Generator"),l(w,c,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function i(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}var a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function c(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,c)}s((n=n.apply(e,t||[])).next())}))},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WSSignalClient=void 0;var s=c(r(65657));r(48750);var u=r(71970),l=r(36917),f=r(70044),p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isConnected=!1,this.useJSON=t}var t,r;return t=e,r=[{key:"join",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;return a(this,void 0,void 0,o().mark((function i(){var a;return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.connect(e,t,{usePlanB:r,autoSubscribe:null==n?void 0:n.autoSubscribe});case 2:return a=o.sent,o.abrupt("return",a);case 4:case"end":return o.stop()}}),i,this)})))}},{key:"reconnect",value:function(e,t){return a(this,void 0,void 0,o().mark((function r(){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.connect(e,t,{reconnect:!0});case 2:case"end":return r.stop()}}),r,this)})))}},{key:"connect",value:function(e,t,r){var i=this;e+="/rtc";var c="?access_token=".concat(t,"&protocol=").concat(f.protocolVersion);return r.reconnect&&(c+="&reconnect=1"),r.usePlanB&&(c+="&planb=1"),void 0!==r.autoSubscribe&&(c+="&auto_subscribe=".concat(r.autoSubscribe?"1":"0")),new Promise((function(t,f){s.default.debug("connecting to",e+c),i.ws=void 0;var p=new WebSocket(e+c);p.binaryType="arraybuffer",p.onerror=function(t){return a(i,void 0,void 0,o().mark((function r(){var n,i;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.ws){r.next=19;break}return r.prev=1,r.next=4,fetch("http".concat(e.substr(2),"/validate").concat(c));case 4:if((n=r.sent).ok){r.next=12;break}return r.next=8,n.text();case 8:i=r.sent,f(new l.ConnectionError(i)),r.next=13;break;case 12:f(new l.ConnectionError("Internal error"));case 13:r.next=18;break;case 15:r.prev=15,r.t0=r.catch(1),f(new l.ConnectionError(r.t0));case 18:return r.abrupt("return");case 19:this.handleWSError(t);case 20:case"end":return r.stop()}}),r,this,[[1,15]])})))},p.onopen=function(){i.ws=p,r.reconnect&&(i.isConnected=!0,t())},p.onmessage=function(e){var r;if("string"==typeof e.data){var o=JSON.parse(e.data);r=u.SignalResponse.fromJSON(o)}else{if(!(e.data instanceof ArrayBuffer))return void s.default.error("could not decode websocket message",n(e.data));r=u.SignalResponse.decode(new Uint8Array(e.data))}i.isConnected?i.handleSignalResponse(r):r.join?(i.isConnected=!0,t(r.join)):f(new l.ConnectionError("did not receive join response"))},p.onclose=function(e){i.isConnected&&(s.default.debug("websocket connection closed",e.reason),i.isConnected=!1,i.onClose&&i.onClose(e.reason))}}))}},{key:"close",value:function(){var e;this.isConnected=!1,this.ws&&(this.ws.onclose=null),null===(e=this.ws)||void 0===e||e.close()}},{key:"sendOffer",value:function(e){s.default.debug("sending offer",e),this.sendRequest({offer:h(e)})}},{key:"sendAnswer",value:function(e){s.default.debug("sending answer"),this.sendRequest({answer:h(e)})}},{key:"sendIceCandidate",value:function(e,t){s.default.debug("sending ice candidate",e),this.sendRequest({trickle:{candidateInit:JSON.stringify(e),target:t}})}},{key:"sendMuteTrack",value:function(e,t){this.sendRequest({mute:{sid:e,muted:t}})}},{key:"sendAddTrack",value:function(e,t,r,n){var o={cid:e,name:t,type:r};n&&(o.width=n.width,o.height=n.height),this.sendRequest({addTrack:u.AddTrackRequest.fromPartial(o)})}},{key:"sendUpdateTrackSettings",value:function(e){this.sendRequest({trackSetting:e})}},{key:"sendUpdateSubscription",value:function(e){this.sendRequest({subscription:e})}},{key:"sendSetSimulcastLayers",value:function(e,t){this.sendRequest({simulcast:{trackSid:e,layers:t}})}},{key:"sendLeave",value:function(){this.sendRequest(u.SignalRequest.fromPartial({leave:{}}))}},{key:"sendRequest",value:function(e){if(!this.ws)throw new l.ConnectionError("cannot send signal request before connected");this.useJSON?this.ws.send(JSON.stringify(u.SignalRequest.toJSON(e))):this.ws.send(u.SignalRequest.encode(e).finish())}},{key:"handleSignalResponse",value:function(e){if(e.answer){var t=d(e.answer);this.onAnswer&&this.onAnswer(t)}else if(e.offer){var r=d(e.offer);this.onOffer&&this.onOffer(r)}else if(e.trickle){var n=JSON.parse(e.trickle.candidateInit);this.onTrickle&&this.onTrickle(n,e.trickle.target)}else e.update?this.onParticipantUpdate&&this.onParticipantUpdate(e.update.participants):e.trackPublished?this.onLocalTrackPublished&&this.onLocalTrackPublished(e.trackPublished):e.speaker?this.onActiveSpeakersChanged&&this.onActiveSpeakersChanged(e.speaker.speakers):e.leave?this.onLeave&&this.onLeave():s.default.warn("unsupported message",e)}},{key:"handleWSError",value:function(e){s.default.error("websocket error",e)}}],r&&i(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function d(e){var t={type:"offer",sdp:e.sdp};switch(e.type){case"answer":case"offer":case"pranswer":case"rollback":t.type=e.type}return t}function h(e){return{sdp:e.sdp,type:e.type}}t.WSSignalClient=p},9516:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.VideoQuality=t.TrackPublication=t.RemoteTrackPublication=t.RemoteVideoTrack=t.RemoteAudioTrack=t.LocalTrackPublication=t.LocalTrack=t.LocalVideoTrack=t.LocalAudioTrack=t.LocalParticipant=t.RemoteParticipant=t.Participant=t.DataPacket_Kind=t.RoomState=t.Room=void 0;var s=r(71970);Object.defineProperty(t,"DataPacket_Kind",{enumerable:!0,get:function(){return s.DataPacket_Kind}}),Object.defineProperty(t,"VideoQuality",{enumerable:!0,get:function(){return s.VideoQuality}});var u=c(r(24350));t.LocalParticipant=u.default;var l=c(r(3410));t.Participant=l.default;var f=c(r(46422));t.RemoteParticipant=f.default;var p=i(r(43140));t.Room=p.default,Object.defineProperty(t,"RoomState",{enumerable:!0,get:function(){return p.RoomState}});var d=c(r(80198));t.LocalAudioTrack=d.default;var h=c(r(64914));t.LocalTrack=h.default;var y=c(r(55690));t.LocalTrackPublication=y.default;var m=c(r(86662));t.LocalVideoTrack=m.default;var v=c(r(76882));t.RemoteAudioTrack=v.default;var b=c(r(90823));t.RemoteTrackPublication=b.default;var g=c(r(21233));t.RemoteVideoTrack=g.default;var w=c(r(18764));t.TrackPublication=w.default,a(r(30752),t),a(r(65643),t),a(r(36917),t),a(r(38390),t),a(r(47577),t),a(r(97370),t),a(r(55409),t),a(r(70044),t)},30752:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){o=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),c=new j(n||[]);return i(a,"_invoke",{value:P(e,r,c)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var d={};function h(){}function y(){}function m(){}var v={};l(v,c,(function(){return this}));var b=Object.getPrototypeOf,g=b&&b(b(x([])));g&&g!==t&&r.call(g,c)&&(v=g);var w=m.prototype=h.prototype=Object.create(v);function S(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function o(i,a,c,s){var u=p(e[i],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(f).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function P(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=p(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function k(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=p(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function x(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return y.prototype=m,i(w,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:y,configurable:!0}),y.displayName=l(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},S(O.prototype),l(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(w),l(w,u,"Generator"),l(w,c,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}var i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function c(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,c)}s((n=n.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createLocalTracks=t.createLocalAudioTrack=t.createLocalVideoTrack=t.connect=t.version=void 0;var c=a(r(65657)),s=r(36754),u=r(65643),l=r(36917),f=a(r(43140)),p=a(r(80198)),d=a(r(86662)),h=r(97370),y=r(70044);function m(e){return i(this,void 0,void 0,o().mark((function t(){var r,i,a,c;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={},e||(e={}),void 0===e.audio&&(e.audio={}),i=Object.assign({},u.VideoPresets.qhd.resolution),"object"===n(e.video)&&e.video&&(Object.assign(i,e.video),e.video.resolution&&Object.assign(i,e.video.resolution)),!1===e.video?r.video=!1:r.video=i,r.audio=e.audio,t.next=9,navigator.mediaDevices.getUserMedia(r);case 9:return a=t.sent,c=[],a.getTracks().forEach((function(t){var r="audio"===t.kind?e.audio:e.video;"boolean"!=typeof r&&r||(r={}),c.push(v(t,r))})),t.abrupt("return",c);case 13:case"end":return t.stop()}}),t)})))}function v(e,t){var r;switch(t instanceof Object&&t.name&&(r=t.name),e.kind){case"audio":return new p.default(e,r,t);case"video":return new d.default(e,r,t);default:throw new l.TrackInvalidError("unsupported track type: ".concat(e.kind))}}Object.defineProperty(t,"version",{enumerable:!0,get:function(){return y.version}}),t.connect=function(e,t,r){return i(this,void 0,void 0,o().mark((function n(){var i,a,l,p,d,y,v;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r||(r={}),r.logLevel||(r.logLevel=u.LogLevel.info),void 0===r.audio&&(r.audio=!1),void 0===r.video&&(r.video=!1),c.default.setLevel(r.logLevel),i={},r.iceServers&&(i.iceServers=r.iceServers),a=new s.WSSignalClient,l=new f.default(a,i),n.next=11,l.connect(e,t,{autoSubscribe:null==r?void 0:r.autoSubscribe});case 11:if(p=r.tracks){n.next=17;break}if(!r.audio&&!r.video){n.next=17;break}return n.next=16,m({audio:r.audio,video:r.video});case 16:p=n.sent;case 17:if(!p){n.next=28;break}d=0;case 19:if(!(d<p.length)){n.next=28;break}return y=p[d],v={},y.kind===h.Track.Kind.Video.toString()||y.kind===h.Track.Kind.Video?(v.videoCodec=null==r?void 0:r.videoCodec,v.videoEncoding=null==r?void 0:r.videoEncoding,v.simulcast=null==r?void 0:r.simulcast):y.kind!==h.Track.Kind.Audio.toString()&&y.kind!==h.Track.Kind.Audio||(v.audioBitrate=r.audioBitrate),n.next=25,l.localParticipant.publishTrack(y,v);case 25:d+=1,n.next=19;break;case 28:return n.abrupt("return",l);case 29:case"end":return n.stop()}}),n)})))},t.createLocalVideoTrack=function(e){return i(this,void 0,void 0,o().mark((function t(){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m({audio:!1,video:e});case 2:return r=t.sent,t.abrupt("return",r[0]);case 4:case"end":return t.stop()}}),t)})))},t.createLocalAudioTrack=function(e){return i(this,void 0,void 0,o().mark((function t(){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m({audio:e,video:!1});case 2:return r=t.sent,t.abrupt("return",r[0]);case 4:case"end":return t.stop()}}),t)})))},t.createLocalTracks=m},65643:(e,t)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===r(i)?i:String(i)),o)}var i}var o;Object.defineProperty(t,"__esModule",{value:!0}),t.VideoPresets43=t.VideoPresets=t.AudioPresets=t.VideoPreset=t.LogLevel=void 0,(o=t.LogLevel||(t.LogLevel={})).trace="trace",o.debug="debug",o.info="info",o.warn="warn",o.error="error",o.silent="silent";var i,a=function(){function e(t,r,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.width=t,this.height=r,this.encoding={maxBitrate:n,maxFramerate:o}}var t,r;return t=e,(r=[{key:"resolution",get:function(){return{width:{ideal:this.width},height:{ideal:this.height},frameRate:{ideal:this.encoding.maxFramerate}}}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.VideoPreset=a,(i=t.AudioPresets||(t.AudioPresets={})).telephone={maxBitrate:12e3},i.speech={maxBitrate:2e4},i.music={maxBitrate:32e3},t.VideoPresets={qvga:new a(320,180,125e3,15),vga:new a(640,360,4e5,30),qhd:new a(960,540,8e5,30),hd:new a(1280,720,25e5,30),fhd:new a(1920,1080,4e6,30)},t.VideoPresets43={qvga:new a(240,180,1e5,15),vga:new a(480,360,32e4,30),qhd:new a(720,540,64e4,30),hd:new a(960,720,2e6,30),fhd:new a(1440,1080,32e5,30)}},5501:function(e,t,r){"use strict";function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){s=!0,a=e},f:function(){try{c||null==r.return||r.return()}finally{if(s)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DataMessage=t.TrackInfo=t.ParticipantInfo=t.Codec=t.Room=t.participantInfo_StateToJSON=t.participantInfo_StateFromJSON=t.ParticipantInfo_State=t.trackTypeToJSON=t.trackTypeFromJSON=t.TrackType=t.protobufPackage=void 0;var a,c,s=i(r(15626)),u=i(r(33870));function l(e){switch(e){case 0:case"AUDIO":return a.AUDIO;case 1:case"VIDEO":return a.VIDEO;case 2:case"DATA":return a.DATA;default:return a.UNRECOGNIZED}}function f(e){switch(e){case a.AUDIO:return"AUDIO";case a.VIDEO:return"VIDEO";case a.DATA:return"DATA";default:return"UNKNOWN"}}function p(e){switch(e){case 0:case"JOINING":return c.JOINING;case 1:case"JOINED":return c.JOINED;case 2:case"ACTIVE":return c.ACTIVE;case 3:case"DISCONNECTED":return c.DISCONNECTED;default:return c.UNRECOGNIZED}}function d(e){switch(e){case c.JOINING:return"JOINING";case c.JOINED:return"JOINED";case c.ACTIVE:return"ACTIVE";case c.DISCONNECTED:return"DISCONNECTED";default:return"UNKNOWN"}}t.protobufPackage="livekit",function(e){e[e.AUDIO=0]="AUDIO",e[e.VIDEO=1]="VIDEO",e[e.DATA=2]="DATA",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(a=t.TrackType||(t.TrackType={})),t.trackTypeFromJSON=l,t.trackTypeToJSON=f,function(e){e[e.JOINING=0]="JOINING",e[e.JOINED=1]="JOINED",e[e.ACTIVE=2]="ACTIVE",e[e.DISCONNECTED=3]="DISCONNECTED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(c=t.ParticipantInfo_State||(t.ParticipantInfo_State={})),t.participantInfo_StateFromJSON=p,t.participantInfo_StateToJSON=d;var h={sid:"",name:"",emptyTimeout:0,maxParticipants:0,creationTime:0,turnPassword:""};t.Room={encode:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.default.Writer.create();""!==e.sid&&r.uint32(10).string(e.sid),""!==e.name&&r.uint32(18).string(e.name),0!==e.emptyTimeout&&r.uint32(24).uint32(e.emptyTimeout),0!==e.maxParticipants&&r.uint32(32).uint32(e.maxParticipants),0!==e.creationTime&&r.uint32(40).int64(e.creationTime),""!==e.turnPassword&&r.uint32(50).string(e.turnPassword);var o,i=n(e.enabledCodecs);try{for(i.s();!(o=i.n()).done;){var a=o.value;t.Codec.encode(a,r.uint32(58).fork()).ldelim()}}catch(e){i.e(e)}finally{i.f()}return r},decode:function(e,r){var n=e instanceof u.default.Reader?e:new u.default.Reader(e),o=void 0===r?n.len:n.pos+r,i=Object.assign({},h);for(i.enabledCodecs=[];n.pos<o;){var a=n.uint32();switch(a>>>3){case 1:i.sid=n.string();break;case 2:i.name=n.string();break;case 3:i.emptyTimeout=n.uint32();break;case 4:i.maxParticipants=n.uint32();break;case 5:i.creationTime=O(n.int64());break;case 6:i.turnPassword=n.string();break;case 7:i.enabledCodecs.push(t.Codec.decode(n,n.uint32()));break;default:n.skipType(7&a)}}return i},fromJSON:function(e){var r=Object.assign({},h);if(r.enabledCodecs=[],void 0!==e.sid&&null!==e.sid?r.sid=String(e.sid):r.sid="",void 0!==e.name&&null!==e.name?r.name=String(e.name):r.name="",void 0!==e.emptyTimeout&&null!==e.emptyTimeout?r.emptyTimeout=Number(e.emptyTimeout):r.emptyTimeout=0,void 0!==e.maxParticipants&&null!==e.maxParticipants?r.maxParticipants=Number(e.maxParticipants):r.maxParticipants=0,void 0!==e.creationTime&&null!==e.creationTime?r.creationTime=Number(e.creationTime):r.creationTime=0,void 0!==e.turnPassword&&null!==e.turnPassword?r.turnPassword=String(e.turnPassword):r.turnPassword="",void 0!==e.enabledCodecs&&null!==e.enabledCodecs){var o,i=n(e.enabledCodecs);try{for(i.s();!(o=i.n()).done;){var a=o.value;r.enabledCodecs.push(t.Codec.fromJSON(a))}}catch(e){i.e(e)}finally{i.f()}}return r},toJSON:function(e){var r={};return void 0!==e.sid&&(r.sid=e.sid),void 0!==e.name&&(r.name=e.name),void 0!==e.emptyTimeout&&(r.emptyTimeout=e.emptyTimeout),void 0!==e.maxParticipants&&(r.maxParticipants=e.maxParticipants),void 0!==e.creationTime&&(r.creationTime=e.creationTime),void 0!==e.turnPassword&&(r.turnPassword=e.turnPassword),e.enabledCodecs?r.enabledCodecs=e.enabledCodecs.map((function(e){return e?t.Codec.toJSON(e):void 0})):r.enabledCodecs=[],r},fromPartial:function(e){var r=Object.assign({},h);if(r.enabledCodecs=[],void 0!==e.sid&&null!==e.sid?r.sid=e.sid:r.sid="",void 0!==e.name&&null!==e.name?r.name=e.name:r.name="",void 0!==e.emptyTimeout&&null!==e.emptyTimeout?r.emptyTimeout=e.emptyTimeout:r.emptyTimeout=0,void 0!==e.maxParticipants&&null!==e.maxParticipants?r.maxParticipants=e.maxParticipants:r.maxParticipants=0,void 0!==e.creationTime&&null!==e.creationTime?r.creationTime=e.creationTime:r.creationTime=0,void 0!==e.turnPassword&&null!==e.turnPassword?r.turnPassword=e.turnPassword:r.turnPassword="",void 0!==e.enabledCodecs&&null!==e.enabledCodecs){var o,i=n(e.enabledCodecs);try{for(i.s();!(o=i.n()).done;){var a=o.value;r.enabledCodecs.push(t.Codec.fromPartial(a))}}catch(e){i.e(e)}finally{i.f()}}return r}};var y={mime:"",fmtpLine:""};t.Codec={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.default.Writer.create();return""!==e.mime&&t.uint32(10).string(e.mime),""!==e.fmtpLine&&t.uint32(18).string(e.fmtpLine),t},decode:function(e,t){for(var r=e instanceof u.default.Reader?e:new u.default.Reader(e),n=void 0===t?r.len:r.pos+t,o=Object.assign({},y);r.pos<n;){var i=r.uint32();switch(i>>>3){case 1:o.mime=r.string();break;case 2:o.fmtpLine=r.string();break;default:r.skipType(7&i)}}return o},fromJSON:function(e){var t=Object.assign({},y);return void 0!==e.mime&&null!==e.mime?t.mime=String(e.mime):t.mime="",void 0!==e.fmtpLine&&null!==e.fmtpLine?t.fmtpLine=String(e.fmtpLine):t.fmtpLine="",t},toJSON:function(e){var t={};return void 0!==e.mime&&(t.mime=e.mime),void 0!==e.fmtpLine&&(t.fmtpLine=e.fmtpLine),t},fromPartial:function(e){var t=Object.assign({},y);return void 0!==e.mime&&null!==e.mime?t.mime=e.mime:t.mime="",void 0!==e.fmtpLine&&null!==e.fmtpLine?t.fmtpLine=e.fmtpLine:t.fmtpLine="",t}};var m={sid:"",identity:"",state:0,metadata:"",joinedAt:0};t.ParticipantInfo={encode:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.default.Writer.create();""!==e.sid&&r.uint32(10).string(e.sid),""!==e.identity&&r.uint32(18).string(e.identity),0!==e.state&&r.uint32(24).int32(e.state);var o,i=n(e.tracks);try{for(i.s();!(o=i.n()).done;){var a=o.value;t.TrackInfo.encode(a,r.uint32(34).fork()).ldelim()}}catch(e){i.e(e)}finally{i.f()}return""!==e.metadata&&r.uint32(42).string(e.metadata),0!==e.joinedAt&&r.uint32(48).int64(e.joinedAt),r},decode:function(e,r){var n=e instanceof u.default.Reader?e:new u.default.Reader(e),o=void 0===r?n.len:n.pos+r,i=Object.assign({},m);for(i.tracks=[];n.pos<o;){var a=n.uint32();switch(a>>>3){case 1:i.sid=n.string();break;case 2:i.identity=n.string();break;case 3:i.state=n.int32();break;case 4:i.tracks.push(t.TrackInfo.decode(n,n.uint32()));break;case 5:i.metadata=n.string();break;case 6:i.joinedAt=O(n.int64());break;default:n.skipType(7&a)}}return i},fromJSON:function(e){var r=Object.assign({},m);if(r.tracks=[],void 0!==e.sid&&null!==e.sid?r.sid=String(e.sid):r.sid="",void 0!==e.identity&&null!==e.identity?r.identity=String(e.identity):r.identity="",void 0!==e.state&&null!==e.state?r.state=p(e.state):r.state=0,void 0!==e.tracks&&null!==e.tracks){var o,i=n(e.tracks);try{for(i.s();!(o=i.n()).done;){var a=o.value;r.tracks.push(t.TrackInfo.fromJSON(a))}}catch(e){i.e(e)}finally{i.f()}}return void 0!==e.metadata&&null!==e.metadata?r.metadata=String(e.metadata):r.metadata="",void 0!==e.joinedAt&&null!==e.joinedAt?r.joinedAt=Number(e.joinedAt):r.joinedAt=0,r},toJSON:function(e){var r={};return void 0!==e.sid&&(r.sid=e.sid),void 0!==e.identity&&(r.identity=e.identity),void 0!==e.state&&(r.state=d(e.state)),e.tracks?r.tracks=e.tracks.map((function(e){return e?t.TrackInfo.toJSON(e):void 0})):r.tracks=[],void 0!==e.metadata&&(r.metadata=e.metadata),void 0!==e.joinedAt&&(r.joinedAt=e.joinedAt),r},fromPartial:function(e){var r=Object.assign({},m);if(r.tracks=[],void 0!==e.sid&&null!==e.sid?r.sid=e.sid:r.sid="",void 0!==e.identity&&null!==e.identity?r.identity=e.identity:r.identity="",void 0!==e.state&&null!==e.state?r.state=e.state:r.state=0,void 0!==e.tracks&&null!==e.tracks){var o,i=n(e.tracks);try{for(i.s();!(o=i.n()).done;){var a=o.value;r.tracks.push(t.TrackInfo.fromPartial(a))}}catch(e){i.e(e)}finally{i.f()}}return void 0!==e.metadata&&null!==e.metadata?r.metadata=e.metadata:r.metadata="",void 0!==e.joinedAt&&null!==e.joinedAt?r.joinedAt=e.joinedAt:r.joinedAt=0,r}};var v={sid:"",type:0,name:"",muted:!1,width:0,height:0,simulcast:!1};t.TrackInfo={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.default.Writer.create();return""!==e.sid&&t.uint32(10).string(e.sid),0!==e.type&&t.uint32(16).int32(e.type),""!==e.name&&t.uint32(26).string(e.name),!0===e.muted&&t.uint32(32).bool(e.muted),0!==e.width&&t.uint32(40).uint32(e.width),0!==e.height&&t.uint32(48).uint32(e.height),!0===e.simulcast&&t.uint32(56).bool(e.simulcast),t},decode:function(e,t){for(var r=e instanceof u.default.Reader?e:new u.default.Reader(e),n=void 0===t?r.len:r.pos+t,o=Object.assign({},v);r.pos<n;){var i=r.uint32();switch(i>>>3){case 1:o.sid=r.string();break;case 2:o.type=r.int32();break;case 3:o.name=r.string();break;case 4:o.muted=r.bool();break;case 5:o.width=r.uint32();break;case 6:o.height=r.uint32();break;case 7:o.simulcast=r.bool();break;default:r.skipType(7&i)}}return o},fromJSON:function(e){var t=Object.assign({},v);return void 0!==e.sid&&null!==e.sid?t.sid=String(e.sid):t.sid="",void 0!==e.type&&null!==e.type?t.type=l(e.type):t.type=0,void 0!==e.name&&null!==e.name?t.name=String(e.name):t.name="",void 0!==e.muted&&null!==e.muted?t.muted=Boolean(e.muted):t.muted=!1,void 0!==e.width&&null!==e.width?t.width=Number(e.width):t.width=0,void 0!==e.height&&null!==e.height?t.height=Number(e.height):t.height=0,void 0!==e.simulcast&&null!==e.simulcast?t.simulcast=Boolean(e.simulcast):t.simulcast=!1,t},toJSON:function(e){var t={};return void 0!==e.sid&&(t.sid=e.sid),void 0!==e.type&&(t.type=f(e.type)),void 0!==e.name&&(t.name=e.name),void 0!==e.muted&&(t.muted=e.muted),void 0!==e.width&&(t.width=e.width),void 0!==e.height&&(t.height=e.height),void 0!==e.simulcast&&(t.simulcast=e.simulcast),t},fromPartial:function(e){var t=Object.assign({},v);return void 0!==e.sid&&null!==e.sid?t.sid=e.sid:t.sid="",void 0!==e.type&&null!==e.type?t.type=e.type:t.type=0,void 0!==e.name&&null!==e.name?t.name=e.name:t.name="",void 0!==e.muted&&null!==e.muted?t.muted=e.muted:t.muted=!1,void 0!==e.width&&null!==e.width?t.width=e.width:t.width=0,void 0!==e.height&&null!==e.height?t.height=e.height:t.height=0,void 0!==e.simulcast&&null!==e.simulcast?t.simulcast=e.simulcast:t.simulcast=!1,t}};var b={};t.DataMessage={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.default.Writer.create();return void 0!==e.text&&t.uint32(10).string(e.text),void 0!==e.binary&&t.uint32(18).bytes(e.binary),t},decode:function(e,t){for(var r=e instanceof u.default.Reader?e:new u.default.Reader(e),n=void 0===t?r.len:r.pos+t,o=Object.assign({},b);r.pos<n;){var i=r.uint32();switch(i>>>3){case 1:o.text=r.string();break;case 2:o.binary=r.bytes();break;default:r.skipType(7&i)}}return o},fromJSON:function(e){var t=Object.assign({},b);return void 0!==e.text&&null!==e.text?t.text=String(e.text):t.text=void 0,void 0!==e.binary&&null!==e.binary&&(t.binary=function(e){for(var t=w(e),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}(e.binary)),t},toJSON:function(e){var t={};return void 0!==e.text&&(t.text=e.text),void 0!==e.binary&&(t.binary=void 0!==e.binary?function(e){for(var t=[],r=0;r<e.byteLength;++r)t.push(String.fromCharCode(e[r]));return S(t.join(""))}(e.binary):void 0),t},fromPartial:function(e){var t=Object.assign({},b);return void 0!==e.text&&null!==e.text?t.text=e.text:t.text=void 0,void 0!==e.binary&&null!==e.binary?t.binary=e.binary:t.binary=void 0,t}};var g=function(){if(void 0!==g)return g;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw"Unable to locate global object"}(),w=g.atob||function(e){return g.Buffer.from(e,"base64").toString("binary")},S=g.btoa||function(e){return g.Buffer.from(e,"binary").toString("base64")};function O(e){if(e.gt(Number.MAX_SAFE_INTEGER))throw new g.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}u.default.util.Long!==s.default&&(u.default.util.Long=s.default,u.default.configure())},71970:function(e,t,r){"use strict";function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){s=!0,a=e},f:function(){try{c||null==r.return||r.return()}finally{if(s)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UserPacket=t.DataPacket=t.ICEServer=t.LeaveRequest=t.UpdateTrackSettings=t.UpdateSubscription=t.SpeakerInfo=t.ActiveSpeakerUpdate=t.ParticipantUpdate=t.SessionDescription=t.TrackPublishedResponse=t.JoinResponse=t.SetSimulcastLayers=t.MuteTrackRequest=t.TrickleRequest=t.AddTrackRequest=t.SignalResponse=t.SignalRequest=t.dataPacket_KindToJSON=t.dataPacket_KindFromJSON=t.DataPacket_Kind=t.videoQualityToJSON=t.videoQualityFromJSON=t.VideoQuality=t.signalTargetToJSON=t.signalTargetFromJSON=t.SignalTarget=t.protobufPackage=void 0;var a,c,s,u=i(r(15626)),l=i(r(33870)),f=r(5501);function p(e){switch(e){case 0:case"PUBLISHER":return a.PUBLISHER;case 1:case"SUBSCRIBER":return a.SUBSCRIBER;default:return a.UNRECOGNIZED}}function d(e){switch(e){case a.PUBLISHER:return"PUBLISHER";case a.SUBSCRIBER:return"SUBSCRIBER";default:return"UNKNOWN"}}function h(e){switch(e){case 0:case"LOW":return c.LOW;case 1:case"MEDIUM":return c.MEDIUM;case 2:case"HIGH":return c.HIGH;default:return c.UNRECOGNIZED}}function y(e){switch(e){case c.LOW:return"LOW";case c.MEDIUM:return"MEDIUM";case c.HIGH:return"HIGH";default:return"UNKNOWN"}}function m(e){switch(e){case 0:case"RELIABLE":return s.RELIABLE;case 1:case"LOSSY":return s.LOSSY;default:return s.UNRECOGNIZED}}function v(e){switch(e){case s.RELIABLE:return"RELIABLE";case s.LOSSY:return"LOSSY";default:return"UNKNOWN"}}t.protobufPackage="livekit",function(e){e[e.PUBLISHER=0]="PUBLISHER",e[e.SUBSCRIBER=1]="SUBSCRIBER",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(a=t.SignalTarget||(t.SignalTarget={})),t.signalTargetFromJSON=p,t.signalTargetToJSON=d,function(e){e[e.LOW=0]="LOW",e[e.MEDIUM=1]="MEDIUM",e[e.HIGH=2]="HIGH",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(c=t.VideoQuality||(t.VideoQuality={})),t.videoQualityFromJSON=h,t.videoQualityToJSON=y,function(e){e[e.RELIABLE=0]="RELIABLE",e[e.LOSSY=1]="LOSSY",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(s=t.DataPacket_Kind||(t.DataPacket_Kind={})),t.dataPacket_KindFromJSON=m,t.dataPacket_KindToJSON=v;var b={};t.SignalRequest={encode:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.Writer.create();return void 0!==e.offer&&t.SessionDescription.encode(e.offer,r.uint32(10).fork()).ldelim(),void 0!==e.answer&&t.SessionDescription.encode(e.answer,r.uint32(18).fork()).ldelim(),void 0!==e.trickle&&t.TrickleRequest.encode(e.trickle,r.uint32(26).fork()).ldelim(),void 0!==e.addTrack&&t.AddTrackRequest.encode(e.addTrack,r.uint32(34).fork()).ldelim(),void 0!==e.mute&&t.MuteTrackRequest.encode(e.mute,r.uint32(42).fork()).ldelim(),void 0!==e.subscription&&t.UpdateSubscription.encode(e.subscription,r.uint32(50).fork()).ldelim(),void 0!==e.trackSetting&&t.UpdateTrackSettings.encode(e.trackSetting,r.uint32(58).fork()).ldelim(),void 0!==e.leave&&t.LeaveRequest.encode(e.leave,r.uint32(66).fork()).ldelim(),void 0!==e.simulcast&&t.SetSimulcastLayers.encode(e.simulcast,r.uint32(74).fork()).ldelim(),r},decode:function(e,r){for(var n=e instanceof l.default.Reader?e:new l.default.Reader(e),o=void 0===r?n.len:n.pos+r,i=Object.assign({},b);n.pos<o;){var a=n.uint32();switch(a>>>3){case 1:i.offer=t.SessionDescription.decode(n,n.uint32());break;case 2:i.answer=t.SessionDescription.decode(n,n.uint32());break;case 3:i.trickle=t.TrickleRequest.decode(n,n.uint32());break;case 4:i.addTrack=t.AddTrackRequest.decode(n,n.uint32());break;case 5:i.mute=t.MuteTrackRequest.decode(n,n.uint32());break;case 6:i.subscription=t.UpdateSubscription.decode(n,n.uint32());break;case 7:i.trackSetting=t.UpdateTrackSettings.decode(n,n.uint32());break;case 8:i.leave=t.LeaveRequest.decode(n,n.uint32());break;case 9:i.simulcast=t.SetSimulcastLayers.decode(n,n.uint32());break;default:n.skipType(7&a)}}return i},fromJSON:function(e){var r=Object.assign({},b);return void 0!==e.offer&&null!==e.offer?r.offer=t.SessionDescription.fromJSON(e.offer):r.offer=void 0,void 0!==e.answer&&null!==e.answer?r.answer=t.SessionDescription.fromJSON(e.answer):r.answer=void 0,void 0!==e.trickle&&null!==e.trickle?r.trickle=t.TrickleRequest.fromJSON(e.trickle):r.trickle=void 0,void 0!==e.addTrack&&null!==e.addTrack?r.addTrack=t.AddTrackRequest.fromJSON(e.addTrack):r.addTrack=void 0,void 0!==e.mute&&null!==e.mute?r.mute=t.MuteTrackRequest.fromJSON(e.mute):r.mute=void 0,void 0!==e.subscription&&null!==e.subscription?r.subscription=t.UpdateSubscription.fromJSON(e.subscription):r.subscription=void 0,void 0!==e.trackSetting&&null!==e.trackSetting?r.trackSetting=t.UpdateTrackSettings.fromJSON(e.trackSetting):r.trackSetting=void 0,void 0!==e.leave&&null!==e.leave?r.leave=t.LeaveRequest.fromJSON(e.leave):r.leave=void 0,void 0!==e.simulcast&&null!==e.simulcast?r.simulcast=t.SetSimulcastLayers.fromJSON(e.simulcast):r.simulcast=void 0,r},toJSON:function(e){var r={};return void 0!==e.offer&&(r.offer=e.offer?t.SessionDescription.toJSON(e.offer):void 0),void 0!==e.answer&&(r.answer=e.answer?t.SessionDescription.toJSON(e.answer):void 0),void 0!==e.trickle&&(r.trickle=e.trickle?t.TrickleRequest.toJSON(e.trickle):void 0),void 0!==e.addTrack&&(r.addTrack=e.addTrack?t.AddTrackRequest.toJSON(e.addTrack):void 0),void 0!==e.mute&&(r.mute=e.mute?t.MuteTrackRequest.toJSON(e.mute):void 0),void 0!==e.subscription&&(r.subscription=e.subscription?t.UpdateSubscription.toJSON(e.subscription):void 0),void 0!==e.trackSetting&&(r.trackSetting=e.trackSetting?t.UpdateTrackSettings.toJSON(e.trackSetting):void 0),void 0!==e.leave&&(r.leave=e.leave?t.LeaveRequest.toJSON(e.leave):void 0),void 0!==e.simulcast&&(r.simulcast=e.simulcast?t.SetSimulcastLayers.toJSON(e.simulcast):void 0),r},fromPartial:function(e){var r=Object.assign({},b);return void 0!==e.offer&&null!==e.offer?r.offer=t.SessionDescription.fromPartial(e.offer):r.offer=void 0,void 0!==e.answer&&null!==e.answer?r.answer=t.SessionDescription.fromPartial(e.answer):r.answer=void 0,void 0!==e.trickle&&null!==e.trickle?r.trickle=t.TrickleRequest.fromPartial(e.trickle):r.trickle=void 0,void 0!==e.addTrack&&null!==e.addTrack?r.addTrack=t.AddTrackRequest.fromPartial(e.addTrack):r.addTrack=void 0,void 0!==e.mute&&null!==e.mute?r.mute=t.MuteTrackRequest.fromPartial(e.mute):r.mute=void 0,void 0!==e.subscription&&null!==e.subscription?r.subscription=t.UpdateSubscription.fromPartial(e.subscription):r.subscription=void 0,void 0!==e.trackSetting&&null!==e.trackSetting?r.trackSetting=t.UpdateTrackSettings.fromPartial(e.trackSetting):r.trackSetting=void 0,void 0!==e.leave&&null!==e.leave?r.leave=t.LeaveRequest.fromPartial(e.leave):r.leave=void 0,void 0!==e.simulcast&&null!==e.simulcast?r.simulcast=t.SetSimulcastLayers.fromPartial(e.simulcast):r.simulcast=void 0,r}};var g={};t.SignalResponse={encode:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.Writer.create();return void 0!==e.join&&t.JoinResponse.encode(e.join,r.uint32(10).fork()).ldelim(),void 0!==e.answer&&t.SessionDescription.encode(e.answer,r.uint32(18).fork()).ldelim(),void 0!==e.offer&&t.SessionDescription.encode(e.offer,r.uint32(26).fork()).ldelim(),void 0!==e.trickle&&t.TrickleRequest.encode(e.trickle,r.uint32(34).fork()).ldelim(),void 0!==e.update&&t.ParticipantUpdate.encode(e.update,r.uint32(42).fork()).ldelim(),void 0!==e.trackPublished&&t.TrackPublishedResponse.encode(e.trackPublished,r.uint32(50).fork()).ldelim(),void 0!==e.speaker&&t.ActiveSpeakerUpdate.encode(e.speaker,r.uint32(58).fork()).ldelim(),void 0!==e.leave&&t.LeaveRequest.encode(e.leave,r.uint32(66).fork()).ldelim(),r},decode:function(e,r){for(var n=e instanceof l.default.Reader?e:new l.default.Reader(e),o=void 0===r?n.len:n.pos+r,i=Object.assign({},g);n.pos<o;){var a=n.uint32();switch(a>>>3){case 1:i.join=t.JoinResponse.decode(n,n.uint32());break;case 2:i.answer=t.SessionDescription.decode(n,n.uint32());break;case 3:i.offer=t.SessionDescription.decode(n,n.uint32());break;case 4:i.trickle=t.TrickleRequest.decode(n,n.uint32());break;case 5:i.update=t.ParticipantUpdate.decode(n,n.uint32());break;case 6:i.trackPublished=t.TrackPublishedResponse.decode(n,n.uint32());break;case 7:i.speaker=t.ActiveSpeakerUpdate.decode(n,n.uint32());break;case 8:i.leave=t.LeaveRequest.decode(n,n.uint32());break;default:n.skipType(7&a)}}return i},fromJSON:function(e){var r=Object.assign({},g);return void 0!==e.join&&null!==e.join?r.join=t.JoinResponse.fromJSON(e.join):r.join=void 0,void 0!==e.answer&&null!==e.answer?r.answer=t.SessionDescription.fromJSON(e.answer):r.answer=void 0,void 0!==e.offer&&null!==e.offer?r.offer=t.SessionDescription.fromJSON(e.offer):r.offer=void 0,void 0!==e.trickle&&null!==e.trickle?r.trickle=t.TrickleRequest.fromJSON(e.trickle):r.trickle=void 0,void 0!==e.update&&null!==e.update?r.update=t.ParticipantUpdate.fromJSON(e.update):r.update=void 0,void 0!==e.trackPublished&&null!==e.trackPublished?r.trackPublished=t.TrackPublishedResponse.fromJSON(e.trackPublished):r.trackPublished=void 0,void 0!==e.speaker&&null!==e.speaker?r.speaker=t.ActiveSpeakerUpdate.fromJSON(e.speaker):r.speaker=void 0,void 0!==e.leave&&null!==e.leave?r.leave=t.LeaveRequest.fromJSON(e.leave):r.leave=void 0,r},toJSON:function(e){var r={};return void 0!==e.join&&(r.join=e.join?t.JoinResponse.toJSON(e.join):void 0),void 0!==e.answer&&(r.answer=e.answer?t.SessionDescription.toJSON(e.answer):void 0),void 0!==e.offer&&(r.offer=e.offer?t.SessionDescription.toJSON(e.offer):void 0),void 0!==e.trickle&&(r.trickle=e.trickle?t.TrickleRequest.toJSON(e.trickle):void 0),void 0!==e.update&&(r.update=e.update?t.ParticipantUpdate.toJSON(e.update):void 0),void 0!==e.trackPublished&&(r.trackPublished=e.trackPublished?t.TrackPublishedResponse.toJSON(e.trackPublished):void 0),void 0!==e.speaker&&(r.speaker=e.speaker?t.ActiveSpeakerUpdate.toJSON(e.speaker):void 0),void 0!==e.leave&&(r.leave=e.leave?t.LeaveRequest.toJSON(e.leave):void 0),r},fromPartial:function(e){var r=Object.assign({},g);return void 0!==e.join&&null!==e.join?r.join=t.JoinResponse.fromPartial(e.join):r.join=void 0,void 0!==e.answer&&null!==e.answer?r.answer=t.SessionDescription.fromPartial(e.answer):r.answer=void 0,void 0!==e.offer&&null!==e.offer?r.offer=t.SessionDescription.fromPartial(e.offer):r.offer=void 0,void 0!==e.trickle&&null!==e.trickle?r.trickle=t.TrickleRequest.fromPartial(e.trickle):r.trickle=void 0,void 0!==e.update&&null!==e.update?r.update=t.ParticipantUpdate.fromPartial(e.update):r.update=void 0,void 0!==e.trackPublished&&null!==e.trackPublished?r.trackPublished=t.TrackPublishedResponse.fromPartial(e.trackPublished):r.trackPublished=void 0,void 0!==e.speaker&&null!==e.speaker?r.speaker=t.ActiveSpeakerUpdate.fromPartial(e.speaker):r.speaker=void 0,void 0!==e.leave&&null!==e.leave?r.leave=t.LeaveRequest.fromPartial(e.leave):r.leave=void 0,r}};var w={cid:"",name:"",type:0,width:0,height:0};t.AddTrackRequest={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.Writer.create();return""!==e.cid&&t.uint32(10).string(e.cid),""!==e.name&&t.uint32(18).string(e.name),0!==e.type&&t.uint32(24).int32(e.type),0!==e.width&&t.uint32(32).uint32(e.width),0!==e.height&&t.uint32(40).uint32(e.height),t},decode:function(e,t){for(var r=e instanceof l.default.Reader?e:new l.default.Reader(e),n=void 0===t?r.len:r.pos+t,o=Object.assign({},w);r.pos<n;){var i=r.uint32();switch(i>>>3){case 1:o.cid=r.string();break;case 2:o.name=r.string();break;case 3:o.type=r.int32();break;case 4:o.width=r.uint32();break;case 5:o.height=r.uint32();break;default:r.skipType(7&i)}}return o},fromJSON:function(e){var t=Object.assign({},w);return void 0!==e.cid&&null!==e.cid?t.cid=String(e.cid):t.cid="",void 0!==e.name&&null!==e.name?t.name=String(e.name):t.name="",void 0!==e.type&&null!==e.type?t.type=f.trackTypeFromJSON(e.type):t.type=0,void 0!==e.width&&null!==e.width?t.width=Number(e.width):t.width=0,void 0!==e.height&&null!==e.height?t.height=Number(e.height):t.height=0,t},toJSON:function(e){var t={};return void 0!==e.cid&&(t.cid=e.cid),void 0!==e.name&&(t.name=e.name),void 0!==e.type&&(t.type=f.trackTypeToJSON(e.type)),void 0!==e.width&&(t.width=e.width),void 0!==e.height&&(t.height=e.height),t},fromPartial:function(e){var t=Object.assign({},w);return void 0!==e.cid&&null!==e.cid?t.cid=e.cid:t.cid="",void 0!==e.name&&null!==e.name?t.name=e.name:t.name="",void 0!==e.type&&null!==e.type?t.type=e.type:t.type=0,void 0!==e.width&&null!==e.width?t.width=e.width:t.width=0,void 0!==e.height&&null!==e.height?t.height=e.height:t.height=0,t}};var S={candidateInit:"",target:0};t.TrickleRequest={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.Writer.create();return""!==e.candidateInit&&t.uint32(10).string(e.candidateInit),0!==e.target&&t.uint32(16).int32(e.target),t},decode:function(e,t){for(var r=e instanceof l.default.Reader?e:new l.default.Reader(e),n=void 0===t?r.len:r.pos+t,o=Object.assign({},S);r.pos<n;){var i=r.uint32();switch(i>>>3){case 1:o.candidateInit=r.string();break;case 2:o.target=r.int32();break;default:r.skipType(7&i)}}return o},fromJSON:function(e){var t=Object.assign({},S);return void 0!==e.candidateInit&&null!==e.candidateInit?t.candidateInit=String(e.candidateInit):t.candidateInit="",void 0!==e.target&&null!==e.target?t.target=p(e.target):t.target=0,t},toJSON:function(e){var t={};return void 0!==e.candidateInit&&(t.candidateInit=e.candidateInit),void 0!==e.target&&(t.target=d(e.target)),t},fromPartial:function(e){var t=Object.assign({},S);return void 0!==e.candidateInit&&null!==e.candidateInit?t.candidateInit=e.candidateInit:t.candidateInit="",void 0!==e.target&&null!==e.target?t.target=e.target:t.target=0,t}};var O={sid:"",muted:!1};t.MuteTrackRequest={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.Writer.create();return""!==e.sid&&t.uint32(10).string(e.sid),!0===e.muted&&t.uint32(16).bool(e.muted),t},decode:function(e,t){for(var r=e instanceof l.default.Reader?e:new l.default.Reader(e),n=void 0===t?r.len:r.pos+t,o=Object.assign({},O);r.pos<n;){var i=r.uint32();switch(i>>>3){case 1:o.sid=r.string();break;case 2:o.muted=r.bool();break;default:r.skipType(7&i)}}return o},fromJSON:function(e){var t=Object.assign({},O);return void 0!==e.sid&&null!==e.sid?t.sid=String(e.sid):t.sid="",void 0!==e.muted&&null!==e.muted?t.muted=Boolean(e.muted):t.muted=!1,t},toJSON:function(e){var t={};return void 0!==e.sid&&(t.sid=e.sid),void 0!==e.muted&&(t.muted=e.muted),t},fromPartial:function(e){var t=Object.assign({},O);return void 0!==e.sid&&null!==e.sid?t.sid=e.sid:t.sid="",void 0!==e.muted&&null!==e.muted?t.muted=e.muted:t.muted=!1,t}};var P={trackSid:"",layers:0};t.SetSimulcastLayers={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.Writer.create();""!==e.trackSid&&t.uint32(10).string(e.trackSid),t.uint32(18).fork();var r,o=n(e.layers);try{for(o.s();!(r=o.n()).done;){var i=r.value;t.int32(i)}}catch(e){o.e(e)}finally{o.f()}return t.ldelim(),t},decode:function(e,t){var r=e instanceof l.default.Reader?e:new l.default.Reader(e),n=void 0===t?r.len:r.pos+t,o=Object.assign({},P);for(o.layers=[];r.pos<n;){var i=r.uint32();switch(i>>>3){case 1:o.trackSid=r.string();break;case 2:if(2==(7&i))for(var a=r.uint32()+r.pos;r.pos<a;)o.layers.push(r.int32());else o.layers.push(r.int32());break;default:r.skipType(7&i)}}return o},fromJSON:function(e){var t=Object.assign({},P);if(t.layers=[],void 0!==e.trackSid&&null!==e.trackSid?t.trackSid=String(e.trackSid):t.trackSid="",void 0!==e.layers&&null!==e.layers){var r,o=n(e.layers);try{for(o.s();!(r=o.n()).done;){var i=r.value;t.layers.push(h(i))}}catch(e){o.e(e)}finally{o.f()}}return t},toJSON:function(e){var t={};return void 0!==e.trackSid&&(t.trackSid=e.trackSid),e.layers?t.layers=e.layers.map((function(e){return y(e)})):t.layers=[],t},fromPartial:function(e){var t=Object.assign({},P);if(t.layers=[],void 0!==e.trackSid&&null!==e.trackSid?t.trackSid=e.trackSid:t.trackSid="",void 0!==e.layers&&null!==e.layers){var r,o=n(e.layers);try{for(o.s();!(r=o.n()).done;){var i=r.value;t.layers.push(i)}}catch(e){o.e(e)}finally{o.f()}}return t}};var k={serverVersion:""};t.JoinResponse={encode:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.Writer.create();void 0!==e.room&&f.Room.encode(e.room,r.uint32(10).fork()).ldelim(),void 0!==e.participant&&f.ParticipantInfo.encode(e.participant,r.uint32(18).fork()).ldelim();var o,i=n(e.otherParticipants);try{for(i.s();!(o=i.n()).done;){var a=o.value;f.ParticipantInfo.encode(a,r.uint32(26).fork()).ldelim()}}catch(e){i.e(e)}finally{i.f()}""!==e.serverVersion&&r.uint32(34).string(e.serverVersion);var c,s=n(e.iceServers);try{for(s.s();!(c=s.n()).done;){var u=c.value;t.ICEServer.encode(u,r.uint32(42).fork()).ldelim()}}catch(e){s.e(e)}finally{s.f()}return r},decode:function(e,r){var n=e instanceof l.default.Reader?e:new l.default.Reader(e),o=void 0===r?n.len:n.pos+r,i=Object.assign({},k);for(i.otherParticipants=[],i.iceServers=[];n.pos<o;){var a=n.uint32();switch(a>>>3){case 1:i.room=f.Room.decode(n,n.uint32());break;case 2:i.participant=f.ParticipantInfo.decode(n,n.uint32());break;case 3:i.otherParticipants.push(f.ParticipantInfo.decode(n,n.uint32()));break;case 4:i.serverVersion=n.string();break;case 5:i.iceServers.push(t.ICEServer.decode(n,n.uint32()));break;default:n.skipType(7&a)}}return i},fromJSON:function(e){var r=Object.assign({},k);if(r.otherParticipants=[],r.iceServers=[],void 0!==e.room&&null!==e.room?r.room=f.Room.fromJSON(e.room):r.room=void 0,void 0!==e.participant&&null!==e.participant?r.participant=f.ParticipantInfo.fromJSON(e.participant):r.participant=void 0,void 0!==e.otherParticipants&&null!==e.otherParticipants){var o,i=n(e.otherParticipants);try{for(i.s();!(o=i.n()).done;){var a=o.value;r.otherParticipants.push(f.ParticipantInfo.fromJSON(a))}}catch(e){i.e(e)}finally{i.f()}}if(void 0!==e.serverVersion&&null!==e.serverVersion?r.serverVersion=String(e.serverVersion):r.serverVersion="",void 0!==e.iceServers&&null!==e.iceServers){var c,s=n(e.iceServers);try{for(s.s();!(c=s.n()).done;){var u=c.value;r.iceServers.push(t.ICEServer.fromJSON(u))}}catch(e){s.e(e)}finally{s.f()}}return r},toJSON:function(e){var r={};return void 0!==e.room&&(r.room=e.room?f.Room.toJSON(e.room):void 0),void 0!==e.participant&&(r.participant=e.participant?f.ParticipantInfo.toJSON(e.participant):void 0),e.otherParticipants?r.otherParticipants=e.otherParticipants.map((function(e){return e?f.ParticipantInfo.toJSON(e):void 0})):r.otherParticipants=[],void 0!==e.serverVersion&&(r.serverVersion=e.serverVersion),e.iceServers?r.iceServers=e.iceServers.map((function(e){return e?t.ICEServer.toJSON(e):void 0})):r.iceServers=[],r},fromPartial:function(e){var r=Object.assign({},k);if(r.otherParticipants=[],r.iceServers=[],void 0!==e.room&&null!==e.room?r.room=f.Room.fromPartial(e.room):r.room=void 0,void 0!==e.participant&&null!==e.participant?r.participant=f.ParticipantInfo.fromPartial(e.participant):r.participant=void 0,void 0!==e.otherParticipants&&null!==e.otherParticipants){var o,i=n(e.otherParticipants);try{for(i.s();!(o=i.n()).done;){var a=o.value;r.otherParticipants.push(f.ParticipantInfo.fromPartial(a))}}catch(e){i.e(e)}finally{i.f()}}if(void 0!==e.serverVersion&&null!==e.serverVersion?r.serverVersion=e.serverVersion:r.serverVersion="",void 0!==e.iceServers&&null!==e.iceServers){var c,s=n(e.iceServers);try{for(s.s();!(c=s.n()).done;){var u=c.value;r.iceServers.push(t.ICEServer.fromPartial(u))}}catch(e){s.e(e)}finally{s.f()}}return r}};var _={cid:""};t.TrackPublishedResponse={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.Writer.create();return""!==e.cid&&t.uint32(10).string(e.cid),void 0!==e.track&&f.TrackInfo.encode(e.track,t.uint32(18).fork()).ldelim(),t},decode:function(e,t){for(var r=e instanceof l.default.Reader?e:new l.default.Reader(e),n=void 0===t?r.len:r.pos+t,o=Object.assign({},_);r.pos<n;){var i=r.uint32();switch(i>>>3){case 1:o.cid=r.string();break;case 2:o.track=f.TrackInfo.decode(r,r.uint32());break;default:r.skipType(7&i)}}return o},fromJSON:function(e){var t=Object.assign({},_);return void 0!==e.cid&&null!==e.cid?t.cid=String(e.cid):t.cid="",void 0!==e.track&&null!==e.track?t.track=f.TrackInfo.fromJSON(e.track):t.track=void 0,t},toJSON:function(e){var t={};return void 0!==e.cid&&(t.cid=e.cid),void 0!==e.track&&(t.track=e.track?f.TrackInfo.toJSON(e.track):void 0),t},fromPartial:function(e){var t=Object.assign({},_);return void 0!==e.cid&&null!==e.cid?t.cid=e.cid:t.cid="",void 0!==e.track&&null!==e.track?t.track=f.TrackInfo.fromPartial(e.track):t.track=void 0,t}};var E={type:"",sdp:""};t.SessionDescription={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.Writer.create();return""!==e.type&&t.uint32(10).string(e.type),""!==e.sdp&&t.uint32(18).string(e.sdp),t},decode:function(e,t){for(var r=e instanceof l.default.Reader?e:new l.default.Reader(e),n=void 0===t?r.len:r.pos+t,o=Object.assign({},E);r.pos<n;){var i=r.uint32();switch(i>>>3){case 1:o.type=r.string();break;case 2:o.sdp=r.string();break;default:r.skipType(7&i)}}return o},fromJSON:function(e){var t=Object.assign({},E);return void 0!==e.type&&null!==e.type?t.type=String(e.type):t.type="",void 0!==e.sdp&&null!==e.sdp?t.sdp=String(e.sdp):t.sdp="",t},toJSON:function(e){var t={};return void 0!==e.type&&(t.type=e.type),void 0!==e.sdp&&(t.sdp=e.sdp),t},fromPartial:function(e){var t=Object.assign({},E);return void 0!==e.type&&null!==e.type?t.type=e.type:t.type="",void 0!==e.sdp&&null!==e.sdp?t.sdp=e.sdp:t.sdp="",t}};var j={};t.ParticipantUpdate={encode:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.Writer.create(),o=n(e.participants);try{for(o.s();!(t=o.n()).done;){var i=t.value;f.ParticipantInfo.encode(i,r.uint32(10).fork()).ldelim()}}catch(e){o.e(e)}finally{o.f()}return r},decode:function(e,t){var r=e instanceof l.default.Reader?e:new l.default.Reader(e),n=void 0===t?r.len:r.pos+t,o=Object.assign({},j);for(o.participants=[];r.pos<n;){var i=r.uint32();i>>>3==1?o.participants.push(f.ParticipantInfo.decode(r,r.uint32())):r.skipType(7&i)}return o},fromJSON:function(e){var t=Object.assign({},j);if(t.participants=[],void 0!==e.participants&&null!==e.participants){var r,o=n(e.participants);try{for(o.s();!(r=o.n()).done;){var i=r.value;t.participants.push(f.ParticipantInfo.fromJSON(i))}}catch(e){o.e(e)}finally{o.f()}}return t},toJSON:function(e){var t={};return e.participants?t.participants=e.participants.map((function(e){return e?f.ParticipantInfo.toJSON(e):void 0})):t.participants=[],t},fromPartial:function(e){var t=Object.assign({},j);if(t.participants=[],void 0!==e.participants&&null!==e.participants){var r,o=n(e.participants);try{for(o.s();!(r=o.n()).done;){var i=r.value;t.participants.push(f.ParticipantInfo.fromPartial(i))}}catch(e){o.e(e)}finally{o.f()}}return t}};var x={};t.ActiveSpeakerUpdate={encode:function(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.Writer.create(),i=n(e.speakers);try{for(i.s();!(r=i.n()).done;){var a=r.value;t.SpeakerInfo.encode(a,o.uint32(10).fork()).ldelim()}}catch(e){i.e(e)}finally{i.f()}return o},decode:function(e,r){var n=e instanceof l.default.Reader?e:new l.default.Reader(e),o=void 0===r?n.len:n.pos+r,i=Object.assign({},x);for(i.speakers=[];n.pos<o;){var a=n.uint32();a>>>3==1?i.speakers.push(t.SpeakerInfo.decode(n,n.uint32())):n.skipType(7&a)}return i},fromJSON:function(e){var r=Object.assign({},x);if(r.speakers=[],void 0!==e.speakers&&null!==e.speakers){var o,i=n(e.speakers);try{for(i.s();!(o=i.n()).done;){var a=o.value;r.speakers.push(t.SpeakerInfo.fromJSON(a))}}catch(e){i.e(e)}finally{i.f()}}return r},toJSON:function(e){var r={};return e.speakers?r.speakers=e.speakers.map((function(e){return e?t.SpeakerInfo.toJSON(e):void 0})):r.speakers=[],r},fromPartial:function(e){var r=Object.assign({},x);if(r.speakers=[],void 0!==e.speakers&&null!==e.speakers){var o,i=n(e.speakers);try{for(i.s();!(o=i.n()).done;){var a=o.value;r.speakers.push(t.SpeakerInfo.fromPartial(a))}}catch(e){i.e(e)}finally{i.f()}}return r}};var C={sid:"",level:0,active:!1};t.SpeakerInfo={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.Writer.create();return""!==e.sid&&t.uint32(10).string(e.sid),0!==e.level&&t.uint32(21).float(e.level),!0===e.active&&t.uint32(24).bool(e.active),t},decode:function(e,t){for(var r=e instanceof l.default.Reader?e:new l.default.Reader(e),n=void 0===t?r.len:r.pos+t,o=Object.assign({},C);r.pos<n;){var i=r.uint32();switch(i>>>3){case 1:o.sid=r.string();break;case 2:o.level=r.float();break;case 3:o.active=r.bool();break;default:r.skipType(7&i)}}return o},fromJSON:function(e){var t=Object.assign({},C);return void 0!==e.sid&&null!==e.sid?t.sid=String(e.sid):t.sid="",void 0!==e.level&&null!==e.level?t.level=Number(e.level):t.level=0,void 0!==e.active&&null!==e.active?t.active=Boolean(e.active):t.active=!1,t},toJSON:function(e){var t={};return void 0!==e.sid&&(t.sid=e.sid),void 0!==e.level&&(t.level=e.level),void 0!==e.active&&(t.active=e.active),t},fromPartial:function(e){var t=Object.assign({},C);return void 0!==e.sid&&null!==e.sid?t.sid=e.sid:t.sid="",void 0!==e.level&&null!==e.level?t.level=e.level:t.level=0,void 0!==e.active&&null!==e.active?t.active=e.active:t.active=!1,t}};var T={trackSids:"",subscribe:!1};t.UpdateSubscription={encode:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.Writer.create(),o=n(e.trackSids);try{for(o.s();!(t=o.n()).done;){var i=t.value;r.uint32(10).string(i)}}catch(e){o.e(e)}finally{o.f()}return!0===e.subscribe&&r.uint32(16).bool(e.subscribe),r},decode:function(e,t){var r=e instanceof l.default.Reader?e:new l.default.Reader(e),n=void 0===t?r.len:r.pos+t,o=Object.assign({},T);for(o.trackSids=[];r.pos<n;){var i=r.uint32();switch(i>>>3){case 1:o.trackSids.push(r.string());break;case 2:o.subscribe=r.bool();break;default:r.skipType(7&i)}}return o},fromJSON:function(e){var t=Object.assign({},T);if(t.trackSids=[],void 0!==e.trackSids&&null!==e.trackSids){var r,o=n(e.trackSids);try{for(o.s();!(r=o.n()).done;){var i=r.value;t.trackSids.push(String(i))}}catch(e){o.e(e)}finally{o.f()}}return void 0!==e.subscribe&&null!==e.subscribe?t.subscribe=Boolean(e.subscribe):t.subscribe=!1,t},toJSON:function(e){var t={};return e.trackSids?t.trackSids=e.trackSids.map((function(e){return e})):t.trackSids=[],void 0!==e.subscribe&&(t.subscribe=e.subscribe),t},fromPartial:function(e){var t=Object.assign({},T);if(t.trackSids=[],void 0!==e.trackSids&&null!==e.trackSids){var r,o=n(e.trackSids);try{for(o.s();!(r=o.n()).done;){var i=r.value;t.trackSids.push(i)}}catch(e){o.e(e)}finally{o.f()}}return void 0!==e.subscribe&&null!==e.subscribe?t.subscribe=e.subscribe:t.subscribe=!1,t}};var R={trackSids:"",disabled:!1,quality:0};t.UpdateTrackSettings={encode:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.Writer.create(),o=n(e.trackSids);try{for(o.s();!(t=o.n()).done;){var i=t.value;r.uint32(10).string(i)}}catch(e){o.e(e)}finally{o.f()}return!0===e.disabled&&r.uint32(24).bool(e.disabled),0!==e.quality&&r.uint32(32).int32(e.quality),r},decode:function(e,t){var r=e instanceof l.default.Reader?e:new l.default.Reader(e),n=void 0===t?r.len:r.pos+t,o=Object.assign({},R);for(o.trackSids=[];r.pos<n;){var i=r.uint32();switch(i>>>3){case 1:o.trackSids.push(r.string());break;case 3:o.disabled=r.bool();break;case 4:o.quality=r.int32();break;default:r.skipType(7&i)}}return o},fromJSON:function(e){var t=Object.assign({},R);if(t.trackSids=[],void 0!==e.trackSids&&null!==e.trackSids){var r,o=n(e.trackSids);try{for(o.s();!(r=o.n()).done;){var i=r.value;t.trackSids.push(String(i))}}catch(e){o.e(e)}finally{o.f()}}return void 0!==e.disabled&&null!==e.disabled?t.disabled=Boolean(e.disabled):t.disabled=!1,void 0!==e.quality&&null!==e.quality?t.quality=h(e.quality):t.quality=0,t},toJSON:function(e){var t={};return e.trackSids?t.trackSids=e.trackSids.map((function(e){return e})):t.trackSids=[],void 0!==e.disabled&&(t.disabled=e.disabled),void 0!==e.quality&&(t.quality=y(e.quality)),t},fromPartial:function(e){var t=Object.assign({},R);if(t.trackSids=[],void 0!==e.trackSids&&null!==e.trackSids){var r,o=n(e.trackSids);try{for(o.s();!(r=o.n()).done;){var i=r.value;t.trackSids.push(i)}}catch(e){o.e(e)}finally{o.f()}}return void 0!==e.disabled&&null!==e.disabled?t.disabled=e.disabled:t.disabled=!1,void 0!==e.quality&&null!==e.quality?t.quality=e.quality:t.quality=0,t}};var I={canReconnect:!1};t.LeaveRequest={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.Writer.create();return!0===e.canReconnect&&t.uint32(8).bool(e.canReconnect),t},decode:function(e,t){for(var r=e instanceof l.default.Reader?e:new l.default.Reader(e),n=void 0===t?r.len:r.pos+t,o=Object.assign({},I);r.pos<n;){var i=r.uint32();i>>>3==1?o.canReconnect=r.bool():r.skipType(7&i)}return o},fromJSON:function(e){var t=Object.assign({},I);return void 0!==e.canReconnect&&null!==e.canReconnect?t.canReconnect=Boolean(e.canReconnect):t.canReconnect=!1,t},toJSON:function(e){var t={};return void 0!==e.canReconnect&&(t.canReconnect=e.canReconnect),t},fromPartial:function(e){var t=Object.assign({},I);return void 0!==e.canReconnect&&null!==e.canReconnect?t.canReconnect=e.canReconnect:t.canReconnect=!1,t}};var L={urls:"",username:"",credential:""};t.ICEServer={encode:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.Writer.create(),o=n(e.urls);try{for(o.s();!(t=o.n()).done;){var i=t.value;r.uint32(10).string(i)}}catch(e){o.e(e)}finally{o.f()}return""!==e.username&&r.uint32(18).string(e.username),""!==e.credential&&r.uint32(26).string(e.credential),r},decode:function(e,t){var r=e instanceof l.default.Reader?e:new l.default.Reader(e),n=void 0===t?r.len:r.pos+t,o=Object.assign({},L);for(o.urls=[];r.pos<n;){var i=r.uint32();switch(i>>>3){case 1:o.urls.push(r.string());break;case 2:o.username=r.string();break;case 3:o.credential=r.string();break;default:r.skipType(7&i)}}return o},fromJSON:function(e){var t=Object.assign({},L);if(t.urls=[],void 0!==e.urls&&null!==e.urls){var r,o=n(e.urls);try{for(o.s();!(r=o.n()).done;){var i=r.value;t.urls.push(String(i))}}catch(e){o.e(e)}finally{o.f()}}return void 0!==e.username&&null!==e.username?t.username=String(e.username):t.username="",void 0!==e.credential&&null!==e.credential?t.credential=String(e.credential):t.credential="",t},toJSON:function(e){var t={};return e.urls?t.urls=e.urls.map((function(e){return e})):t.urls=[],void 0!==e.username&&(t.username=e.username),void 0!==e.credential&&(t.credential=e.credential),t},fromPartial:function(e){var t=Object.assign({},L);if(t.urls=[],void 0!==e.urls&&null!==e.urls){var r,o=n(e.urls);try{for(o.s();!(r=o.n()).done;){var i=r.value;t.urls.push(i)}}catch(e){o.e(e)}finally{o.f()}}return void 0!==e.username&&null!==e.username?t.username=e.username:t.username="",void 0!==e.credential&&null!==e.credential?t.credential=e.credential:t.credential="",t}};var M={kind:0};t.DataPacket={encode:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.Writer.create();return 0!==e.kind&&r.uint32(8).int32(e.kind),void 0!==e.user&&t.UserPacket.encode(e.user,r.uint32(18).fork()).ldelim(),void 0!==e.speaker&&t.ActiveSpeakerUpdate.encode(e.speaker,r.uint32(26).fork()).ldelim(),r},decode:function(e,r){for(var n=e instanceof l.default.Reader?e:new l.default.Reader(e),o=void 0===r?n.len:n.pos+r,i=Object.assign({},M);n.pos<o;){var a=n.uint32();switch(a>>>3){case 1:i.kind=n.int32();break;case 2:i.user=t.UserPacket.decode(n,n.uint32());break;case 3:i.speaker=t.ActiveSpeakerUpdate.decode(n,n.uint32());break;default:n.skipType(7&a)}}return i},fromJSON:function(e){var r=Object.assign({},M);return void 0!==e.kind&&null!==e.kind?r.kind=m(e.kind):r.kind=0,void 0!==e.user&&null!==e.user?r.user=t.UserPacket.fromJSON(e.user):r.user=void 0,void 0!==e.speaker&&null!==e.speaker?r.speaker=t.ActiveSpeakerUpdate.fromJSON(e.speaker):r.speaker=void 0,r},toJSON:function(e){var r={};return void 0!==e.kind&&(r.kind=v(e.kind)),void 0!==e.user&&(r.user=e.user?t.UserPacket.toJSON(e.user):void 0),void 0!==e.speaker&&(r.speaker=e.speaker?t.ActiveSpeakerUpdate.toJSON(e.speaker):void 0),r},fromPartial:function(e){var r=Object.assign({},M);return void 0!==e.kind&&null!==e.kind?r.kind=e.kind:r.kind=0,void 0!==e.user&&null!==e.user?r.user=t.UserPacket.fromPartial(e.user):r.user=void 0,void 0!==e.speaker&&null!==e.speaker?r.speaker=t.ActiveSpeakerUpdate.fromPartial(e.speaker):r.speaker=void 0,r}};var A={participantSid:"",destinationSids:""};t.UserPacket={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.Writer.create();""!==e.participantSid&&t.uint32(10).string(e.participantSid),0!==e.payload.length&&t.uint32(18).bytes(e.payload);var r,o=n(e.destinationSids);try{for(o.s();!(r=o.n()).done;){var i=r.value;t.uint32(26).string(i)}}catch(e){o.e(e)}finally{o.f()}return t},decode:function(e,t){var r=e instanceof l.default.Reader?e:new l.default.Reader(e),n=void 0===t?r.len:r.pos+t,o=Object.assign({},A);for(o.destinationSids=[],o.payload=new Uint8Array;r.pos<n;){var i=r.uint32();switch(i>>>3){case 1:o.participantSid=r.string();break;case 2:o.payload=r.bytes();break;case 3:o.destinationSids.push(r.string());break;default:r.skipType(7&i)}}return o},fromJSON:function(e){var t=Object.assign({},A);if(t.destinationSids=[],t.payload=new Uint8Array,void 0!==e.participantSid&&null!==e.participantSid?t.participantSid=String(e.participantSid):t.participantSid="",void 0!==e.payload&&null!==e.payload&&(t.payload=function(e){for(var t=N(e),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}(e.payload)),void 0!==e.destinationSids&&null!==e.destinationSids){var r,o=n(e.destinationSids);try{for(o.s();!(r=o.n()).done;){var i=r.value;t.destinationSids.push(String(i))}}catch(e){o.e(e)}finally{o.f()}}return t},toJSON:function(e){var t={};return void 0!==e.participantSid&&(t.participantSid=e.participantSid),void 0!==e.payload&&(t.payload=function(e){for(var t=[],r=0;r<e.byteLength;++r)t.push(String.fromCharCode(e[r]));return U(t.join(""))}(void 0!==e.payload?e.payload:new Uint8Array)),e.destinationSids?t.destinationSids=e.destinationSids.map((function(e){return e})):t.destinationSids=[],t},fromPartial:function(e){var t=Object.assign({},A);if(t.destinationSids=[],void 0!==e.participantSid&&null!==e.participantSid?t.participantSid=e.participantSid:t.participantSid="",void 0!==e.payload&&null!==e.payload?t.payload=e.payload:t.payload=new Uint8Array,void 0!==e.destinationSids&&null!==e.destinationSids){var r,o=n(e.destinationSids);try{for(o.s();!(r=o.n()).done;){var i=r.value;t.destinationSids.push(i)}}catch(e){o.e(e)}finally{o.f()}}return t}};var D=function(){if(void 0!==D)return D;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw"Unable to locate global object"}(),N=D.atob||function(e){return D.Buffer.from(e,"base64").toString("binary")},U=D.btoa||function(e){return D.Buffer.from(e,"binary").toString("base64")};l.default.util.Long!==u.default&&(l.default.util.Long=u.default,l.default.configure())},70686:function(e,t){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(){n=function(){return e};var e={},t=Object.prototype,o=t.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),c=new j(n||[]);return i(a,"_invoke",{value:P(e,r,c)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var d={};function h(){}function y(){}function m(){}var v={};l(v,c,(function(){return this}));var b=Object.getPrototypeOf,g=b&&b(b(x([])));g&&g!==t&&o.call(g,c)&&(v=g);var w=m.prototype=h.prototype=Object.create(v);function S(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(i,a,c,s){var u=p(e[i],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==r(f)&&o.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,c,s)}),(function(e){n("throw",e,c,s)})):t.resolve(f).then((function(e){l.value=e,c(l)}),(function(e){return n("throw",e,c,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function P(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=p(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function k(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=p(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function x(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:C}}function C(){return{value:void 0,done:!0}}return y.prototype=m,i(w,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:y,configurable:!0}),y.displayName=l(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},S(O.prototype),l(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(w),l(w,u,"Generator"),l(w,c,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=o.call(i,"catchLoc"),s=o.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===r(i)?i:String(i)),o)}var i}var i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function c(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,c)}s((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pendingCandidates=[],this.restartingIce=!1,this.pc=new RTCPeerConnection(t)}var t,r;return t=e,(r=[{key:"addIceCandidate",value:function(e){return i(this,void 0,void 0,n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.pc.remoteDescription||this.restartingIce){t.next=2;break}return t.abrupt("return",this.pc.addIceCandidate(e));case 2:this.pendingCandidates.push(e);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"setRemoteDescription",value:function(e){return i(this,void 0,void 0,n().mark((function t(){var r=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pc.setRemoteDescription(e);case 2:this.pendingCandidates.forEach((function(e){r.pc.addIceCandidate(e)})),this.pendingCandidates=[];case 4:case"end":return t.stop()}}),t,this)})))}},{key:"close",value:function(){this.pc.close()}}])&&o(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=a},39577:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){o=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),c=new j(n||[]);return i(a,"_invoke",{value:P(e,r,c)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var d={};function h(){}function y(){}function m(){}var v={};l(v,c,(function(){return this}));var b=Object.getPrototypeOf,g=b&&b(b(x([])));g&&g!==t&&r.call(g,c)&&(v=g);var w=m.prototype=h.prototype=Object.create(v);function S(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function o(i,a,c,s){var u=p(e[i],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(f).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function P(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=p(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function k(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=p(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function x(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return y.prototype=m,i(w,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:y,configurable:!0}),y.displayName=l(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},S(O.prototype),l(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(w),l(w,u,"Generator"),l(w,c,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function i(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}var u=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function c(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,c)}s((n=n.apply(e,t||[])).next())}))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var f=r(40063),p=l(r(65657)),d=r(71970),h=r(36917),y=r(38390),m=l(r(70686)),v=r(97370),b=r(28413),g=5,w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(S,e);var t,r,l,f,w=(l=S,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(l);if(f){var r=s(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}(this,e)});function S(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,S),(r=w.call(this)).iceConnected=!1,r.isClosed=!0,r.pendingTrackResolvers={},r.reconnectAttempts=0,r.handleDataMessage=function(e){return u(c(r),void 0,void 0,o().mark((function t(){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.data instanceof ArrayBuffer)){t.next=4;break}r=e.data,t.next=12;break;case 4:if(!(e.data instanceof Blob)){t.next=10;break}return t.next=7,e.data.arrayBuffer();case 7:r=t.sent,t.next=12;break;case 10:return p.default.error("unsupported data type",e.data),t.abrupt("return");case 12:(n=d.DataPacket.decode(new Uint8Array(r))).speaker?this.emit(y.EngineEvent.SpeakersUpdate,n.speaker.speakers):n.user&&this.emit(y.EngineEvent.DataPacketReceived,n.user,n.kind);case 14:case"end":return t.stop()}}),t,this)})))},r.handleDisconnect=function(e){if(!r.isClosed){if(p.default.debug("".concat(e," disconnected")),r.reconnectAttempts>=g)return p.default.info("could not connect to signal after",g,"attempts. giving up"),r.close(),void r.emit(y.EngineEvent.Disconnected);var t=r.reconnectAttempts*r.reconnectAttempts*300;setTimeout((function(){r.reconnect().then((function(){r.reconnectAttempts=0})).catch(r.handleDisconnect)}),t)}},r.emitTrackEvent=function(e,t,n){r.emit(y.EngineEvent.MediaTrackAdded,e,t,n)},r.client=e,r.rtcConfig=t||{},r.useLegacy=b.useLegacyAPI(),p.default.trace("creating RTCEngine","useLegacy",r.useLegacy),r}return t=S,(r=[{key:"join",value:function(e,t,r){return u(this,void 0,void 0,o().mark((function n(){var i,a,c;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.url=e,this.token=t,n.next=4,this.client.join(e,t,this.useLegacy,r);case 4:return i=n.sent,this.isClosed=!1,i.iceServers&&!this.rtcConfig.iceServers&&(a=[],i.iceServers.forEach((function(e){var t={urls:e.urls};e.username&&(t.username=e.username),e.credential&&(t.credential=e.credential),a.push(t)})),this.rtcConfig.iceServers=a),this.publisher||(c=this.rtcConfig,this.useLegacy&&(c.sdpSemantics="plan-b"),this.publisher=new m.default(this.rtcConfig),this.subscriber=new m.default(this.rtcConfig),this.configure()),n.next=10,this.negotiate();case 10:return n.abrupt("return",i);case 11:case"end":return n.stop()}}),n,this)})))}},{key:"close",value:function(){var e=this;this.isClosed=!0,this.publisher&&(this.publisher.pc.getSenders().forEach((function(t){var r;null===(r=e.publisher)||void 0===r||r.pc.removeTrack(t)})),this.publisher.close(),this.publisher=void 0),this.subscriber&&(this.subscriber.close(),this.subscriber=void 0),this.client.close()}},{key:"addTrack",value:function(e,t,r,n){var o=this;if(this.pendingTrackResolvers[e])throw new h.TrackInvalidError("a track with the same ID has already been published");return new Promise((function(i){o.pendingTrackResolvers[e]=i,o.client.sendAddTrack(e,t,v.Track.kindToProto(r),n)}))}},{key:"updateMuteStatus",value:function(e,t){this.client.sendMuteTrack(e,t)}},{key:"configure",value:function(){var e=this;this.publisher&&this.subscriber&&(this.publisher.pc.onicecandidate=function(t){t.candidate&&(p.default.trace("adding ICE candidate for peer",t.candidate),e.client.sendIceCandidate(t.candidate,d.SignalTarget.PUBLISHER))},this.subscriber.pc.onicecandidate=function(t){t.candidate&&e.client.sendIceCandidate(t.candidate,d.SignalTarget.SUBSCRIBER)},this.publisher.pc.onnegotiationneeded=function(){var t;"new"!==(null===(t=e.publisher)||void 0===t?void 0:t.pc.iceConnectionState)&&e.negotiate()},this.publisher.pc.oniceconnectionstatechange=function(){e.publisher&&("connected"===e.publisher.pc.iceConnectionState?(p.default.trace("ICE connected"),e.iceConnected||(e.iceConnected=!0,e.emit(y.EngineEvent.Connected))):"failed"===e.publisher.pc.iceConnectionState&&(e.iceConnected=!1,p.default.trace("ICE disconnected"),e.handleDisconnect("peerconnection")))},this.useLegacy?this.subscriber.pc.addEventListener("addstream",(function(t){var r=t.stream;r.getTracks().forEach((function(t){e.emitTrackEvent(t,r)}))})):this.subscriber.pc.ontrack=function(t){e.emitTrackEvent(t.track,t.streams[0],t.receiver)},this.lossyDC=this.publisher.pc.createDataChannel("_lossy",{ordered:!0,maxRetransmits:1}),this.reliableDC=this.publisher.pc.createDataChannel("_reliable",{ordered:!0}),this.lossyDC.onmessage=this.handleDataMessage,this.reliableDC.onmessage=this.handleDataMessage,this.client.onAnswer=function(t){return u(e,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.publisher){e.next=2;break}return e.abrupt("return");case 2:return p.default.debug("received server answer",t.type,this.publisher.pc.signalingState),e.next=5,this.publisher.setRemoteDescription(t);case 5:case"end":return e.stop()}}),e,this)})))},this.client.onTrickle=function(t,r){e.publisher&&e.subscriber&&(p.default.trace("got ICE candidate from peer",t,r),r===d.SignalTarget.PUBLISHER?e.publisher.addIceCandidate(t):e.subscriber.addIceCandidate(t))},this.client.onOffer=function(t){return u(e,void 0,void 0,o().mark((function e(){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.subscriber){e.next=2;break}return e.abrupt("return");case 2:return p.default.debug("received server offer",t.type,this.subscriber.pc.signalingState),e.next=5,this.subscriber.setRemoteDescription(t);case 5:return e.next=7,this.subscriber.pc.createAnswer();case 7:return r=e.sent,e.next=10,this.subscriber.pc.setLocalDescription(r);case 10:this.client.sendAnswer(r);case 11:case"end":return e.stop()}}),e,this)})))},this.client.onParticipantUpdate=function(t){e.emit(y.EngineEvent.ParticipantUpdate,t)},this.client.onLocalTrackPublished=function(t){var r=e.pendingTrackResolvers[t.cid];r?(delete e.pendingTrackResolvers[t.cid],r(t.track)):p.default.error("missing track resolver for ",t.cid)},this.client.onActiveSpeakersChanged=function(t){e.emit(y.EngineEvent.SpeakersUpdate,t)},this.client.onClose=function(){e.handleDisconnect("signal")},this.client.onLeave=function(){e.close(),e.emit(y.EngineEvent.Disconnected)})}},{key:"reconnect",value:function(){return u(this,void 0,void 0,o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isClosed){e.next=2;break}return e.abrupt("return");case 2:if(this.url&&this.token){e.next=4;break}throw new h.ConnectionError("could not reconnect, url or token not saved");case 4:return p.default.info("reconnecting to signal connection, attempt",this.reconnectAttempts),0===this.reconnectAttempts&&this.emit(y.EngineEvent.Reconnecting),this.reconnectAttempts+=1,e.next=9,this.client.reconnect(this.url,this.token);case 9:if(this.publisher&&this.subscriber){e.next=11;break}throw new h.UnexpectedConnectionState("publisher and subscriber connections unset");case 11:if(this.publisher.restartingIce=!0,this.subscriber.restartingIce=!0,!this.publisher.pc.restartIce){e.next=17;break}this.publisher.pc.restartIce(),e.next=19;break;case 17:return e.next=19,this.negotiate({iceRestart:!0});case 19:t=(new Date).getTime();case 20:if(!((new Date).getTime()-t<1e4)){e.next=28;break}if(!this.iceConnected){e.next=24;break}return this.emit(y.EngineEvent.Reconnected),e.abrupt("return");case 24:return e.next=26,b.sleep(500);case 26:e.next=20;break;case 28:throw new h.ConnectionError("could not establish ICE connection");case 29:case"end":return e.stop()}}),e,this)})))}},{key:"negotiate",value:function(e){return u(this,void 0,void 0,o().mark((function t(){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.publisher){t.next=2;break}return t.abrupt("return");case 2:if(!(r=this.publisher.pc).remoteDescription||"have-local-offer"!==r.signalingState){t.next=6;break}return t.next=6,r.setRemoteDescription(r.remoteDescription);case 6:return p.default.debug("starting to negotiate",r.signalingState),t.next=9,r.createOffer(e);case 9:return n=t.sent,t.next=12,r.setLocalDescription(n);case 12:this.client.sendOffer(n);case 13:case"end":return t.stop()}}),t,this)})))}}])&&i(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),S}(f.EventEmitter);t.default=w},43140:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){o=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),c=new j(n||[]);return i(a,"_invoke",{value:P(e,r,c)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var d={};function h(){}function y(){}function m(){}var v={};l(v,c,(function(){return this}));var b=Object.getPrototypeOf,g=b&&b(b(x([])));g&&g!==t&&r.call(g,c)&&(v=g);var w=m.prototype=h.prototype=Object.create(v);function S(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function o(i,a,c,s){var u=p(e[i],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(f).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function P(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=p(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function k(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=p(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function x(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return y.prototype=m,i(w,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:y,configurable:!0}),y.displayName=l(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},S(O.prototype),l(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(w),l(w,u,"Generator"),l(w,c,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function i(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}function a(){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},a.apply(this,arguments)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}var l=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function c(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,c)}s((n=n.apply(e,t||[])).next())}))},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RoomState=void 0;var p,d=r(40063),h=f(r(65657)),y=r(5501),m=r(36917),v=r(38390),b=f(r(24350)),g=f(r(46422)),w=f(r(39577)),S=r(28413);!function(e){e.Disconnected="disconnected",e.Connected="connected",e.Reconnecting="reconnecting"}(p=t.RoomState||(t.RoomState={}));var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(P,e);var t,r,f,d,O=(f=P,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(f);if(d){var r=u(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return s(e)}(this,e)});function P(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,P),(r=O.call(this)).state=p.Disconnected,r.activeSpeakers=[],r.connect=function(e,t,n){return l(s(r),void 0,void 0,o().mark((function r(){var i,a,c=this;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!this.localParticipant){r.next=3;break}return h.default.warn("already connected to room",this.name),r.abrupt("return",this);case 3:return r.prev=3,r.next=6,this.engine.join(e,t,n);case 6:if(i=r.sent,h.default.debug("connected to Livekit Server",i.serverVersion),i.serverVersion){r.next=10;break}throw new m.UnsupportedServer("unknown server version");case 10:this.state=p.Connected,a=i.participant,this.localParticipant=new b.default(a.sid,a.identity,this.engine),this.localParticipant.updateInfo(a),this.localParticipant.on(v.ParticipantEvent.MetadataChanged,(function(e,t){c.emit(v.RoomEvent.MetadataChanged,e,t)})),i.otherParticipants.forEach((function(e){c.getOrCreateParticipant(e.sid,e)})),this.name=i.room.name,this.sid=i.room.sid,r.next=24;break;case 20:throw r.prev=20,r.t0=r.catch(3),this.engine.close(),r.t0;case 24:return r.abrupt("return",new Promise((function(e,t){var r=setTimeout((function(){c.engine.close(),t(new m.ConnectionError("could not connect after timeout"))}),5e3);c.engine.once(v.EngineEvent.Connected,(function(){clearTimeout(r),window.addEventListener("beforeunload",c.disconnect),e(c)}))})));case 25:case"end":return r.stop()}}),r,this,[[3,20]])})))},r.disconnect=function(){r.engine.client.sendLeave(),r.engine.close(),r.handleDisconnect()},r.handleSpeakerUpdate=function(e){var t=[],n={};e.forEach((function(e){if(n[e.sid]=!0,e.sid===r.localParticipant.sid)r.localParticipant.audioLevel=e.level,r.localParticipant.setIsSpeaking(!0),t.push(r.localParticipant);else{var o=r.participants.get(e.sid);o&&(o.audioLevel=e.level,o.setIsSpeaking(!0),t.push(o))}})),n[r.localParticipant.sid]||(r.localParticipant.audioLevel=0,r.localParticipant.setIsSpeaking(!1)),r.participants.forEach((function(e){n[e.sid]||(e.audioLevel=0,e.setIsSpeaking(!1))})),r.activeSpeakers=t,r.emit(v.RoomEvent.ActiveSpeakersChanged,t)},r.handleDataPacket=function(e,t){var n=r.participants.get(e.participantSid);n&&(r.emit(v.RoomEvent.DataReceived,e.payload,n,t),n.emit(v.ParticipantEvent.DataReceived,e.payload,t))},r.participants=new Map,r.engine=new w.default(e,t),r.engine.on(v.EngineEvent.MediaTrackAdded,(function(e,t,n){r.onTrackAdded(e,t,n)})),r.engine.on(v.EngineEvent.Disconnected,(function(){r.handleDisconnect()})),r.engine.on(v.EngineEvent.ParticipantUpdate,(function(e){r.handleParticipantUpdates(e)})),r.engine.on(v.EngineEvent.SpeakersUpdate,r.handleSpeakerUpdate),r.engine.on(v.EngineEvent.DataPacketReceived,r.handleDataPacket),r.engine.on(v.EngineEvent.Reconnecting,(function(){r.state=p.Reconnecting,r.emit(v.RoomEvent.Reconnecting)})),r.engine.on(v.EngineEvent.Reconnected,(function(){r.state=p.Connected,r.emit(v.RoomEvent.Reconnected)})),r}return t=P,r=[{key:"onTrackAdded",value:function(e,t,r){var n=S.unpackStreamId(t.id),o=n[0],i=n[1];i&&""!==i||(i=e.id),this.getOrCreateParticipant(o).addSubscribedMediaTrack(e,i,r)}},{key:"handleDisconnect",value:function(){this.state!==p.Disconnected&&(this.participants.forEach((function(e){e.tracks.forEach((function(t){e.unpublishTrack(t.trackSid)}))})),this.localParticipant.tracks.forEach((function(e){var t,r;null===(t=e.track)||void 0===t||t.stop(),null===(r=e.track)||void 0===r||r.detach()})),this.participants.clear(),this.activeSpeakers=[],window.removeEventListener("beforeunload",this.disconnect),this.emit(v.RoomEvent.Disconnected),this.state=p.Disconnected)}},{key:"handleParticipantUpdates",value:function(e){var t=this;e.forEach((function(e){if(e.sid!==t.localParticipant.sid){var r=t.participants.get(e.sid),n=!r;r=t.getOrCreateParticipant(e.sid,e),e.state===y.ParticipantInfo_State.DISCONNECTED?t.handleParticipantDisconnected(e.sid,r):n?t.emit(v.RoomEvent.ParticipantConnected,r):r.updateInfo(e)}else t.localParticipant.updateInfo(e)}))}},{key:"handleParticipantDisconnected",value:function(e,t){this.participants.delete(e),t&&(t.tracks.forEach((function(e){t.unpublishTrack(e.trackSid)})),this.emit(v.RoomEvent.ParticipantDisconnected,t))}},{key:"getOrCreateParticipant",value:function(e,t){var r=this,n=this.participants.get(e);return n||(n=t?g.default.fromParticipantInfo(this.engine.client,t):new g.default(this.engine.client,e,""),this.participants.set(e,n),n.on(v.ParticipantEvent.TrackPublished,(function(e){r.emit(v.RoomEvent.TrackPublished,e,n)})),n.on(v.ParticipantEvent.TrackSubscribed,(function(e,t){r.emit(v.RoomEvent.TrackSubscribed,e,t,n)})),n.on(v.ParticipantEvent.TrackUnpublished,(function(e){r.emit(v.RoomEvent.TrackUnpublished,e,n)})),n.on(v.ParticipantEvent.TrackUnsubscribed,(function(e,t){r.emit(v.RoomEvent.TrackUnsubscribed,e,t,n)})),n.on(v.ParticipantEvent.TrackSubscriptionFailed,(function(e){r.emit(v.RoomEvent.TrackSubscriptionFailed,e,n)})),n.on(v.ParticipantEvent.TrackMuted,(function(e){r.emit(v.RoomEvent.TrackMuted,e,n)})),n.on(v.ParticipantEvent.TrackUnmuted,(function(e){r.emit(v.RoomEvent.TrackUnmuted,e,n)})),n.on(v.ParticipantEvent.MetadataChanged,(function(e,t){r.emit(v.RoomEvent.MetadataChanged,e,t)}))),n}},{key:"emit",value:function(e){for(var t,r,n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return(t=h.default).debug.apply(t,["room event",e].concat(o)),(r=a(u(P.prototype),"emit",this)).call.apply(r,[this,e].concat(o))}}],r&&i(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),P}(d.EventEmitter);t.default=O},36917:(e,t)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===r(i)?i:String(i)),o)}var i}function o(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}function c(e){var t=l();return function(){var n,o=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function s(e){var t="function"==typeof Map?new Map:void 0;return s=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return u(e,arguments,p(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),f(n,e)},s(e)}function u(e,t,r){return u=l()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&f(o,r.prototype),o},u.apply(null,arguments)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.PublishDataError=t.UnexpectedConnectionState=t.UnsupportedServer=t.TrackInvalidError=t.ConnectionError=t.LivekitError=void 0;var d=function(e){a(r,e);var t=c(r);function r(e,n){var o;return i(this,r),(o=t.call(this,n||"an error has occured")).code=e,o}return o(r)}(s(Error));t.LivekitError=d;var h=function(e){a(r,e);var t=c(r);function r(e){return i(this,r),t.call(this,1,e)}return o(r)}(d);t.ConnectionError=h;var y=function(e){a(r,e);var t=c(r);function r(e){return i(this,r),t.call(this,20,e||"Track is invalid")}return o(r)}(d);t.TrackInvalidError=y;var m=function(e){a(r,e);var t=c(r);function r(e){return i(this,r),t.call(this,10,e||"Unsupported server")}return o(r)}(d);t.UnsupportedServer=m;var v=function(e){a(r,e);var t=c(r);function r(e){return i(this,r),t.call(this,12,e||"Unexpected connection state")}return o(r)}(d);t.UnexpectedConnectionState=v;var b=function(e){a(r,e);var t=c(r);function r(e){return i(this,r),t.call(this,13,e||"Unable to publish data")}return o(r)}(d);t.PublishDataError=b},38390:(e,t)=>{"use strict";var r,n,o,i;Object.defineProperty(t,"__esModule",{value:!0}),t.TrackEvent=t.EngineEvent=t.ParticipantEvent=t.RoomEvent=void 0,(i=t.RoomEvent||(t.RoomEvent={})).Reconnecting="reconnecting",i.Reconnected="reconnected",i.Disconnected="disconnected",i.ParticipantConnected="participantConnected",i.ParticipantDisconnected="participantDisconnected",i.TrackPublished="trackPublished",i.TrackSubscribed="trackSubscribed",i.TrackSubscriptionFailed="trackSubscriptionFailed",i.TrackUnpublished="trackUnpublished",i.TrackUnsubscribed="trackUnsubscribed",i.TrackMuted="trackMuted",i.TrackUnmuted="trackUnmuted",i.ActiveSpeakersChanged="activeSpeakersChanged",i.MetadataChanged="metadataChanged",i.DataReceived="dataReceived",(o=t.ParticipantEvent||(t.ParticipantEvent={})).TrackPublished="trackPublished",o.TrackSubscribed="trackSubscribed",o.TrackSubscriptionFailed="trackSubscriptionFailed",o.TrackUnpublished="trackUnpublished",o.TrackUnsubscribed="trackUnsubscribed",o.TrackMuted="trackMuted",o.TrackUnmuted="trackUnmuted",o.MetadataChanged="metadataChanged",o.DataReceived="dataReceived",o.IsSpeakingChanged="isSpeakingChanged",(n=t.EngineEvent||(t.EngineEvent={})).Connected="connected",n.Disconnected="disconnected",n.Reconnecting="reconnecting",n.Reconnected="reconnected",n.ParticipantUpdate="participantUpdate",n.MediaTrackAdded="mediaTrackAdded",n.SpeakersUpdate="speakersUpdate",n.DataPacketReceived="dataPacketReceived",(r=t.TrackEvent||(t.TrackEvent={})).Message="message",r.Muted="muted",r.Unmuted="unmuted",r.UpdateSettings="updateSettings",r.UpdateSubscription="updateSubscription"},24350:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){o=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),c=new j(n||[]);return i(a,"_invoke",{value:P(e,r,c)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var d={};function h(){}function y(){}function m(){}var v={};l(v,c,(function(){return this}));var b=Object.getPrototypeOf,g=b&&b(b(x([])));g&&g!==t&&r.call(g,c)&&(v=g);var w=m.prototype=h.prototype=Object.create(v);function S(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function o(i,a,c,s){var u=p(e[i],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(f).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function P(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=p(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function k(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=p(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function x(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return y.prototype=m,i(w,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:y,configurable:!0}),y.displayName=l(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},S(O.prototype),l(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(w),l(w,u,"Generator"),l(w,c,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function i(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}function a(){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},a.apply(this,arguments)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}var u=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function c(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,c)}s((n=n.apply(e,t||[])).next())}))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var f=l(r(65657)),p=r(65643),d=r(71970),h=r(36917),y=r(38390),m=l(r(80198)),v=l(r(55690)),b=l(r(86662)),g=r(97370),w=l(r(3410)),S=l(r(46422)),O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(P,e);var t,r,l,w,O=(l=P,w=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(l);if(w){var r=s(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function P(e,t,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,P),(n=O.call(this,e,t)).onTrackUnmuted=function(e){n.onTrackMuted(e,!1)},n.onTrackMuted=function(e,t){void 0===t&&(t=!0),e.sid?n.engine.updateMuteStatus(e.sid,t):f.default.error("could not update mute status for unpublished track",e)},n.presets169=[p.VideoPresets.qvga,p.VideoPresets.vga,p.VideoPresets.qhd,p.VideoPresets.hd,p.VideoPresets.fhd],n.presets43=[p.VideoPresets43.qvga,p.VideoPresets43.vga,p.VideoPresets43.qhd,p.VideoPresets43.hd,p.VideoPresets43.fhd],n.audioTracks=new Map,n.videoTracks=new Map,n.tracks=new Map,n.engine=r,n}return t=P,(r=[{key:"publishTrack",value:function(e,t){return u(this,void 0,void 0,o().mark((function r(){var n,i,a,c,s,u,l,p;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(e instanceof MediaStreamTrack)){r.next=9;break}r.t0=e.kind,r.next="audio"===r.t0?4:"video"===r.t0?6:8;break;case 4:return e=new m.default(e,null==t?void 0:t.name),r.abrupt("break",9);case 6:return e=new b.default(e,null==t?void 0:t.name),r.abrupt("break",9);case 8:throw new h.TrackInvalidError("unsupported MediaStreamTrack kind ".concat(e.kind));case 9:if(this.tracks.forEach((function(t){t.track&&t.track===e&&(n=t)})),!n){r.next=12;break}return r.abrupt("return",n);case 12:return e.on(y.TrackEvent.Muted,this.onTrackMuted),e.on(y.TrackEvent.Unmuted,this.onTrackUnmuted),i=e.mediaStreamTrack.id,r.next=17,this.engine.addTrack(i,e.name,e.kind,e.dimensions);case 17:if(a=r.sent,c=new v.default(e.kind,a,e),e.sid=a.sid,e.kind===g.Track.Kind.Video?(u=e.mediaStreamTrack.getSettings(),s=this.computeVideoEncodings(u.width,u.height,t)):e.kind===g.Track.Kind.Audio&&(null==t?void 0:t.audioBitrate)&&(s=[{maxBitrate:null==t?void 0:t.audioBitrate}]),this.engine.publisher){r.next=23;break}throw new h.UnexpectedConnectionState("publisher is closed");case 23:return f.default.debug("publishing with encodings",s),l={direction:"sendonly"},s&&(l.sendEncodings=s),p=this.engine.publisher.pc.addTransceiver(e.mediaStreamTrack,l),e.sender=p.sender,e instanceof b.default&&e.startMonitor(this.engine.client),(null==t?void 0:t.videoCodec)&&this.setPreferredCodec(p,e.kind,t.videoCodec),this.addTrackPublication(c),this.emit(y.ParticipantEvent.TrackPublished,c),r.abrupt("return",c);case 33:case"end":return r.stop()}}),r,this)})))}},{key:"unpublishTrack",value:function(e){var t,r=this,n=this.getPublicationForTrack(e);if(f.default.debug("unpublishTrack","unpublishing track",e),!n)return f.default.warn("unpublishTrack","track was not unpublished because no publication was found",e),null;switch((e instanceof m.default||e instanceof b.default)&&(e.removeListener(y.TrackEvent.Muted,this.onTrackMuted),e.removeListener(y.TrackEvent.Unmuted,this.onTrackUnmuted)),e.stop(),t=e instanceof MediaStreamTrack?e:e.mediaStreamTrack,this.engine.publisher&&this.engine.publisher.pc.getSenders().forEach((function(e){var n;e.track===t&&(null===(n=r.engine.publisher)||void 0===n||n.pc.removeTrack(e))})),this.tracks.delete(n.trackSid),n.kind){case g.Track.Kind.Audio:this.audioTracks.delete(n.trackSid);break;case g.Track.Kind.Video:this.videoTracks.delete(n.trackSid)}return n}},{key:"unpublishTracks",value:function(e){var t=this,r=[];return e.forEach((function(e){var n=t.unpublishTrack(e);n&&r.push(n)})),r}},{key:"publisherMetrics",get:function(){return null}},{key:"updateInfo",value:function(e){var t=this;a(s(P.prototype),"updateInfo",this).call(this,e),e.tracks.forEach((function(e){var r=t.tracks.get(e.sid);r&&(e.muted&&!r.isMuted?r.mute():!e.muted&&r.isMuted&&r.unmute())}))}},{key:"publishData",value:function(e,t,r){if(e.length>14e3)throw new h.PublishDataError("data cannot be larger than 14k");var n=[];void 0!==r&&r.forEach((function(e){e instanceof S.default?n.push(e.sid):n.push(e)}));var o={kind:t,user:{participantSid:this.sid,payload:e,destinationSids:n}},i=d.DataPacket.encode(o).finish();t===d.DataPacket_Kind.LOSSY&&this.engine.lossyDC?this.engine.lossyDC.send(i):t===d.DataPacket_Kind.RELIABLE&&this.engine.reliableDC&&this.engine.reliableDC.send(i)}},{key:"getPublicationForTrack",value:function(e){var t;return this.tracks.forEach((function(r){var n=r.track;n&&(e instanceof MediaStreamTrack?(n instanceof m.default||n instanceof b.default)&&n.mediaStreamTrack===e&&(t=r):e===n&&(t=r))})),t}},{key:"setPreferredCodec",value:function(e,t,r){if("getCapabilities"in RTCRtpSender){var n=RTCRtpSender.getCapabilities(t);if(n){var o=n.codecs.find((function(e){return e.mimeType.toLowerCase()==="video/".concat(r)||"audio/opus"===e.mimeType.toLowerCase()}));o&&"setCodecPreferences"in e&&e.setCodecPreferences([o])}}}},{key:"computeVideoEncodings",value:function(e,t,r){var n,o=null==r?void 0:r.videoEncoding;if((o||(null==r?void 0:r.simulcast))&&e&&t){if(o||(o=this.determineAppropriateEncoding(e,t),f.default.debug("using video encoding",o)),null==r?void 0:r.simulcast){n=[{rid:"f",maxBitrate:o.maxBitrate,maxFramerate:o.maxFramerate}];var i=this.presetsForResolution(e,t),a=i[1],c=i[0];.7*t>=a.height?(n.push({rid:"h",scaleResolutionDownBy:t/a.height,maxBitrate:a.encoding.maxBitrate,maxFramerate:a.encoding.maxFramerate}),n.push({rid:"q",scaleResolutionDownBy:t/c.height,maxBitrate:c.encoding.maxBitrate,maxFramerate:c.encoding.maxFramerate})):n.push({rid:"h",scaleResolutionDownBy:t/c.height,maxBitrate:c.encoding.maxBitrate,maxFramerate:c.encoding.maxFramerate})}else n=[o];return n}}},{key:"determineAppropriateEncoding",value:function(e,t){for(var r=this.presetsForResolution(e,t),n=r[0].encoding,o=0;o<r.length;o+=1){var i=r[o];e>=i.width&&t>=i.height&&(n=i.encoding)}return n}},{key:"presetsForResolution",value:function(e,t){var r=e/t;return Math.abs(r-16/9)<Math.abs(r-4/3)?this.presets169:this.presets43}}])&&i(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),P}(w.default);t.default=O},3410:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}Object.defineProperty(t,"__esModule",{value:!0});var c=r(40063),s=r(38390),u=r(97370),l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(p,e);var t,r,c,l,f=(c=p,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=a(c);if(l){var r=a(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function p(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(r=f.call(this)).audioLevel=0,r.isSpeaking=!1,r.sid=e,r.identity=t,r.audioTracks=new Map,r.videoTracks=new Map,r.tracks=new Map,r}return t=p,(r=[{key:"getTracks",value:function(){return Array.from(this.tracks.values())}},{key:"joinedAt",get:function(){return this.participantInfo?new Date(1e3*this.participantInfo.joinedAt):new Date}},{key:"updateInfo",value:function(e){this.identity=e.identity,this.sid=e.sid,this.setMetadata(e.metadata),this.participantInfo=e}},{key:"setMetadata",value:function(e){var t=!this.participantInfo||this.participantInfo.metadata!==e,r=this.metadata;this.metadata=e,t&&this.emit(s.ParticipantEvent.MetadataChanged,r)}},{key:"setIsSpeaking",value:function(e){e!==this.isSpeaking&&(this.isSpeaking=e,e&&(this.lastSpokeAt=new Date),this.emit(s.ParticipantEvent.IsSpeakingChanged,e))}},{key:"addTrackPublication",value:function(e){var t=this;e.on(s.TrackEvent.Muted,(function(){t.emit(s.ParticipantEvent.TrackMuted,e)})),e.on(s.TrackEvent.Unmuted,(function(){t.emit(s.ParticipantEvent.TrackUnmuted,e)}));var r=e;switch(r.track&&(r.track.sid=e.trackSid),this.tracks.set(e.trackSid,e),e.kind){case u.Track.Kind.Audio:this.audioTracks.set(e.trackSid,e);break;case u.Track.Kind.Video:this.videoTracks.set(e.trackSid,e)}}}])&&o(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),p}(c.EventEmitter);t.default=l},46422:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}function i(){return i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},i.apply(this,arguments)}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=s(r(65657)),l=r(38390),f=s(r(76882)),p=s(r(90823)),d=s(r(21233)),h=r(97370),y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(b,e);var t,r,s,y,m,v=(y=b,m=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(y);if(m){var r=c(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function b(e,t,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),(n=v.call(this,t,r||"")).signalClient=e,n.tracks=new Map,n.audioTracks=new Map,n.videoTracks=new Map,n}return t=b,r=[{key:"addTrackPublication",value:function(e){var t=this;i(c(b.prototype),"addTrackPublication",this).call(this,e),e.on(l.TrackEvent.UpdateSettings,(function(e){t.signalClient.sendUpdateTrackSettings(e)})),e.on(l.TrackEvent.UpdateSubscription,(function(e){t.signalClient.sendUpdateSubscription(e)}))}},{key:"addSubscribedMediaTrack",value:function(e,t,r,n){var o=this,i=this.getTrackPublication(t);if(i||t.startsWith("TR")||this.tracks.forEach((function(t){i||e.kind!==t.kind.toString()||(i=t)})),!i)return 0===n?(u.default.error("could not find published track",this.sid,t),void this.emit(l.ParticipantEvent.TrackSubscriptionFailed,t)):(void 0===n&&(n=20),void setTimeout((function(){o.addSubscribedMediaTrack(e,t,r,n-1)}),150));var a,c="video"===e.kind;return a=c?new d.default(e,t,r):new f.default(e,t,r),i.setTrack(a),a.name=i.trackName,a.sid=i.trackSid,a.isMuted=i.isMuted,e.onended=function(){o.emit(l.ParticipantEvent.TrackUnsubscribed,a,i)},this.emit(l.ParticipantEvent.TrackSubscribed,a,i),i}},{key:"hasMetadata",get:function(){return!!this.participantInfo}},{key:"getTrackPublication",value:function(e){return this.tracks.get(e)}},{key:"updateInfo",value:function(e){var t=this,r=this.hasMetadata;i(c(b.prototype),"updateInfo",this).call(this,e);var n=new Map,o=new Map;e.tracks.forEach((function(e){var r=t.getTrackPublication(e.sid);if(r)r.updateInfo(e);else{var i=h.Track.kindFromProto(e.type);if(!i)return;(r=new p.default(i,e.sid,e.name)).updateInfo(e),o.set(e.sid,r),t.addTrackPublication(r)}n.set(e.sid,r)})),r&&o.forEach((function(e){t.emit(l.ParticipantEvent.TrackPublished,e)})),this.tracks.forEach((function(e){n.has(e.trackSid)||t.unpublishTrack(e.trackSid,!0)}))}},{key:"unpublishTrack",value:function(e,t){var r=this.tracks.get(e);if(r){switch(this.tracks.delete(e),r.kind){case h.Track.Kind.Audio:this.audioTracks.delete(e);break;case h.Track.Kind.Video:this.videoTracks.delete(e)}if(r.track){var n=r.track;n.stop(),r.setTrack(void 0),this.emit(l.ParticipantEvent.TrackUnsubscribed,n,r)}t&&this.emit(l.ParticipantEvent.TrackUnpublished,r)}}},{key:"emit",value:function(e){for(var t,r,n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];return(t=u.default).trace.apply(t,["participant event",this.sid,e].concat(o)),(r=i(c(b.prototype),"emit",this)).call.apply(r,[this,e].concat(o))}}],s=[{key:"fromParticipantInfo",value:function(e,t){var r=new b(e,t.sid,t.identity);return r.updateInfo(t),r}}],r&&o(t.prototype,r),s&&o(t,s),Object.defineProperty(t,"prototype",{writable:!1}),b}(s(r(3410)).default);t.default=y},27597:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.monitorFrequency=void 0,t.monitorFrequency=2e3},80198:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=a(r(64914)),s=r(97370),u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(u,e);var t,r,a,c=(r=u,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=i(r);if(a){var o=i(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e,t,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=c.call(this,e,s.Track.Kind.Audio,t)).constraints=r||{},n}return t=u,Object.defineProperty(t,"prototype",{writable:!1}),t}(c.default);t.default=u},64914:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){o=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),c=new j(n||[]);return i(a,"_invoke",{value:P(e,r,c)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var d={};function h(){}function y(){}function m(){}var v={};l(v,c,(function(){return this}));var b=Object.getPrototypeOf,g=b&&b(b(x([])));g&&g!==t&&r.call(g,c)&&(v=g);var w=m.prototype=h.prototype=Object.create(v);function S(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function o(i,a,c,s){var u=p(e[i],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(f).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function P(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=p(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function k(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=p(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function x(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return y.prototype=m,i(w,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:y,configurable:!0}),y.displayName=l(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},S(O.prototype),l(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(w),l(w,u,"Generator"),l(w,c,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function i(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function c(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,c)}s((n=n.apply(e,t||[])).next())}))},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(r(65657)),f=r(36917),p=r(38390),d=r(97370),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(m,e);var t,r,u,h,y=(u=m,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(u);if(h){var r=c(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function m(e,t,r,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),(o=y.call(this,e,t,r)).constraints=n||{},o}return t=m,(r=[{key:"id",get:function(){return this.mediaStreamTrack.id}},{key:"dimensions",get:function(){if(this.kind===d.Track.Kind.Video){var e=this.mediaStreamTrack.getSettings(),t=e.width,r=e.height;return t&&r?{width:t,height:r}:void 0}}},{key:"mute",value:function(){return this.setTrackMuted(!0),this}},{key:"unmute",value:function(){return this.setTrackMuted(!1),this}},{key:"restart",value:function(e){return s(this,void 0,void 0,o().mark((function t(){var r,n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.sender){t.next=2;break}throw new f.TrackInvalidError("unable to restart an unpublished track");case 2:return e||(e=this.constraints),this.mediaStreamTrack.stop(),r={audio:!1,video:!1},this.kind===d.Track.Kind.Video?r.video=e:r.audio=e,t.next=8,navigator.mediaDevices.getUserMedia(r);case 8:return n=t.sent,i=n.getTracks()[0],l.default.info("re-acquired MediaStreamTrack"),this.constraints=e,i.enabled=this.mediaStreamTrack.enabled,t.next=15,this.sender.replaceTrack(i);case 15:return this.mediaStreamTrack=i,this.attachedElements.forEach((function(e){d.attachToElement(i,e)})),t.abrupt("return",this);case 18:case"end":return t.stop()}}),t,this)})))}},{key:"setTrackMuted",value:function(e){this.isMuted!==e&&(this.isMuted=e,this.mediaStreamTrack.enabled=!e,this.emit(e?p.TrackEvent.Muted:p.TrackEvent.Unmuted,this))}}])&&i(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),m}(d.Track);t.default=h},55690:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}function i(){return i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},i.apply(this,arguments)}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(f,e);var t,r,s,u,l=(s=f,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(s);if(u){var r=c(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function f(e,t,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(n=l.call(this,e,t.sid,t.name)).updateInfo(t),n.setTrack(r),n}return t=f,(r=[{key:"isMuted",get:function(){return this.track?this.track.isMuted:i(c(f.prototype),"isMuted",this)}},{key:"mute",value:function(){var e;null===(e=this.track)||void 0===e||e.mute()}},{key:"unmute",value:function(){var e;null===(e=this.track)||void 0===e||e.unmute()}}])&&o(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),f}(s(r(18764)).default);t.default=u},86662:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){o=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),c=new j(n||[]);return i(a,"_invoke",{value:P(e,r,c)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var d={};function h(){}function y(){}function m(){}var v={};l(v,c,(function(){return this}));var b=Object.getPrototypeOf,g=b&&b(b(x([])));g&&g!==t&&r.call(g,c)&&(v=g);var w=m.prototype=h.prototype=Object.create(v);function S(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function o(i,a,c,s){var u=p(e[i],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(f).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function P(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=p(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function k(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=p(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function x(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return y.prototype=m,i(w,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:y,configurable:!0}),y.displayName=l(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},S(O.prototype),l(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(w),l(w,u,"Generator"),l(w,c,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function i(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}function a(){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},a.apply(this,arguments)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}var l=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function c(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,c)}s((n=n.apply(e,t||[])).next())}))},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var p=f(r(65657)),d=r(71970),h=r(27597),y=f(r(64914)),m=r(97370),v=["f","h","q"],b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(w,e);var t,r,f,y,b=(f=w,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(f);if(y){var r=u(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return s(e)}(this,e)});function w(e,t,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,w),(n=b.call(this,e,m.Track.Kind.Video,t)).disableCount={2:0,1:0,0:0},n.monitorSender=function(){return l(s(n),void 0,void 0,o().mark((function e(){var t,r,n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getSenderStats();case 4:t=e.sent,r=new Map(t.map((function(e){return[e.rid,e]}))),this.prevStats&&this.isSimulcast&&this.checkAndUpdateSimulcast(r),this.prevStats=r,setTimeout((function(){n.monitorSender()}),h.monitorFrequency);case 9:case"end":return e.stop()}}),e,this)})))},n.constraints=r||{},n}return t=w,(r=[{key:"isSimulcast",get:function(){return!!(this.sender&&this.sender.getParameters().encodings.length>1)}},{key:"startMonitor",value:function(e){var t=this;this.isSimulcast&&(this.signalClient=e,setTimeout((function(){t.monitorSender()}),h.monitorFrequency))}},{key:"stop",value:function(){this.sender=void 0,a(u(w.prototype),"stop",this).call(this)}},{key:"getSenderStats",value:function(){return l(this,void 0,void 0,o().mark((function e(){var t,r,n,i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender){e.next=2;break}return e.abrupt("return",[]);case 2:return t=[],e.next=5,this.sender.getStats();case 5:if((r=e.sent).forEach((function(e){"track"===e.type&&e.trackIdentifier===i.mediaStreamTrack.id&&(n=e)})),n){e.next=9;break}return e.abrupt("return",t);case 9:return r.forEach((function(e){if("outbound-rtp"===e.type&&e.trackId===n.id){var o={type:"video",streamId:e.id,frameHeight:e.frameHeight,frameWidth:e.frameWidth,firCount:e.firCount,pliCount:e.pliCount,nackCount:e.nackCount,packetsSent:e.packetsSent,framesSent:e.framesSent,timestamp:e.timestamp,rid:e.rid,retransmittedPacketsSent:e.retransmittedPacketsSent,qualityLimitationReason:e.qualityLimitationReason,qualityLimitationResolutionChanges:e.qualityLimitationResolutionChanges},i=r.get(e.remoteId);i&&(o.jitter=i.jitter,o.packetsLost=i.packetsLost,o.roundTripTime=i.roundTripTime),t.push(o)}})),t.sort((function(e,t){var r=v.indexOf(e.rid),n=v.indexOf(t.rid);return r===n?0:r<n?-1:1})),e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,this)})))}},{key:"setPublishingQuality",value:function(e){var t;if(this.isSimulcast&&this.encodings){var r=!1,n=[];if(this.encodings.forEach((function(t){var o,i=g(null!==(o=t.rid)&&void 0!==o?o:""),a=i<=e;a!==t.active&&(r=!0,t.active=a),a&&n.push(i)})),r&&this.sender&&this.sid){this.lastQualityChange=(new Date).getTime(),null===(t=this.signalClient)||void 0===t||t.sendSetSimulcastLayers(this.sid,n);var o=this.sender.getParameters();o.encodings=this.encodings,p.default.debug("setting publishing quality. max quality",e),this.sender.setParameters(o)}}}},{key:"checkAndUpdateSimulcast",value:function(e){var t,r;if(this.sender){var n,o=this.sender.getParameters();if(this.encodings=o.encodings,this.encodings.forEach((function(e){void 0===n&&e.active&&(n=e)})),n){var i=null!==(t=n.rid)&&void 0!==t?t:"",a=e.get(i),c=null===(r=this.prevStats)||void 0===r?void 0:r.get(i);if(a&&c){var s=g(i);if(a.qualityLimitationResolutionChanges-c.qualityLimitationResolutionChanges>0&&(this.lastQualityChange=(new Date).getTime()),a.framesSent-c.framesSent>0){if(s===d.VideoQuality.HIGH||!this.lastQualityChange)return;if((new Date).getTime()-this.lastQualityChange<18e4)return;var u=s+1;if(this.disableCount[u]>=3)return;return p.default.debug("upgrading video quality to",u),void this.setPublishingQuality(u)}s!==d.VideoQuality.UNRECOGNIZED&&s!==d.VideoQuality.LOW&&(p.default.debug("downgrading video quality to",s-1),this.disableCount[s]+=1,this.setPublishingQuality(s-1))}}}}}])&&i(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),w}(y.default);function g(e){switch(e){case"f":return d.VideoQuality.HIGH;case"h":return d.VideoQuality.MEDIUM;case"q":return d.VideoQuality.LOW;default:return d.VideoQuality.UNRECOGNIZED}}t.default=b},76882:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}Object.defineProperty(t,"__esModule",{value:!0});var c=r(38390),s=r(97370),u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(p,e);var t,r,u,l,f=(u=p,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=a(u);if(l){var r=a(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function p(e,t,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(n=f.call(this,e,s.Track.Kind.Audio)).sid=t,n.receiver=r,n}return t=p,(r=[{key:"setMuted",value:function(e){this.isMuted!==e&&(this.isMuted=e,this.emit(e?c.TrackEvent.Muted:c.TrackEvent.Unmuted,this))}}])&&o(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),p}(s.Track);t.default=u},90823:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}function i(){return i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},i.apply(this,arguments)}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=r(71970),l=r(38390),f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(d,e);var t,r,s,f,p=(s=d,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(s);if(f){var r=c(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function d(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(e=p.apply(this,arguments)).disabled=!1,e.currentVideoQuality=u.VideoQuality.HIGH,e}return t=d,(r=[{key:"setSubscribed",value:function(e){this.subscribed=e;var t={trackSids:[this.trackSid],subscribe:this.subscribed};this.emit(l.TrackEvent.UpdateSubscription,t)}},{key:"isSubscribed",get:function(){return!1!==this.subscribed&&i(c(d.prototype),"isSubscribed",this)}},{key:"isEnabled",get:function(){return!this.disabled}},{key:"setEnabled",value:function(e){this.disabled!==!e&&(this.disabled=!e,this.emitTrackUpdate())}},{key:"setVideoQuality",value:function(e){this.currentVideoQuality!==e&&(this.currentVideoQuality=e,this.emitTrackUpdate())}},{key:"videoQuality",get:function(){return this.currentVideoQuality}},{key:"updateInfo",value:function(e){var t;i(c(d.prototype),"updateInfo",this).call(this,e),this.metadataMuted=e.muted,null===(t=this.track)||void 0===t||t.setMuted(e.muted)}},{key:"emitTrackUpdate",value:function(){var e={trackSids:[this.trackSid],disabled:this.disabled,quality:this.currentVideoQuality};this.emit(l.TrackEvent.UpdateSettings,e)}}])&&o(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(s(r(18764)).default);t.default=f},21233:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}function i(){return i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},i.apply(this,arguments)}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}Object.defineProperty(t,"__esModule",{value:!0});var s=r(38390),u=r(97370),l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(d,e);var t,r,l,f,p=(l=d,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(l);if(f){var r=c(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function d(e,t,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(n=p.call(this,e,u.Track.Kind.Video)).sid=t,n.receiver=r,n}return t=d,(r=[{key:"setMuted",value:function(e){this.isMuted!==e&&(this.isMuted=e,this.emit(e?s.TrackEvent.Muted:s.TrackEvent.Unmuted,this))}},{key:"stop",value:function(){i(c(d.prototype),"stop",this).call(this)}}])&&o(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(u.Track);t.default=l},97370:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.attachToElement=t.Track=void 0;var c=r(40063),s=r(5501),u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(p,e);var t,r,c,s,u=(c=p,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=a(c);if(s){var r=a(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function p(e,t,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(n=u.call(this)).attachedElements=[],n.isMuted=!1,n.kind=t,n.mediaStreamTrack=e,n.name=r||"",n}return t=p,(r=[{key:"attach",value:function(e){var t="audio";return this.kind===p.Kind.Video&&(t="video"),e?(e instanceof HTMLVideoElement&&(e.playsInline=!0),e.autoplay=!0):((e=document.createElement(t)).autoplay=!0,e instanceof HTMLVideoElement&&(e.playsInline=!0)),this.attachedElements.includes(e)||(l(this.mediaStreamTrack,e),this.attachedElements.push(e)),e}},{key:"detach",value:function(e){var t=this;if(e){f(this.mediaStreamTrack,e);var r=this.attachedElements.indexOf(e);return r>=0&&this.attachedElements.splice(r,1),e}var n=[];return this.attachedElements.forEach((function(e){f(t.mediaStreamTrack,e),n.push(e)})),this.attachedElements=[],n}},{key:"stop",value:function(){this.mediaStreamTrack.stop()}}])&&o(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),p}(c.EventEmitter);function l(e,t){var r;t.srcObject instanceof MediaStream?r=t.srcObject:(r=new MediaStream,t.srcObject=r),("audio"===e.kind?r.getAudioTracks():r.getVideoTracks()).forEach((function(e){r.removeTrack(e)})),r.addTrack(e)}function f(e,t){t.srcObject instanceof MediaStream&&t.srcObject.removeTrack(e)}t.Track=u,t.attachToElement=l,function(e){var t;!function(e){e.Audio="audio",e.Video="video",e.Unknown="unknown"}(t=e.Kind||(e.Kind={})),e.kindToProto=function(e){switch(e){case t.Audio:return s.TrackType.AUDIO;case t.Video:return s.TrackType.VIDEO;default:return s.TrackType.UNRECOGNIZED}},e.kindFromProto=function(e){switch(e){case s.TrackType.AUDIO:return t.Audio;case s.TrackType.VIDEO:return t.Video;default:return t.Unknown}}}(u=t.Track||(t.Track={}))},18764:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}var c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(40063),u=r(38390),l=c(r(80198)),f=c(r(86662)),p=c(r(76882)),d=c(r(21233)),h=r(97370),y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(m,e);var t,r,c,s,y=(c=m,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=a(c);if(s){var r=a(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function m(e,t,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),(n=y.call(this)).metadataMuted=!1,n.kind=e,n.trackSid=t,n.trackName=r,n}return t=m,(r=[{key:"setTrack",value:function(e){var t=this;this.track=e,e&&(e.on(u.TrackEvent.Muted,(function(){t.emit(u.TrackEvent.Muted)})),e.on(u.TrackEvent.Unmuted,(function(){t.emit(u.TrackEvent.Unmuted)})))}},{key:"isMuted",get:function(){return this.metadataMuted}},{key:"isSubscribed",get:function(){return void 0!==this.track}},{key:"audioTrack",get:function(){if(this.track instanceof l.default||this.track instanceof p.default)return this.track}},{key:"videoTrack",get:function(){if(this.track instanceof f.default||this.track instanceof d.default)return this.track}},{key:"updateInfo",value:function(e){this.trackSid=e.sid,this.trackName=e.name,this.kind===h.Track.Kind.Video&&e.width>0&&(this.dimensions={width:e.width,height:e.height},this.simulcasted=e.simulcast)}}])&&o(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),m}(s.EventEmitter);t.default=y},47577:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},55409:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},28413:function(e,t){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(){n=function(){return e};var e={},t=Object.prototype,o=t.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),c=new j(n||[]);return i(a,"_invoke",{value:P(e,r,c)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var d={};function h(){}function y(){}function m(){}var v={};l(v,c,(function(){return this}));var b=Object.getPrototypeOf,g=b&&b(b(x([])));g&&g!==t&&o.call(g,c)&&(v=g);var w=m.prototype=h.prototype=Object.create(v);function S(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(i,a,c,s){var u=p(e[i],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==r(f)&&o.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,c,s)}),(function(e){n("throw",e,c,s)})):t.resolve(f).then((function(e){l.value=e,c(l)}),(function(e){return n("throw",e,c,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function P(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=p(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function k(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=p(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function x(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:C}}function C(){return{value:void 0,done:!0}}return y.prototype=m,i(w,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:y,configurable:!0}),y.displayName=l(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},S(O.prototype),l(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(w),l(w,u,"Generator"),l(w,c,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=o.call(i,"catchLoc"),s=o.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}var o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function c(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,c)}s((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.sleep=t.useLegacyAPI=t.unpackStreamId=void 0;t.unpackStreamId=function(e){var t=e.split("|");return t.length>1?[t[0],e.substr(t[0].length+1)]:[e,""]},t.useLegacyAPI=function(){return"undefined"!=typeof navigator&&"ReactNative"===navigator.product},t.sleep=function(e){return o(this,void 0,void 0,n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){return setTimeout(t,e)})));case 1:case"end":return t.stop()}}),t)})))}},70044:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.protocolVersion=t.version=void 0,t.version="0.10.1",t.protocolVersion=2},65657:function(e,t,r){var n,o;function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}!function(a,c){"use strict";n=function(){var e=function(){},t="undefined",r=("undefined"==typeof window?"undefined":i(window))!==t&&i(window.navigator)!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"];function o(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function a(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function c(t,r){for(var o=0;o<n.length;o++){var i=n[o];this[i]=o<t?e:this.methodFactory(i,t,r)}this.log=this.debug}function s(e,r,n){return function(){("undefined"==typeof console?"undefined":i(console))!==t&&(c.call(this,r,n),this[e].apply(this,arguments))}}function u(n,c,u){return function(n){return"debug"===n&&(n="log"),("undefined"==typeof console?"undefined":i(console))!==t&&("trace"===n&&r?a:void 0!==console[n]?o(console,n):void 0!==console.log?o(console,"log"):e)}(n)||s.apply(this,arguments)}function l(e,r,o){var a,s=this,l="loglevel";function f(){var e;if(("undefined"==typeof window?"undefined":i(window))!==t&&l){try{e=window.localStorage[l]}catch(e){}if(i(e)===t)try{var r=window.document.cookie,n=r.indexOf(encodeURIComponent(l)+"=");-1!==n&&(e=/^([^;]+)/.exec(r.slice(n))[1])}catch(e){}return void 0===s.levels[e]&&(e=void 0),e}}"string"==typeof e?l+=":"+e:"symbol"===i(e)&&(l=void 0),s.name=e,s.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},s.methodFactory=o||u,s.getLevel=function(){return a},s.setLevel=function(r,o){if("string"==typeof r&&void 0!==s.levels[r.toUpperCase()]&&(r=s.levels[r.toUpperCase()]),!("number"==typeof r&&r>=0&&r<=s.levels.SILENT))throw"log.setLevel() called with invalid level: "+r;if(a=r,!1!==o&&function(e){var r=(n[e]||"silent").toUpperCase();if(("undefined"==typeof window?"undefined":i(window))!==t&&l){try{return void(window.localStorage[l]=r)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"="+r+";"}catch(e){}}}(r),c.call(s,r,e),("undefined"==typeof console?"undefined":i(console))===t&&r<s.levels.SILENT)return"No console available for logging"},s.setDefaultLevel=function(e){f()||s.setLevel(e,!1)},s.enableAll=function(e){s.setLevel(s.levels.TRACE,e)},s.disableAll=function(e){s.setLevel(s.levels.SILENT,e)};var p=f();null==p&&(p=null==r?"WARN":r),s.setLevel(p,!1)}var f=new l,p={};f.getLogger=function(e){if("symbol"!==i(e)&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=p[e];return t||(t=p[e]=new l(e,f.getLevel(),f.methodFactory)),t};var d=("undefined"==typeof window?"undefined":i(window))!==t?window.log:void 0;return f.noConflict=function(){return("undefined"==typeof window?"undefined":i(window))!==t&&window.log===f&&(window.log=d),f},f.getLoggers=function(){return p},f.default=f,f},void 0===(o=n.call(t,r,t,e))||(e.exports=o)}()},15626:e=>{e.exports=r;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function r(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function n(e){return!0===(e&&e.__isLong__)}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=n;var o={},i={};function a(e,t){var r,n,a;return t?(a=0<=(e>>>=0)&&e<256)&&(n=i[e])?n:(r=s(e,(0|e)<0?-1:0,!0),a&&(i[e]=r),r):(a=-128<=(e|=0)&&e<128)&&(n=o[e])?n:(r=s(e,e<0?-1:0,!1),a&&(o[e]=r),r)}function c(e,t){if(isNaN(e))return t?v:m;if(t){if(e<0)return v;if(e>=d)return O}else{if(e<=-h)return P;if(e+1>=h)return S}return e<0?c(-e,t).neg():s(e%p|0,e/p|0,t)}function s(e,t,n){return new r(e,t,n)}r.fromInt=a,r.fromNumber=c,r.fromBits=s;var u=Math.pow;function l(e,t,r){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return m;if("number"==typeof t?(r=t,t=!1):t=!!t,(r=r||10)<2||36<r)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return l(e.substring(1),t,r).neg();for(var o=c(u(r,8)),i=m,a=0;a<e.length;a+=8){var s=Math.min(8,e.length-a),f=parseInt(e.substring(a,a+s),r);if(s<8){var p=c(u(r,s));i=i.mul(p).add(c(f))}else i=(i=i.mul(o)).add(c(f))}return i.unsigned=t,i}function f(e,t){return"number"==typeof e?c(e,t):"string"==typeof e?l(e,t):s(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}r.fromString=l,r.fromValue=f;var p=4294967296,d=p*p,h=d/2,y=a(1<<24),m=a(0);r.ZERO=m;var v=a(0,!0);r.UZERO=v;var b=a(1);r.ONE=b;var g=a(1,!0);r.UONE=g;var w=a(-1);r.NEG_ONE=w;var S=s(-1,2147483647,!1);r.MAX_VALUE=S;var O=s(-1,-1,!0);r.MAX_UNSIGNED_VALUE=O;var P=s(0,-2147483648,!1);r.MIN_VALUE=P;var k=r.prototype;k.toInt=function(){return this.unsigned?this.low>>>0:this.low},k.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},k.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(P)){var t=c(e),r=this.div(t),n=r.mul(t).sub(this);return r.toString(e)+n.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var o=c(u(e,6),this.unsigned),i=this,a="";;){var s=i.div(o),l=(i.sub(s.mul(o)).toInt()>>>0).toString(e);if((i=s).isZero())return l+a;for(;l.length<6;)l="0"+l;a=""+l+a}},k.getHighBits=function(){return this.high},k.getHighBitsUnsigned=function(){return this.high>>>0},k.getLowBits=function(){return this.low},k.getLowBitsUnsigned=function(){return this.low>>>0},k.getNumBitsAbs=function(){if(this.isNegative())return this.eq(P)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},k.isZero=function(){return 0===this.high&&0===this.low},k.eqz=k.isZero,k.isNegative=function(){return!this.unsigned&&this.high<0},k.isPositive=function(){return this.unsigned||this.high>=0},k.isOdd=function(){return 1==(1&this.low)},k.isEven=function(){return 0==(1&this.low)},k.equals=function(e){return n(e)||(e=f(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},k.eq=k.equals,k.notEquals=function(e){return!this.eq(e)},k.neq=k.notEquals,k.ne=k.notEquals,k.lessThan=function(e){return this.comp(e)<0},k.lt=k.lessThan,k.lessThanOrEqual=function(e){return this.comp(e)<=0},k.lte=k.lessThanOrEqual,k.le=k.lessThanOrEqual,k.greaterThan=function(e){return this.comp(e)>0},k.gt=k.greaterThan,k.greaterThanOrEqual=function(e){return this.comp(e)>=0},k.gte=k.greaterThanOrEqual,k.ge=k.greaterThanOrEqual,k.compare=function(e){if(n(e)||(e=f(e)),this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},k.comp=k.compare,k.negate=function(){return!this.unsigned&&this.eq(P)?P:this.not().add(b)},k.neg=k.negate,k.add=function(e){n(e)||(e=f(e));var t=this.high>>>16,r=65535&this.high,o=this.low>>>16,i=65535&this.low,a=e.high>>>16,c=65535&e.high,u=e.low>>>16,l=0,p=0,d=0,h=0;return d+=(h+=i+(65535&e.low))>>>16,p+=(d+=o+u)>>>16,l+=(p+=r+c)>>>16,l+=t+a,s((d&=65535)<<16|(h&=65535),(l&=65535)<<16|(p&=65535),this.unsigned)},k.subtract=function(e){return n(e)||(e=f(e)),this.add(e.neg())},k.sub=k.subtract,k.multiply=function(e){if(this.isZero())return m;if(n(e)||(e=f(e)),t)return s(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return m;if(this.eq(P))return e.isOdd()?P:m;if(e.eq(P))return this.isOdd()?P:m;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(y)&&e.lt(y))return c(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,o=65535&this.high,i=this.low>>>16,a=65535&this.low,u=e.high>>>16,l=65535&e.high,p=e.low>>>16,d=65535&e.low,h=0,v=0,b=0,g=0;return b+=(g+=a*d)>>>16,v+=(b+=i*d)>>>16,b&=65535,v+=(b+=a*p)>>>16,h+=(v+=o*d)>>>16,v&=65535,h+=(v+=i*p)>>>16,v&=65535,h+=(v+=a*l)>>>16,h+=r*d+o*p+i*l+a*u,s((b&=65535)<<16|(g&=65535),(h&=65535)<<16|(v&=65535),this.unsigned)},k.mul=k.multiply,k.divide=function(e){if(n(e)||(e=f(e)),e.isZero())throw Error("division by zero");var r,o,i;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?s((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?v:m;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return v;if(e.gt(this.shru(1)))return g;i=v}else{if(this.eq(P))return e.eq(b)||e.eq(w)?P:e.eq(P)?b:(r=this.shr(1).div(e).shl(1)).eq(m)?e.isNegative()?b:w:(o=this.sub(e.mul(r)),i=r.add(o.div(e)));if(e.eq(P))return this.unsigned?v:m;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=m}for(o=this;o.gte(e);){r=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(r)/Math.LN2),l=a<=48?1:u(2,a-48),p=c(r),d=p.mul(e);d.isNegative()||d.gt(o);)d=(p=c(r-=l,this.unsigned)).mul(e);p.isZero()&&(p=b),i=i.add(p),o=o.sub(d)}return i},k.div=k.divide,k.modulo=function(e){return n(e)||(e=f(e)),t?s((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},k.mod=k.modulo,k.rem=k.modulo,k.not=function(){return s(~this.low,~this.high,this.unsigned)},k.and=function(e){return n(e)||(e=f(e)),s(this.low&e.low,this.high&e.high,this.unsigned)},k.or=function(e){return n(e)||(e=f(e)),s(this.low|e.low,this.high|e.high,this.unsigned)},k.xor=function(e){return n(e)||(e=f(e)),s(this.low^e.low,this.high^e.high,this.unsigned)},k.shiftLeft=function(e){return n(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?s(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):s(0,this.low<<e-32,this.unsigned)},k.shl=k.shiftLeft,k.shiftRight=function(e){return n(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?s(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):s(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},k.shr=k.shiftRight,k.shiftRightUnsigned=function(e){if(n(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?s(this.low>>>e|t<<32-e,t>>>e,this.unsigned):s(32===e?t:t>>>e-32,0,this.unsigned)},k.shru=k.shiftRightUnsigned,k.shr_u=k.shiftRightUnsigned,k.toSigned=function(){return this.unsigned?s(this.low,this.high,!1):this},k.toUnsigned=function(){return this.unsigned?this:s(this.low,this.high,!0)},k.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},k.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},k.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,n){return n?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},57860:e=>{"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var i,a,c=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),s=1;s<arguments.length;s++){for(var u in i=Object(arguments[s]))r.call(i,u)&&(c[u]=i[u]);if(t){a=t(i);for(var l=0;l<a.length;l++)n.call(i,a[l])&&(c[a[l]]=i[a[l]])}}return c}},96338:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&o?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,a=o&&i&&"function"==typeof i.get?i.get:null,c=o&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,l=s&&u&&"function"==typeof u.get?u.get:null,f=s&&Set.prototype.forEach,p="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,h="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,y=Boolean.prototype.valueOf,m=Object.prototype.toString,v=Function.prototype.toString,b=String.prototype.match,g="function"==typeof BigInt?BigInt.prototype.valueOf:null,w=Object.getOwnPropertySymbols,S="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?Symbol.prototype.toString:null,O="function"==typeof Symbol&&"object"===n(Symbol.iterator),P=Object.prototype.propertyIsEnumerable,k=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null),_=r(65863).custom,E=_&&R(_)?_:null,j="function"==typeof Symbol&&void 0!==Symbol.toStringTag?Symbol.toStringTag:null;function x(e,t,r){var n="double"===(r.quoteStyle||t)?'"':"'";return n+e+n}function C(e){return String(e).replace(/"/g,"&quot;")}function T(e){return!("[object Array]"!==M(e)||j&&"object"===n(e)&&j in e)}function R(e){if(O)return e&&"object"===n(e)&&e instanceof Symbol;if("symbol"===n(e))return!0;if(!e||"object"!==n(e)||!S)return!1;try{return S.call(e),!0}catch(e){}return!1}e.exports=function e(t,r,o,i){var s=r||{};if(L(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(L(s,"maxStringLength")&&("number"==typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var u=!L(s,"customInspect")||s.customInspect;if("boolean"!=typeof u&&"symbol"!==u)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(L(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return D(t,s);if("number"==typeof t)return 0===t?1/0/t>0?"0":"-0":String(t);if("bigint"==typeof t)return String(t)+"n";var m=void 0===s.depth?5:s.depth;if(void 0===o&&(o=0),o>=m&&m>0&&"object"===n(t))return T(t)?"[Array]":"[Object]";var w,P=function(e,t){var r;if("\t"===e.indent)r="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;r=Array(e.indent+1).join(" ")}return{base:r,prev:Array(t+1).join(r)}}(s,o);if(void 0===i)i=[];else if(A(i,t)>=0)return"[Circular]";function _(t,r,n){if(r&&(i=i.slice()).push(r),n){var a={depth:s.depth};return L(s,"quoteStyle")&&(a.quoteStyle=s.quoteStyle),e(t,a,o+1,i)}return e(t,s,o+1,i)}if("function"==typeof t){var I=function(e){if(e.name)return e.name;var t=b.call(v.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),N=q(t,_);return"[Function"+(I?": "+I:" (anonymous)")+"]"+(N.length>0?" { "+N.join(", ")+" }":"")}if(R(t)){var W=O?String(t).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):S.call(t);return"object"!==n(t)||O?W:U(W)}if((w=t)&&"object"===n(w)&&("undefined"!=typeof HTMLElement&&w instanceof HTMLElement||"string"==typeof w.nodeName&&"function"==typeof w.getAttribute)){for(var Z="<"+String(t.nodeName).toLowerCase(),G=t.attributes||[],H=0;H<G.length;H++)Z+=" "+G[H].name+"="+x(C(G[H].value),"double",s);return Z+=">",t.childNodes&&t.childNodes.length&&(Z+="..."),Z+"</"+String(t.nodeName).toLowerCase()+">"}if(T(t)){if(0===t.length)return"[]";var V=q(t,_);return P&&!function(e){for(var t=0;t<e.length;t++)if(A(e[t],"\n")>=0)return!1;return!0}(V)?"["+F(V,P)+"]":"[ "+V.join(", ")+" ]"}if(function(e){return!("[object Error]"!==M(e)||j&&"object"===n(e)&&j in e)}(t)){var J=q(t,_);return 0===J.length?"["+String(t)+"]":"{ ["+String(t)+"] "+J.join(", ")+" }"}if("object"===n(t)&&u){if(E&&"function"==typeof t[E])return t[E]();if("symbol"!==u&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!a||!e||"object"!==n(e))return!1;try{a.call(e);try{l.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var K=[];return c.call(t,(function(e,r){K.push(_(r,t,!0)+" => "+_(e,t))})),z("Map",a.call(t),K,P)}if(function(e){if(!l||!e||"object"!==n(e))return!1;try{l.call(e);try{a.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var $=[];return f.call(t,(function(e){$.push(_(e,t))})),z("Set",l.call(t),$,P)}if(function(e){if(!p||!e||"object"!==n(e))return!1;try{p.call(e,p);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return B("WeakMap");if(function(e){if(!d||!e||"object"!==n(e))return!1;try{d.call(e,d);try{p.call(e,p)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return B("WeakSet");if(function(e){if(!h||!e||"object"!==n(e))return!1;try{return h.call(e),!0}catch(e){}return!1}(t))return B("WeakRef");if(function(e){return!("[object Number]"!==M(e)||j&&"object"===n(e)&&j in e)}(t))return U(_(Number(t)));if(function(e){if(!e||"object"!==n(e)||!g)return!1;try{return g.call(e),!0}catch(e){}return!1}(t))return U(_(g.call(t)));if(function(e){return!("[object Boolean]"!==M(e)||j&&"object"===n(e)&&j in e)}(t))return U(y.call(t));if(function(e){return!("[object String]"!==M(e)||j&&"object"===n(e)&&j in e)}(t))return U(_(String(t)));if(!function(e){return!("[object Date]"!==M(e)||j&&"object"===n(e)&&j in e)}(t)&&!function(e){return!("[object RegExp]"!==M(e)||j&&"object"===n(e)&&j in e)}(t)){var Y=q(t,_),X=k?k(t)===Object.prototype:t instanceof Object||t.constructor===Object,Q=t instanceof Object?"":"null prototype",ee=!X&&j&&Object(t)===t&&j in t?M(t).slice(8,-1):Q?"Object":"",te=(X||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(ee||Q?"["+[].concat(ee||[],Q||[]).join(": ")+"] ":"");return 0===Y.length?te+"{}":P?te+"{"+F(Y,P)+"}":te+"{ "+Y.join(", ")+" }"}return String(t)};var I=Object.prototype.hasOwnProperty||function(e){return e in this};function L(e,t){return I.call(e,t)}function M(e){return m.call(e)}function A(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function D(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return D(e.slice(0,t.maxStringLength),t)+n}return x(e.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,N),"single",t)}function N(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+t.toString(16).toUpperCase()}function U(e){return"Object("+e+")"}function B(e){return e+" { ? }"}function z(e,t,r,n){return e+" ("+t+") {"+(n?F(r,n):r.join(", "))+"}"}function F(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+e.join(","+r)+"\n"+t.prev}function q(e,t){var r=T(e),n=[];if(r){n.length=e.length;for(var o=0;o<e.length;o++)n[o]=L(e,o)?t(e[o],e):""}var i,a="function"==typeof w?w(e):[];if(O){i={};for(var c=0;c<a.length;c++)i["$"+a[c]]=a[c]}for(var s in e)L(e,s)&&(r&&String(Number(s))===s&&s<e.length||O&&i["$"+s]instanceof Symbol||(/[^\w$]/.test(s)?n.push(t(s,e)+": "+t(e[s],e)):n.push(s+": "+t(e[s],e))));if("function"==typeof w)for(var u=0;u<a.length;u++)P.call(e,a[u])&&n.push("["+t(a[u])+"]: "+t(e[a[u]],e));return n}},75268:e=>{"use strict";var t=function(e){return e!=e};e.exports=function(e,r){return 0===e&&0===r?1/e==1/r:e===r||!(!t(e)||!t(r))}},28675:(e,t,r)=>{"use strict";var n=r(10635),o=r(64411),i=r(75268),a=r(8231),c=r(62627),s=o(a(),Object);n(s,{getPolyfill:a,implementation:i,shim:c}),e.exports=s},8231:(e,t,r)=>{"use strict";var n=r(75268);e.exports=function(){return"function"==typeof Object.is?Object.is:n}},62627:(e,t,r)=>{"use strict";var n=r(8231),o=r(10635);e.exports=function(){var e=n();return o(Object,{is:e},{is:function(){return Object.is!==e}}),e}},45131:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o;if(!Object.keys){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,c=r(97631),s=Object.prototype.propertyIsEnumerable,u=!s.call({toString:null},"toString"),l=s.call((function(){}),"prototype"),f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(e){var t=e.constructor;return t&&t.prototype===e},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"===n(window[e]))try{p(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();o=function(e){var t=null!==e&&"object"===n(e),r="[object Function]"===a.call(e),o=c(e),s=t&&"[object String]"===a.call(e),d=[];if(!t&&!r&&!o)throw new TypeError("Object.keys called on a non-object");var y=l&&r;if(s&&e.length>0&&!i.call(e,0))for(var m=0;m<e.length;++m)d.push(String(m));if(o&&e.length>0)for(var v=0;v<e.length;++v)d.push(String(v));else for(var b in e)y&&"prototype"===b||!i.call(e,b)||d.push(String(b));if(u)for(var g=function(e){if("undefined"==typeof window||!h)return p(e);try{return p(e)}catch(e){return!1}}(e),w=0;w<f.length;++w)g&&"constructor"===f[w]||!i.call(e,f[w])||d.push(f[w]);return d}}e.exports=o},42801:(e,t,r)=>{"use strict";var n=Array.prototype.slice,o=r(97631),i=Object.keys,a=i?function(e){return i(e)}:r(45131),c=Object.keys;a.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return o(e)?c(n.call(e)):c(e)})}else Object.keys=a;return Object.keys||a},e.exports=a},97631:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var r=Object.prototype.toString;e.exports=function(e){var n=r.call(e),o="[object Arguments]"===n;return o||(o="[object Array]"!==n&&null!==e&&"object"===t(e)&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),o}},10938:(e,t,r)=>{"use strict";var n=r(42801),o=function(e){return null!=e},i=r(2112)(),a=r(49493),c=Object,s=a("Array.prototype.push"),u=a("Object.prototype.propertyIsEnumerable"),l=i?Object.getOwnPropertySymbols:null;e.exports=function(e,t){if(!o(e))throw new TypeError("target must be an object");var r,a,f,p,d,h,y,m=c(e);for(r=1;r<arguments.length;++r){a=c(arguments[r]),p=n(a);var v=i&&(Object.getOwnPropertySymbols||l);if(v)for(d=v(a),f=0;f<d.length;++f)y=d[f],u(a,y)&&s(p,y);for(f=0;f<p.length;++f)h=a[y=p[f]],u(a,y)&&(m[y]=h)}return m}},46880:(e,t,r)=>{"use strict";var n=r(10635),o=r(64411),i=r(10938),a=r(25611),c=r(28993),s=o.apply(a()),u=function(e,t){return s(Object,arguments)};n(u,{getPolyfill:a,implementation:i,shim:c}),e.exports=u},25611:(e,t,r)=>{"use strict";var n=r(10938);e.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),r={},n=0;n<t.length;++n)r[t[n]]=t[n];var o=Object.assign({},r),i="";for(var a in o)i+=a;return e!==i}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}return!1}()?n:Object.assign:n}},28993:(e,t,r)=>{"use strict";var n=r(10635),o=r(25611);e.exports=function(){var e=o();return n(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e}},33870:(e,t,r)=>{"use strict";e.exports=r(70361)},70361:(e,t,r)=>{"use strict";var n=t;function o(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=r(25938),n.BufferWriter=r(84001),n.Reader=r(51729),n.BufferReader=r(92881),n.util=r(86072),n.rpc=r(58464),n.roots=r(69390),n.configure=o,o()},51729:(e,t,r)=>{"use strict";e.exports=s;var n,o=r(86072),i=o.LongBits,a=o.utf8;function c(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function s(e){this.buf=e,this.pos=0,this.len=e.length}var u,l="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new s(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new s(e);throw Error("illegal buffer")},f=function(){return o.Buffer?function(e){return(s.create=function(e){return o.Buffer.isBuffer(e)?new n(e):l(e)})(e)}:l};function p(){var e=new i(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw c(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw c(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function d(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function h(){if(this.pos+8>this.len)throw c(this,8);return new i(d(this.buf,this.pos+=4),d(this.buf,this.pos+=4))}s.create=f(),s.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,s.prototype.uint32=(u=4294967295,function(){if(u=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return u;if((this.pos+=5)>this.len)throw this.pos=this.len,c(this,10);return u}),s.prototype.int32=function(){return 0|this.uint32()},s.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},s.prototype.bool=function(){return 0!==this.uint32()},s.prototype.fixed32=function(){if(this.pos+4>this.len)throw c(this,4);return d(this.buf,this.pos+=4)},s.prototype.sfixed32=function(){if(this.pos+4>this.len)throw c(this,4);return 0|d(this.buf,this.pos+=4)},s.prototype.float=function(){if(this.pos+4>this.len)throw c(this,4);var e=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},s.prototype.double=function(){if(this.pos+8>this.len)throw c(this,4);var e=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},s.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw c(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},s.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},s.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw c(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw c(this)}while(128&this.buf[this.pos++]);return this},s.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},s._configure=function(e){n=e,s.create=f(),n._configure();var t=o.Long?"toLong":"toNumber";o.merge(s.prototype,{int64:function(){return p.call(this)[t](!1)},uint64:function(){return p.call(this)[t](!0)},sint64:function(){return p.call(this).zzDecode()[t](!1)},fixed64:function(){return h.call(this)[t](!0)},sfixed64:function(){return h.call(this)[t](!1)}})}},92881:(e,t,r)=>{"use strict";e.exports=i;var n=r(51729);(i.prototype=Object.create(n.prototype)).constructor=i;var o=r(86072);function i(e){n.call(this,e)}i._configure=function(){o.Buffer&&(i.prototype._slice=o.Buffer.prototype.slice)},i.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},i._configure()},69390:e=>{"use strict";e.exports={}},58464:(e,t,r)=>{"use strict";t.Service=r(37419)},37419:(e,t,r)=>{"use strict";e.exports=o;var n=r(86072);function o(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(o.prototype=Object.create(n.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function e(t,r,o,i,a){if(!i)throw TypeError("request must be specified");var c=this;if(!a)return n.asPromise(e,c,t,r,o,i);if(c.rpcImpl)try{return c.rpcImpl(t,r[c.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(e,r){if(e)return c.emit("error",e,t),a(e);if(null!==r){if(!(r instanceof o))try{r=o[c.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return c.emit("error",e,t),a(e)}return c.emit("data",r,t),a(null,r)}c.end(!0)}))}catch(e){return c.emit("error",e,t),void setTimeout((function(){a(e)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},o.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},47401:(e,t,r)=>{"use strict";e.exports=o;var n=r(86072);function o(e,t){this.lo=e>>>0,this.hi=t>>>0}var i=o.zero=new o(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var a=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(e){if(0===e)return i;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new o(r,n)},o.from=function(e){if("number"==typeof e)return o.fromNumber(e);if(n.isString(e)){if(!n.Long)return o.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new o(e.low>>>0,e.high>>>0):i},o.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var c=String.prototype.charCodeAt;o.fromHash=function(e){return e===a?i:new o((c.call(e,0)|c.call(e,1)<<8|c.call(e,2)<<16|c.call(e,3)<<24)>>>0,(c.call(e,4)|c.call(e,5)<<8|c.call(e,6)<<16|c.call(e,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},o.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},o.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},86072:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=t;function i(e,t,r){for(var n=Object.keys(t),o=0;o<n.length;++o)void 0!==e[n[o]]&&r||(e[n[o]]=t[n[o]]);return e}function a(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&i(this,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}o.asPromise=r(48446),o.base64=r(32129),o.EventEmitter=r(91186),o.float=r(80756),o.inquire=r(81578),o.utf8=r(95793),o.pool=r(49187),o.LongBits=r(47401),o.isNode=Boolean(void 0!==r.g&&r.g&&r.g.process&&r.g.process.versions&&r.g.process.versions.node),o.global=o.isNode&&r.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,o.emptyArray=Object.freeze?Object.freeze([]):[],o.emptyObject=Object.freeze?Object.freeze({}):{},o.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},o.isString=function(e){return"string"==typeof e||e instanceof String},o.isObject=function(e){return e&&"object"===n(e)},o.isset=o.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!==n(r)||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},o.Buffer=function(){try{var e=o.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),o._Buffer_from=null,o._Buffer_allocUnsafe=null,o.newBuffer=function(e){return"number"==typeof e?o.Buffer?o._Buffer_allocUnsafe(e):new o.Array(e):o.Buffer?o._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},o.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,o.Long=o.global.dcodeIO&&o.global.dcodeIO.Long||o.global.Long||o.inquire("long"),o.key2Re=/^true|false|0|1$/,o.key32Re=/^-?(?:0|[1-9][0-9]*)$/,o.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,o.longToHash=function(e){return e?o.LongBits.from(e).toHash():o.LongBits.zeroHash},o.longFromHash=function(e,t){var r=o.LongBits.fromHash(e);return o.Long?o.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},o.merge=i,o.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},o.newError=a,o.ProtocolError=a("ProtocolError"),o.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},o.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},o.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},o._configure=function(){var e=o.Buffer;e?(o._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},o._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):o._Buffer_from=o._Buffer_allocUnsafe=null}},25938:(e,t,r)=>{"use strict";e.exports=f;var n,o=r(86072),i=o.LongBits,a=o.base64,c=o.utf8;function s(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function u(){}function l(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function f(){this.len=0,this.head=new s(u,0,0),this.tail=this.head,this.states=null}var p=function(){return o.Buffer?function(){return(f.create=function(){return new n})()}:function(){return new f}};function d(e,t,r){t[r]=255&e}function h(e,t){this.len=e,this.next=void 0,this.val=t}function y(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function m(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}f.create=p(),f.alloc=function(e){return new o.Array(e)},o.Array!==Array&&(f.alloc=o.pool(f.alloc,o.Array.prototype.subarray)),f.prototype._push=function(e,t,r){return this.tail=this.tail.next=new s(e,t,r),this.len+=t,this},h.prototype=Object.create(s.prototype),h.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},f.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new h((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},f.prototype.int32=function(e){return e<0?this._push(y,10,i.fromNumber(e)):this.uint32(e)},f.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},f.prototype.uint64=function(e){var t=i.from(e);return this._push(y,t.length(),t)},f.prototype.int64=f.prototype.uint64,f.prototype.sint64=function(e){var t=i.from(e).zzEncode();return this._push(y,t.length(),t)},f.prototype.bool=function(e){return this._push(d,1,e?1:0)},f.prototype.fixed32=function(e){return this._push(m,4,e>>>0)},f.prototype.sfixed32=f.prototype.fixed32,f.prototype.fixed64=function(e){var t=i.from(e);return this._push(m,4,t.lo)._push(m,4,t.hi)},f.prototype.sfixed64=f.prototype.fixed64,f.prototype.float=function(e){return this._push(o.float.writeFloatLE,4,e)},f.prototype.double=function(e){return this._push(o.float.writeDoubleLE,8,e)};var v=o.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};f.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(d,1,0);if(o.isString(e)){var r=f.alloc(t=a.length(e));a.decode(e,r,0),e=r}return this.uint32(t)._push(v,t,e)},f.prototype.string=function(e){var t=c.length(e);return t?this.uint32(t)._push(c.write,t,e):this._push(d,1,0)},f.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new s(u,0,0),this.len=0,this},f.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new s(u,0,0),this.len=0),this},f.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},f.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},f._configure=function(e){n=e,f.create=p(),n._configure()}},84001:(e,t,r)=>{"use strict";e.exports=i;var n=r(25938);(i.prototype=Object.create(n.prototype)).constructor=i;var o=r(86072);function i(){n.call(this)}function a(e,t,r){e.length<40?o.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}i._configure=function(){i.alloc=o._Buffer_allocUnsafe,i.writeBytesBuffer=o.Buffer&&o.Buffer.prototype instanceof Uint8Array&&"set"===o.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},i.prototype.bytes=function(e){o.isString(e)&&(e=o._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(i.writeBytesBuffer,t,e),this},i.prototype.string=function(e){var t=o.Buffer.byteLength(e);return this.uint32(t),t&&this._push(a,t,e),this},i._configure()},94600:(e,t,r)=>{"use strict";t.ZP=void 0;var n=i(r(52843)),o=i(r(44868));function i(e){return e&&e.__esModule?e:{default:e}}var a=n.default;t.ZP=a,o.default},52843:(e,t,r)=>{"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function o(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===s(t)?t:String(t)}function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}t.__esModule=!0,t.default=void 0;var u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}(r(16689));function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f.apply(this,arguments)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d="--aspect-ratio",h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(m,e);var t,r,l,h,y=(l=m,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(l);if(h){var r=c(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)}(this,e)});function m(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),p(a(e=y.apply(this,arguments)),"node",null),p(a(e),"setNode",(function(t){e.node=t})),e}return t=m,(r=[{key:"componentDidUpdate",value:function(){if(this.node){var e=this.node;e.style.getPropertyValue(d)||e.style.setProperty(d,"("+this.props.ratio+")")}}},{key:"render",value:function(){var e,t,r,n=this.props,i=n.children,a=n.ratio,c=n.style,s=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(n,["children","ratio","style"]),l=f({},c,(e={},r="("+a+")",(t=o(t=d))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e));return u.default.createElement("div",f({},s,{ref:this.setNode,style:l}),i)}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),m}(u.Component);p(h,"defaultProps",{className:"react-aspect-ratio-placeholder",ratio:1});var y=h;t.default=y},44868:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}t.__esModule=!0,t.default=void 0;var o,i=(o=r(16689))&&o.__esModule?o:{default:o};function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}var c=function(e){var t=e.children,r=e.ratio,o=e.style,c=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,["children","ratio","style"]),s=a({},o,function(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},"--aspect-ratio","("+r+")"));return i.default.createElement("div",a({},c,{style:s}),t)};c.defaultProps={className:"react-aspect-ratio-placeholder",ratio:1};var s=c;t.default=s},6860:function(e,t,r){var n,o,i,a;function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}e=r.nmd(e),"undefined"!=typeof self&&self,a=function(e){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=r(1),a=r.n(i),c=r(8),s=r.n(c),u=r(2),l=r(10),f=r.n(l),p=r(3),d=r(6),h=function(e){if(!e)return null;var t=Object.keys(e);return 0===t.length?null:t.reduce((function(t,r){return t[Object(u.a)(r)]=e[r],t}),{})},y=function(){var e=a.a.useRef(!1);return a.a.useEffect((function(){e.current=!0}),[]),e.current};t.a=function(e,t,r){var o=function(e){var t=a.a.useContext(d.a),r=function(){return h(e)||h(t)},o=n(a.a.useState(r),2),i=o[0],c=o[1];return a.a.useEffect((function(){var e=r();f()(i,e)||c(e)}),[e,t]),i}(t),i=function(e){var t=function(){return function(e){return e.query||Object(p.a)(e)}(e)},r=n(a.a.useState(t),2),o=r[0],i=r[1];return a.a.useEffect((function(){var e=t();o!==e&&i(e)}),[e]),o}(e);if(!i)throw new Error("Invalid or missing MediaQuery!");var c=function(e,t){var r=function(){return s()(e,t||{},!!t)},o=n(a.a.useState(r),2),i=o[0],c=o[1],u=y();return a.a.useEffect((function(){return u&&c(r()),function(){i.dispose()}}),[e,t]),i}(i,o),u=function(e){var t=n(a.a.useState(e.matches),2),r=t[0],o=t[1];return a.a.useEffect((function(){var t=function(){o(e.matches)};return e.addListener(t),t(),function(){e.removeListener(t)}}),[e]),r}(c),l=y();return a.a.useEffect((function(){l&&r&&r(u)}),[u]),u}},function(t,r){t.exports=e},function(e,t,r){"use strict";function n(e){return"-"+e.toLowerCase()}var o=/[A-Z]/g,i=/^ms-/,a={};t.a=function(e){if(a.hasOwnProperty(e))return a[e];var t=e.replace(o,n);return a[e]=i.test(t)?"-"+t:t}},function(e,t,r){"use strict";var n=r(2),o=r(11);t.a=function(e){var t=[];return Object.keys(o.a.all).forEach((function(r){var o=e[r];null!=o&&t.push(function(e,t){var r=Object(n.a)(e);return"number"==typeof t&&(t="".concat(t,"px")),!0===t?r:!1===t?"not ".concat(r):"(".concat(r,": ").concat(t,")")}(r,o))})),t.join(" and ")}},function(e,t,r){"use strict";e.exports=r(13)},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){"use strict";var n=r(1),o=r.n(n).a.createContext();t.a=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(17),i=r(3),a=r(6);r.d(t,"default",(function(){return o.a})),r.d(t,"useMediaQuery",(function(){return n.a})),r.d(t,"toQuery",(function(){return i.a})),r.d(t,"Context",(function(){return a.a}))},function(e,t,r){"use strict";function n(e,t,r){function n(e){a.matches=e.matches,a.media=e.media}var a=this;if(i&&!r){var c=i.call(window,e);this.matches=c.matches,this.media=c.media,c.addListener(n)}else this.matches=o(e,t),this.media=e;this.addListener=function(e){c&&c.addListener(e)},this.removeListener=function(e){c&&c.removeListener(e)},this.dispose=function(){c&&c.removeListener(n)}}var o=r(9).match,i="undefined"!=typeof window?window.matchMedia:null;e.exports=function(e,t,r){return new n(e,t,r)}},function(e,t,r){"use strict";function n(e){return e.split(",").map((function(e){var t=(e=e.trim()).match(c),r=t[1],n=t[2],o=t[3]||"",i={};return i.inverse=!!r&&"not"===r.toLowerCase(),i.type=n?n.toLowerCase():"all",o=o.match(/\([^\)]+\)/g)||[],i.expressions=o.map((function(e){var t=e.match(s),r=t[1].toLowerCase().match(u);return{modifier:r[1],feature:r[2],value:t[2]}})),i}))}function o(e){var t,r=Number(e);return r||(r=(t=e.match(/^(\d+)\s*\/\s*(\d+)$/))[1]/t[2]),r}function i(e){var t=parseFloat(e);switch(String(e).match(f)[1]){case"dpcm":return t/2.54;case"dppx":return 96*t;default:return t}}function a(e){var t=parseFloat(e);switch(String(e).match(l)[1]){case"em":case"rem":return 16*t;case"cm":return 96*t/2.54;case"mm":return 96*t/2.54/10;case"in":return 96*t;case"pt":return 72*t;case"pc":return 72*t/12;default:return t}}t.match=function(e,t){return n(e).some((function(e){var r=e.inverse,n="all"===e.type||t.type===e.type;if(n&&r||!n&&!r)return!1;var c=e.expressions.every((function(e){var r=e.feature,n=e.modifier,c=e.value,s=t[r];if(!s)return!1;switch(r){case"orientation":case"scan":return s.toLowerCase()===c.toLowerCase();case"width":case"height":case"device-width":case"device-height":c=a(c),s=a(s);break;case"resolution":c=i(c),s=i(s);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":c=o(c),s=o(s);break;case"grid":case"color":case"color-index":case"monochrome":c=parseInt(c,10)||1,s=parseInt(s,10)||0}switch(n){case"min":return s>=c;case"max":return s<=c;default:return s===c}}));return c&&!r||!c&&r}))},t.parse=n;var c=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,s=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,u=/^(?:(min|max)-)?(.+)/,l=/(em|rem|px|cm|mm|in|pt|pc)?$/,f=/(dpi|dpcm|dppx)?$/},function(e,t,r){"use strict";e.exports=function(e,t){if(e===t)return!0;if(!e||!t)return!1;var r=Object.keys(e),n=Object.keys(t),o=r.length;if(n.length!==o)return!1;for(var i=0;i<o;i++){var a=r[i];if(e[a]!==t[a]||!Object.prototype.hasOwnProperty.call(t,a))return!1}return!0}},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(12),c=r.n(a),s=c.a.oneOfType([c.a.string,c.a.number]),u={orientation:c.a.oneOf(["portrait","landscape"]),scan:c.a.oneOf(["progressive","interlace"]),aspectRatio:c.a.string,deviceAspectRatio:c.a.string,height:s,deviceHeight:s,width:s,deviceWidth:s,color:c.a.bool,colorIndex:c.a.bool,monochrome:c.a.bool,resolution:s},l=o({minAspectRatio:c.a.string,maxAspectRatio:c.a.string,minDeviceAspectRatio:c.a.string,maxDeviceAspectRatio:c.a.string,minHeight:s,maxHeight:s,minDeviceHeight:s,maxDeviceHeight:s,minWidth:s,maxWidth:s,minDeviceWidth:s,maxDeviceWidth:s,minColor:c.a.number,maxColor:c.a.number,minColorIndex:c.a.number,maxColorIndex:c.a.number,minMonochrome:c.a.number,maxMonochrome:c.a.number,minResolution:s,maxResolution:s},u),f={all:c.a.bool,grid:c.a.bool,aural:c.a.bool,braille:c.a.bool,handheld:c.a.bool,print:c.a.bool,projection:c.a.bool,screen:c.a.bool,tty:c.a.bool,tv:c.a.bool,embossed:c.a.bool},p=o(o({},f),l);u.type=Object.keys(f),t.a={all:p,types:f,matchers:u,features:l}},function(e,t,r){var n=r(4);e.exports=r(14)(n.isElement,!0)},function(e,t,r){"use strict";!function(){function e(e){if("object"==c(e)&&null!==e){var t=e.$$typeof;switch(t){case o:var r=e.type;switch(r){case p:case d:case a:case u:case s:case y:return r;default:var n=r&&r.$$typeof;switch(n){case f:case h:case b:case v:case l:return n;default:return t}}case i:return t}}}function r(t){return e(t)===d}var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,f=n?Symbol.for("react.context"):60110,p=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,y=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,b=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,w=n?Symbol.for("react.fundamental"):60117,S=n?Symbol.for("react.responder"):60118,O=n?Symbol.for("react.scope"):60119,P=p,k=d,_=f,E=l,j=o,x=h,C=a,T=b,R=v,I=i,L=u,M=s,A=y,D=!1;t.AsyncMode=P,t.ConcurrentMode=k,t.ContextConsumer=_,t.ContextProvider=E,t.Element=j,t.ForwardRef=x,t.Fragment=C,t.Lazy=T,t.Memo=R,t.Portal=I,t.Profiler=L,t.StrictMode=M,t.Suspense=A,t.isAsyncMode=function(t){return D||(D=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),r(t)||e(t)===p},t.isConcurrentMode=r,t.isContextConsumer=function(t){return e(t)===f},t.isContextProvider=function(t){return e(t)===l},t.isElement=function(e){return"object"==c(e)&&null!==e&&e.$$typeof===o},t.isForwardRef=function(t){return e(t)===h},t.isFragment=function(t){return e(t)===a},t.isLazy=function(t){return e(t)===b},t.isMemo=function(t){return e(t)===v},t.isPortal=function(t){return e(t)===i},t.isProfiler=function(t){return e(t)===u},t.isStrictMode=function(t){return e(t)===s},t.isSuspense=function(t){return e(t)===y},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===d||e===u||e===s||e===y||e===m||"object"==c(e)&&null!==e&&(e.$$typeof===b||e.$$typeof===v||e.$$typeof===l||e.$$typeof===f||e.$$typeof===h||e.$$typeof===w||e.$$typeof===S||e.$$typeof===O||e.$$typeof===g)},t.typeOf=e}()},function(e,t,r){"use strict";function n(){return null}var o=r(4),i=r(15),a=r(5),s=r(16),u=Function.call.bind(Object.prototype.hasOwnProperty),l=function(){};l=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}},e.exports=function(e,t){function r(e){this.message=e,this.stack=""}function f(e){function n(n,c,s,u,f,p,d){if(u=u||g,p=p||s,d!==a){if(t){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}if("undefined"!=typeof console){var y=u+":"+s;!o[y]&&i<3&&(l("You are manually calling a React.PropTypes validation function for the `"+p+"` prop on `"+u+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),o[y]=!0,i++)}}return null==c[s]?n?new r(null===c[s]?"The "+f+" `"+p+"` is marked as required in `"+u+"`, but its value is `null`.":"The "+f+" `"+p+"` is marked as required in `"+u+"`, but its value is `undefined`."):null:e(c,s,u,f,p)}var o={},i=0,c=n.bind(null,!1);return c.isRequired=n.bind(null,!0),c}function p(e){return f((function(t,n,o,i,a,c){var s=t[n];return h(s)!==e?new r("Invalid "+i+" `"+a+"` of type `"+y(s)+"` supplied to `"+o+"`, expected `"+e+"`."):null}))}function d(t){switch(c(t)){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(d);if(null===t||e(t))return!0;var r=function(e){var t=e&&(v&&e[v]||e[b]);if("function"==typeof t)return t}(t);if(!r)return!1;var n,o=r.call(t);if(r!==t.entries){for(;!(n=o.next()).done;)if(!d(n.value))return!1}else for(;!(n=o.next()).done;){var i=n.value;if(i&&!d(i[1]))return!1}return!0;default:return!1}}function h(e){var t=c(e);return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function y(e){if(null==e)return""+e;var t=h(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function m(e){var t=y(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}var v="function"==typeof Symbol&&Symbol.iterator,b="@@iterator",g="<<anonymous>>",w={array:p("array"),bool:p("boolean"),func:p("function"),number:p("number"),object:p("object"),string:p("string"),symbol:p("symbol"),any:f(n),arrayOf:function(e){return f((function(t,n,o,i,c){if("function"!=typeof e)return new r("Property `"+c+"` of component `"+o+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s))return new r("Invalid "+i+" `"+c+"` of type `"+h(s)+"` supplied to `"+o+"`, expected an array.");for(var u=0;u<s.length;u++){var l=e(s,u,o,i,c+"["+u+"]",a);if(l instanceof Error)return l}return null}))},element:f((function(t,n,o,i,a){var c=t[n];return e(c)?null:new r("Invalid "+i+" `"+a+"` of type `"+h(c)+"` supplied to `"+o+"`, expected a single ReactElement.")})),elementType:f((function(e,t,n,i,a){var c=e[t];return o.isValidElementType(c)?null:new r("Invalid "+i+" `"+a+"` of type `"+h(c)+"` supplied to `"+n+"`, expected a single ReactElement type.")})),instanceOf:function(e){return f((function(t,n,o,i,a){if(!(t[n]instanceof e)){var c=e.name||g;return new r("Invalid "+i+" `"+a+"` of type `"+((s=t[n]).constructor&&s.constructor.name?s.constructor.name:g)+"` supplied to `"+o+"`, expected instance of `"+c+"`.")}var s;return null}))},node:f((function(e,t,n,o,i){return d(e[t])?null:new r("Invalid "+o+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(e){return f((function(t,n,o,i,c){if("function"!=typeof e)return new r("Property `"+c+"` of component `"+o+"` has invalid PropType notation inside objectOf.");var s=t[n],l=h(s);if("object"!==l)return new r("Invalid "+i+" `"+c+"` of type `"+l+"` supplied to `"+o+"`, expected an object.");for(var f in s)if(u(s,f)){var p=e(s,f,o,i,c+"."+f,a);if(p instanceof Error)return p}return null}))},oneOf:function(e){return Array.isArray(e)?f((function(t,n,o,i,a){for(var c=t[n],s=0;s<e.length;s++)if((u=c)===(l=e[s])?0!==u||1/u==1/l:u!=u&&l!=l)return null;var u,l,f=JSON.stringify(e,(function(e,t){return"symbol"===y(t)?String(t):t}));return new r("Invalid "+i+" `"+a+"` of value `"+String(c)+"` supplied to `"+o+"`, expected one of "+f+".")})):(l(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),n)},oneOfType:function(e){if(!Array.isArray(e))return l("Invalid argument supplied to oneOfType, expected an instance of array."),n;for(var t=0;t<e.length;t++){var o=e[t];if("function"!=typeof o)return l("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+m(o)+" at index "+t+"."),n}return f((function(t,n,o,i,c){for(var s=0;s<e.length;s++)if(null==(0,e[s])(t,n,o,i,c,a))return null;return new r("Invalid "+i+" `"+c+"` supplied to `"+o+"`.")}))},shape:function(e){return f((function(t,n,o,i,c){var s=t[n],u=h(s);if("object"!==u)return new r("Invalid "+i+" `"+c+"` of type `"+u+"` supplied to `"+o+"`, expected `object`.");for(var l in e){var f=e[l];if(f){var p=f(s,l,o,i,c+"."+l,a);if(p)return p}}return null}))},exact:function(e){return f((function(t,n,o,c,s){var u=t[n],l=h(u);if("object"!==l)return new r("Invalid "+c+" `"+s+"` of type `"+l+"` supplied to `"+o+"`, expected `object`.");var f=i({},t[n],e);for(var p in f){var d=e[p];if(!d)return new r("Invalid "+c+" `"+s+"` key `"+p+"` supplied to `"+o+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var y=d(u,p,o,c,s+"."+p,a);if(y)return y}return null}))}};return r.prototype=Error.prototype,w.checkPropTypes=s,w.resetWarningCache=s.resetWarningCache,w.PropTypes=w,w}},function(e,t,r){"use strict";var n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,a,c=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),s=1;s<arguments.length;s++){for(var u in r=Object(arguments[s]))o.call(r,u)&&(c[u]=r[u]);if(n){a=n(r);for(var l=0;l<a.length;l++)i.call(r,a[l])&&(c[a[l]]=r[a[l]])}}return c}},function(e,t,r){"use strict";function n(e,t,r,n,u){for(var l in e)if(s(e,l)){var f;try{if("function"!=typeof e[l]){var p=Error((n||"React class")+": "+r+" type `"+l+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+c(e[l])+"`.");throw p.name="Invariant Violation",p}f=e[l](t,l,n,r,null,i)}catch(e){f=e}if(!f||f instanceof Error||o((n||"React class")+": type specification of "+r+" `"+l+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+c(f)+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),f instanceof Error&&!(f.message in a)){a[f.message]=!0;var d=u?u():"";o("Failed "+r+" type: "+f.message+(null!=d?d:""))}}}var o=function(){},i=r(5),a={},s=Function.call.bind(Object.prototype.hasOwnProperty);o=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}},n.resetWarningCache=function(){a={}},e.exports=n},function(e,t,r){"use strict";t.a=function(e){var t=e.children,r=e.device,o=e.onChange,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["children","device","onChange"]),a=Object(n.a)(i,r,o);return"function"==typeof t?t(a):a?t:null};var n=r(0)}])},"object"==c(t)&&"object"==c(e)?e.exports=a(r(16689)):(o=[r(16689)],void 0===(i="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=i))},90691:function(e,t,r){var n,o,i,a;function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}e=r.nmd(e),a=function(e){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(31);var n=function(e){return e&&e.__esModule?e:{default:e}}(r(13));t.default=n.default},function(t,r){t.exports=e},function(e,t,r){e.exports=r(19)()},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]="number"==typeof e[r]?e[r]:e[r].val);return t},e.exports=t.default},function(e,t,r){(function(t){(function(){var r,n,o;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(r()-o)/1e6},n=t.hrtime,r=function(){var e;return 1e9*(e=n())[0]+e[1]},o=r()):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(t,r(10))},function(e,t,r){(function(t){for(var n=r(23),o="undefined"==typeof window?t:window,i=["moz","webkit"],a="AnimationFrame",c=o["request"+a],s=o["cancel"+a]||o["cancelRequest"+a],u=0;!c&&u<i.length;u++)c=o[i[u]+"Request"+a],s=o[i[u]+"Cancel"+a]||o[i[u]+"CancelRequest"+a];if(!c||!s){var l=0,f=0,p=[];c=function(e){if(0===p.length){var t=n(),r=Math.max(0,16.666666666666668-(t-l));l=r+t,setTimeout((function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(l)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(r))}return p.push({handle:++f,callback:e,cancelled:!1}),f},s=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}e.exports=function(e){return c.call(o,e)},e.exports.cancel=function(){s.apply(o,arguments)},e.exports.polyfill=function(e){e||(e=o),e.requestAnimationFrame=c,e.cancelAnimationFrame=s}}).call(t,function(){return this}())},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=0);return t},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t,r){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(0!==r[n])return!1;var o="number"==typeof t[n]?t[n]:t[n].val;if(e[n]!==o)return!1}return!0},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t,n,o,i,a,c){var s=n+(-i*(t-o)+-a*n)*e,u=t+s*e;return Math.abs(s)<c&&Math.abs(u-o)<c?(r[0]=o,r[1]=0,r):(r[0]=u,r[1]=s,r)};var r=[0,0];e.exports=t.default},function(e,t,r){"use strict";function n(e){var t=e.version;if("string"!=typeof t)return!0;var r=t.split("."),n=parseInt(r[0],10),o=parseInt(r[1],10);return 0===n&&13===o}Object.defineProperty(t,"__esModule",{value:!0}),t.findDOMNode=function(e){return i?o.default.findDOMNode(e):e},t.warnAboutFunctionChild=function(){a||i||(a=!0,console.error("With React 0.14 and later versions, you no longer need to wrap <ScrollArea> child into a function."))},t.warnAboutElementChild=function(){!a&&i&&(a=!0,console.error("With React 0.13, you need to wrap <ScrollArea> child into a function."))},t.positiveOrZero=function(e){return e<0?0:e},t.modifyObjValues=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]=t(e[n]));return r},t.isReact13=n;var o=function(e){return e&&e.__esModule?e:{default:e}}(r(1)),i=n(o.default),a=!1},function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(u===setTimeout)return setTimeout(e,0);if((u===r||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function i(){h&&p&&(h=!1,p.length?d=p.concat(d):y=-1,d.length&&a())}function a(){if(!h){var e=o(i);h=!0;for(var t=d.length;t;){for(p=d,d=[];++y<t;)p&&p[y].run();y=-1,t=d.length}p=null,h=!1,function(e){if(l===clearTimeout)return clearTimeout(e);if((l===n||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}(e)}}function c(e,t){this.fun=e,this.array=t}function s(){}var u,l,f=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:r}catch(e){u=r}try{l="function"==typeof clearTimeout?clearTimeout:n}catch(e){l=n}}();var p,d=[],h=!1,y=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];d.push(new c(e,t)),1!==d.length||h||o(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=s,f.addListener=s,f.once=s,f.off=s,f.removeListener=s,f.removeAllListeners=s,f.emit=s,f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t){"use strict";t.__esModule=!0,t.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e.default:e}t.__esModule=!0;var o=r(24);t.Motion=n(o);var i=r(25);t.StaggeredMotion=n(i);var a=r(26);t.TransitionMotion=n(a);var c=r(29);t.spring=n(c);var s=r(11);t.presets=n(s);var u=r(3);t.stripStyle=n(u);var l=r(28);t.reorderKeys=n(l)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==c(Symbol.iterator)?function(e){return c(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":c(e)},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=n(r(1)),u=n(r(2)),l=n(r(18)),f=r(12),p=r(9),d=n(r(14)),h="wheel",y="api",m="touchEnd",v="keypress",b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=c(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={topPosition:0,leftPosition:0,realHeight:0,containerHeight:0,realWidth:0,containerWidth:0},r.scrollArea={refresh:function(){r.setSizesToState()},scrollTop:function(){r.scrollTop()},scrollBottom:function(){r.scrollBottom()},scrollYTo:function(e){r.scrollYTo(e)},scrollLeft:function(){r.scrollLeft()},scrollRight:function(){r.scrollRight()},scrollXTo:function(e){r.scrollXTo(e)}},r.evntsPreviousValues={clientX:0,clientY:0,deltaX:0,deltaY:0},r.bindedHandleWindowResize=r.handleWindowResize.bind(r),r.bindedHandleWheel=r.handleWheel.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+c(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"getChildContext",value:function(){return{scrollArea:this.scrollArea}}},{key:"componentDidMount",value:function(){this.props.contentWindow&&this.props.contentWindow.addEventListener("resize",this.bindedHandleWindowResize),this.lineHeightPx=(0,l.default)((0,p.findDOMNode)(this.content)),this.setSizesToState(),this.wrapper.addEventListener("wheel",this.bindedHandleWheel,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.props.contentWindow&&this.props.contentWindow.removeEventListener("resize",this.bindedHandleWindowResize),this.wrapper.removeEventListener("wheel",this.bindedHandleWheel)}},{key:"componentDidUpdate",value:function(){this.setSizesToState()}},{key:"render",value:function(){var e=this,t=this.props,r=t.children,n=t.className,o=t.contentClassName,a=t.ownerDocument,c=this.props.smoothScrolling&&(this.state.eventType===h||this.state.eventType===y||this.state.eventType===m||this.state.eventType===v),u=this.canScrollY()?s.default.createElement(d.default,{ownerDocument:a,realSize:this.state.realHeight,containerSize:this.state.containerHeight,position:this.state.topPosition,onMove:this.handleScrollbarMove.bind(this),onPositionChange:this.handleScrollbarYPositionChange.bind(this),containerStyle:this.props.verticalContainerStyle,scrollbarStyle:this.props.verticalScrollbarStyle,smoothScrolling:c,minScrollSize:this.props.minScrollSize,onFocus:this.focusContent.bind(this),type:"vertical"}):null,l=this.canScrollX()?s.default.createElement(d.default,{ownerDocument:a,realSize:this.state.realWidth,containerSize:this.state.containerWidth,position:this.state.leftPosition,onMove:this.handleScrollbarMove.bind(this),onPositionChange:this.handleScrollbarXPositionChange.bind(this),containerStyle:this.props.horizontalContainerStyle,scrollbarStyle:this.props.horizontalScrollbarStyle,smoothScrolling:c,minScrollSize:this.props.minScrollSize,onFocus:this.focusContent.bind(this),type:"horizontal"}):null;"function"==typeof r?((0,p.warnAboutFunctionChild)(),r=r()):(0,p.warnAboutElementChild)();var b="scrollarea "+(n||""),g="scrollarea-content "+(o||""),w={marginTop:-this.state.topPosition,marginLeft:-this.state.leftPosition},S=c?(0,p.modifyObjValues)(w,(function(e){return(0,f.spring)(e)})):w;return s.default.createElement(f.Motion,{style:S},(function(t){return s.default.createElement("div",{ref:function(t){return e.wrapper=t},className:b,style:e.props.style},s.default.createElement("div",{ref:function(t){return e.content=t},style:i({},e.props.contentStyle,t),className:g,onTouchStart:e.handleTouchStart.bind(e),onTouchMove:e.handleTouchMove.bind(e),onTouchEnd:e.handleTouchEnd.bind(e),onKeyDown:e.handleKeyDown.bind(e),tabIndex:e.props.focusableTabIndex},r),u,l)}))}},{key:"setStateFromEvent",value:function(e,t){this.props.onScroll&&this.props.onScroll(e),this.setState(i({},e,{eventType:t}))}},{key:"handleTouchStart",value:function(e){var t=e.touches;if(1===t.length){var r=t[0],n=r.clientX,o=r.clientY;this.eventPreviousValues=i({},this.eventPreviousValues,{clientY:o,clientX:n,timestamp:Date.now()})}}},{key:"handleTouchMove",value:function(e){this.canScroll()&&(e.preventDefault(),e.stopPropagation());var t=e.touches;if(1===t.length){var r=t[0],n=r.clientX,o=r.clientY,a=this.eventPreviousValues.clientY-o,c=this.eventPreviousValues.clientX-n;this.eventPreviousValues=i({},this.eventPreviousValues,{deltaY:a,deltaX:c,clientY:o,clientX:n,timestamp:Date.now()}),this.setStateFromEvent(this.composeNewState(-c,-a))}}},{key:"handleTouchEnd",value:function(e){var t=this.eventPreviousValues,r=t.deltaX,n=t.deltaY,o=t.timestamp;void 0===r&&(r=0),void 0===n&&(n=0),Date.now()-o<200&&this.setStateFromEvent(this.composeNewState(10*-r,10*-n),m),this.eventPreviousValues=i({},this.eventPreviousValues,{deltaY:0,deltaX:0})}},{key:"handleScrollbarMove",value:function(e,t){this.setStateFromEvent(this.composeNewState(t,e))}},{key:"handleScrollbarXPositionChange",value:function(e){this.scrollXTo(e)}},{key:"handleScrollbarYPositionChange",value:function(e){this.scrollYTo(e)}},{key:"handleWheel",value:function(e){var t=e.deltaY,r=e.deltaX;if(this.props.swapWheelAxes){var n=[r,t];t=n[0],r=n[1]}1===e.deltaMode&&(t*=this.lineHeightPx,r*=this.lineHeightPx),t*=this.props.speed,r*=this.props.speed;var o=this.composeNewState(-r,-t);(o.topPosition&&this.state.topPosition!==o.topPosition||o.leftPosition&&this.state.leftPosition!==o.leftPosition||this.props.stopScrollPropagation)&&(e.preventDefault(),e.stopPropagation()),this.setStateFromEvent(o,h),this.focusContent()}},{key:"handleKeyDown",value:function(e){if("input"!==e.target.tagName.toLowerCase()&&"textarea"!==e.target.tagName.toLowerCase()&&!e.target.isContentEditable){var t=0,r=0,n=this.lineHeightPx?this.lineHeightPx:10;switch(e.keyCode){case 33:t=this.state.containerHeight-n;break;case 34:t=-this.state.containerHeight+n;break;case 37:r=n;break;case 38:t=n;break;case 39:r=-n;break;case 40:t=-n}if(0!==t||0!==r){var o=this.composeNewState(r,t);e.preventDefault(),e.stopPropagation(),this.setStateFromEvent(o,v)}}}},{key:"handleWindowResize",value:function(){var e=this.computeSizes();e=this.getModifiedPositionsIfNeeded(e),this.setStateFromEvent(e)}},{key:"composeNewState",value:function(e,t){var r=this.computeSizes();return this.canScrollY(r)?r.topPosition=this.computeTopPosition(t,r):r.topPosition=0,this.canScrollX(r)&&(r.leftPosition=this.computeLeftPosition(e,r)),r}},{key:"computeTopPosition",value:function(e,t){var r=this.state.topPosition-e;return this.normalizeTopPosition(r,t)}},{key:"computeLeftPosition",value:function(e,t){var r=this.state.leftPosition-e;return this.normalizeLeftPosition(r,t)}},{key:"normalizeTopPosition",value:function(e,t){return e>t.realHeight-t.containerHeight&&(e=t.realHeight-t.containerHeight),e<0&&(e=0),e}},{key:"normalizeLeftPosition",value:function(e,t){return e>t.realWidth-t.containerWidth?e=t.realWidth-t.containerWidth:e<0&&(e=0),e}},{key:"computeSizes",value:function(){return{realHeight:this.content.offsetHeight,containerHeight:this.wrapper.offsetHeight,realWidth:this.content.offsetWidth,containerWidth:this.wrapper.offsetWidth}}},{key:"setSizesToState",value:function(){var e=this.computeSizes();e.realHeight===this.state.realHeight&&e.realWidth===this.state.realWidth||this.setStateFromEvent(this.getModifiedPositionsIfNeeded(e))}},{key:"scrollTop",value:function(){this.scrollYTo(0)}},{key:"scrollBottom",value:function(){this.scrollYTo(this.state.realHeight-this.state.containerHeight)}},{key:"scrollLeft",value:function(){this.scrollXTo(0)}},{key:"scrollRight",value:function(){this.scrollXTo(this.state.realWidth-this.state.containerWidth)}},{key:"scrollYTo",value:function(e){if(this.canScrollY()){var t=this.normalizeTopPosition(e,this.computeSizes());this.setStateFromEvent({topPosition:t},y)}}},{key:"scrollXTo",value:function(e){if(this.canScrollX()){var t=this.normalizeLeftPosition(e,this.computeSizes());this.setStateFromEvent({leftPosition:t},y)}}},{key:"canScrollY",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state;return e.realHeight>e.containerHeight&&this.props.vertical}},{key:"canScrollX",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state;return e.realWidth>e.containerWidth&&this.props.horizontal}},{key:"canScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state;return this.canScrollY(e)||this.canScrollX(e)}},{key:"getModifiedPositionsIfNeeded",value:function(e){var t=e.realHeight-e.containerHeight;this.state.topPosition>=t&&(e.topPosition=this.canScrollY(e)?(0,p.positiveOrZero)(t):0);var r=e.realWidth-e.containerWidth;return this.state.leftPosition>=r&&(e.leftPosition=this.canScrollX(e)?(0,p.positiveOrZero)(r):0),e}},{key:"focusContent",value:function(){this.content&&(0,p.findDOMNode)(this.content).focus()}}]),t}(s.default.Component);t.default=b,b.childContextTypes={scrollArea:u.default.object},b.propTypes={className:u.default.string,style:u.default.object,speed:u.default.number,contentClassName:u.default.string,contentStyle:u.default.object,vertical:u.default.bool,verticalContainerStyle:u.default.object,verticalScrollbarStyle:u.default.object,horizontal:u.default.bool,horizontalContainerStyle:u.default.object,horizontalScrollbarStyle:u.default.object,onScroll:u.default.func,contentWindow:u.default.any,ownerDocument:u.default.any,smoothScrolling:u.default.bool,minScrollSize:u.default.number,swapWheelAxes:u.default.bool,stopScrollPropagation:u.default.bool,focusableTabIndex:u.default.number},b.defaultProps={speed:1,vertical:!0,horizontal:!0,smoothScrolling:!1,swapWheelAxes:!1,contentWindow:"object"===("undefined"==typeof window?"undefined":o(window))?window:void 0,ownerDocument:"object"===("undefined"==typeof document?"undefined":o(document))?document:void 0,focusableTabIndex:1}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=n(r(1)),s=n(r(2)),u=r(12),l=r(9),f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=c(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=r.calculateState(e);return r.state={position:n.position,scrollSize:n.scrollSize,isDragging:!1,lastClientPosition:0},"vertical"===e.type?r.bindedHandleMouseMove=r.handleMouseMoveForVertical.bind(r):r.bindedHandleMouseMove=r.handleMouseMoveForHorizontal.bind(r),r.bindedHandleMouseUp=r.handleMouseUp.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+c(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.props.ownerDocument&&(this.props.ownerDocument.addEventListener("mousemove",this.bindedHandleMouseMove),this.props.ownerDocument.addEventListener("mouseup",this.bindedHandleMouseUp))}},{key:"componentWillReceiveProps",value:function(e){this.setState(this.calculateState(e))}},{key:"componentWillUnmount",value:function(){this.props.ownerDocument&&(this.props.ownerDocument.removeEventListener("mousemove",this.bindedHandleMouseMove),this.props.ownerDocument.removeEventListener("mouseup",this.bindedHandleMouseUp))}},{key:"calculateFractionalPosition",value:function(e,t,r){var n=e-t;return 1-(n-r)/n}},{key:"calculateState",value:function(e){var t=this.calculateFractionalPosition(e.realSize,e.containerSize,e.position),r=e.containerSize*e.containerSize/e.realSize,n=r<e.minScrollSize?e.minScrollSize:r,o=(e.containerSize-n)*t;return{scrollSize:n,position:Math.round(o)}}},{key:"render",value:function(){var e=this,t=this.props,r=t.smoothScrolling,n=t.isDragging,i=t.type,c=t.scrollbarStyle,s=t.containerStyle,f="horizontal"===i,p="vertical"===i,d=this.createScrollStyles(),h=r?(0,l.modifyObjValues)(d,(function(e){return(0,u.spring)(e)})):d,y="scrollbar-container "+(n?"active":"")+" "+(f?"horizontal":"")+" "+(p?"vertical":"");return a.default.createElement(u.Motion,{style:h},(function(t){return a.default.createElement("div",{className:y,style:s,onMouseDown:e.handleScrollBarContainerClick.bind(e),ref:function(t){return e.scrollbarContainer=t}},a.default.createElement("div",{className:"scrollbar",style:o({},c,t),onMouseDown:e.handleMouseDown.bind(e)}))}))}},{key:"handleScrollBarContainerClick",value:function(e){e.preventDefault();var t=this.computeMultiplier(),r=this.isVertical()?e.clientY:e.clientX,n=this.scrollbarContainer.getBoundingClientRect(),o=n.top,i=n.left,a=r-(this.isVertical()?o:i),c=this.props.containerSize*this.props.containerSize/this.props.realSize;this.setState({isDragging:!0,lastClientPosition:r}),this.props.onPositionChange((a-c/2)/t)}},{key:"handleMouseMoveForHorizontal",value:function(e){var t=this.computeMultiplier();if(this.state.isDragging){e.preventDefault();var r=this.state.lastClientPosition-e.clientX;this.setState({lastClientPosition:e.clientX}),this.props.onMove(0,r/t)}}},{key:"handleMouseMoveForVertical",value:function(e){var t=this.computeMultiplier();if(this.state.isDragging){e.preventDefault();var r=this.state.lastClientPosition-e.clientY;this.setState({lastClientPosition:e.clientY}),this.props.onMove(r/t,0)}}},{key:"handleMouseDown",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.isVertical()?e.clientY:e.clientX;this.setState({isDragging:!0,lastClientPosition:t}),this.props.onFocus()}},{key:"handleMouseUp",value:function(e){this.state.isDragging&&(e.preventDefault(),this.setState({isDragging:!1}))}},{key:"createScrollStyles",value:function(){return"vertical"===this.props.type?{height:this.state.scrollSize,marginTop:this.state.position}:{width:this.state.scrollSize,marginLeft:this.state.position}}},{key:"computeMultiplier",value:function(){return this.props.containerSize/this.props.realSize}},{key:"isVertical",value:function(){return"vertical"===this.props.type}}]),t}(a.default.Component);f.propTypes={onMove:s.default.func,onPositionChange:s.default.func,onFocus:s.default.func,realSize:s.default.number,containerSize:s.default.number,position:s.default.number,containerStyle:s.default.object,scrollbarStyle:s.default.object,type:s.default.oneOf(["vertical","horizontal"]),ownerDocument:s.default.any,smoothScrolling:s.default.bool,minScrollSize:s.default.number},f.defaultProps={type:"vertical",smoothScrolling:!1},t.default=f},function(e,t){e.exports=function(e,t,r){return((r=window.getComputedStyle)?r(e):e.currentStyle)[t.replace(/-(\w)/gi,(function(e,t){return t.toUpperCase()}))]}},function(e,t,r){(e.exports=r(17)()).push([e.id,".scrollarea-content{margin:0;padding:0;overflow:hidden;position:relative;touch-action:none}.scrollarea-content:focus{outline:0}.scrollarea{position:relative;overflow:hidden}.scrollarea .scrollbar-container{position:absolute;background:none;opacity:.1;z-index:99;-webkit-transition:all .4s;transition:all .4s}.scrollarea .scrollbar-container.horizontal{width:100%;height:10px;left:0;bottom:0}.scrollarea .scrollbar-container.horizontal .scrollbar{width:20px;height:8px;background:#000;margin-top:1px}.scrollarea .scrollbar-container.vertical{width:10px;height:100%;right:0;top:0}.scrollarea .scrollbar-container.vertical .scrollbar{width:8px;height:20px;background:#000;margin-left:1px}.scrollarea .scrollbar-container.active,.scrollarea .scrollbar-container:hover{background:gray;opacity:.6!important}.scrollarea:hover .scrollbar-container{opacity:.3}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t];r[2]?e.push("@media "+r[2]+"{"+r[1]+"}"):e.push(r[1])}return e.join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(n[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&n[a[0]]||(r&&!a[2]?a[2]=r:r&&(a[2]="("+a[2]+") and ("+r+")"),e.push(a))}},e}},function(e,t,r){var n=r(15);e.exports=function(e){var t=n(e,"line-height"),r=parseFloat(t,10);if(t===r+""){var o=e.style.lineHeight;e.style.lineHeight=t+"em",t=n(e,"line-height"),r=parseFloat(t,10),o?e.style.lineHeight=o:delete e.style.lineHeight}if(-1!==t.indexOf("pt")?(r*=4,r/=3):-1!==t.indexOf("mm")?(r*=96,r/=25.4):-1!==t.indexOf("cm")?(r*=96,r/=2.54):-1!==t.indexOf("in")?r*=96:-1!==t.indexOf("pc")&&(r*=16),r=Math.round(r),"normal"===t){var i=e.nodeName,a=document.createElement(i);a.innerHTML="&nbsp;";var c=n(e,"font-size");a.style.fontSize=c;var s=document.body;s.appendChild(a),r=a.offsetHeight,s.removeChild(a)}return r}},function(e,t,r){"use strict";var n=r(21),o=r(22),i=r(20);e.exports=function(){function e(e,t,r,n,a,c){c!==i&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=n,r.PropTypes=r,r}},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){"use strict";function r(e){return function(){return e}}var n=function(){};n.thatReturns=r,n.thatReturnsFalse=r(!1),n.thatReturnsTrue=r(!0),n.thatReturnsNull=r(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,r){"use strict";e.exports=function(e,t,r,n,o,i,a,c){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,o,i,a,c],l=0;(s=new Error(t.replace(/%s/g,(function(){return u[l++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},function(e,t,r){(function(t){(function(){var r,n,o,i,a,c;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(r()-a)/1e6},n=t.hrtime,r=function(){var e;return 1e9*(e=n())[0]+e[1]},i=r(),c=1e9*t.uptime(),a=i-c):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(t,r(10))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=n(r(6)),s=n(r(3)),u=n(r(8)),l=n(r(4)),f=n(r(5)),p=n(r(7)),d=n(r(1)),h=n(r(2)),y=1e3/60,m=function(e){function t(r){var n=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),e.call(this,r),this.wasAnimating=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyle=null,this.clearUnreadPropStyle=function(e){var t=!1,r=n.state,i=r.currentStyle,a=r.currentVelocity,c=r.lastIdealStyle,s=r.lastIdealVelocity;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var l=e[u];"number"==typeof l&&(t||(t=!0,i=o({},i),a=o({},a),c=o({},c),s=o({},s)),i[u]=l,a[u]=0,c[u]=l,s[u]=0)}t&&n.setState({currentStyle:i,currentVelocity:a,lastIdealStyle:c,lastIdealVelocity:s})},this.startAnimationIfNecessary=function(){n.animationID=f.default((function(e){var t=n.props.style;if(p.default(n.state.currentStyle,t,n.state.currentVelocity))return n.wasAnimating&&n.props.onRest&&n.props.onRest(),n.animationID=null,n.wasAnimating=!1,void(n.accumulatedTime=0);n.wasAnimating=!0;var r=e||l.default(),o=r-n.prevTime;if(n.prevTime=r,n.accumulatedTime=n.accumulatedTime+o,n.accumulatedTime>10*y&&(n.accumulatedTime=0),0===n.accumulatedTime)return n.animationID=null,void n.startAnimationIfNecessary();var i=(n.accumulatedTime-Math.floor(n.accumulatedTime/y)*y)/y,a=Math.floor(n.accumulatedTime/y),c={},s={},f={},d={};for(var h in t)if(Object.prototype.hasOwnProperty.call(t,h)){var m=t[h];if("number"==typeof m)f[h]=m,d[h]=0,c[h]=m,s[h]=0;else{for(var v=n.state.lastIdealStyle[h],b=n.state.lastIdealVelocity[h],g=0;g<a;g++){var w=u.default(y/1e3,v,b,m.val,m.stiffness,m.damping,m.precision);v=w[0],b=w[1]}var S=u.default(y/1e3,v,b,m.val,m.stiffness,m.damping,m.precision),O=S[0],P=S[1];f[h]=v+(O-v)*i,d[h]=b+(P-b)*i,c[h]=v,s[h]=b}}n.animationID=null,n.accumulatedTime-=a*y,n.setState({currentStyle:f,currentVelocity:d,lastIdealStyle:c,lastIdealVelocity:s}),n.unreadPropStyle=null,n.startAnimationIfNecessary()}))},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+c(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"propTypes",value:{defaultStyle:h.default.objectOf(h.default.number),style:h.default.objectOf(h.default.oneOfType([h.default.number,h.default.object])).isRequired,children:h.default.func.isRequired,onRest:h.default.func},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyle,r=e.style,n=t||s.default(r),o=a.default(n);return{currentStyle:n,currentVelocity:o,lastIdealStyle:n,lastIdealVelocity:o}},t.prototype.componentDidMount=function(){this.prevTime=l.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=e.style,null==this.animationID&&(this.prevTime=l.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(f.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyle);return e&&d.default.Children.only(e)},t}(d.default.Component);t.default=m,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){for(var n=0;n<e.length;n++)if(!d.default(e[n],t[n],r[n]))return!1;return!0}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=n(r(6)),u=n(r(3)),l=n(r(8)),f=n(r(4)),p=n(r(5)),d=n(r(7)),h=n(r(1)),y=n(r(2)),m=1e3/60,v=function(e){function t(r){var n=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),e.call(this,r),this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=n.state,r=t.currentStyles,o=t.currentVelocities,a=t.lastIdealStyles,c=t.lastIdealVelocities,s=!1,u=0;u<e.length;u++){var l=e[u],f=!1;for(var p in l)if(Object.prototype.hasOwnProperty.call(l,p)){var d=l[p];"number"==typeof d&&(f||(f=!0,s=!0,r[u]=i({},r[u]),o[u]=i({},o[u]),a[u]=i({},a[u]),c[u]=i({},c[u])),r[u][p]=d,o[u][p]=0,a[u][p]=d,c[u][p]=0)}}s&&n.setState({currentStyles:r,currentVelocities:o,lastIdealStyles:a,lastIdealVelocities:c})},this.startAnimationIfNecessary=function(){n.animationID=p.default((function(e){var t=n.props.styles(n.state.lastIdealStyles);if(o(n.state.currentStyles,t,n.state.currentVelocities))return n.animationID=null,void(n.accumulatedTime=0);var r=e||f.default(),i=r-n.prevTime;if(n.prevTime=r,n.accumulatedTime=n.accumulatedTime+i,n.accumulatedTime>10*m&&(n.accumulatedTime=0),0===n.accumulatedTime)return n.animationID=null,void n.startAnimationIfNecessary();for(var a=(n.accumulatedTime-Math.floor(n.accumulatedTime/m)*m)/m,c=Math.floor(n.accumulatedTime/m),s=[],u=[],p=[],d=[],h=0;h<t.length;h++){var y=t[h],v={},b={},g={},w={};for(var S in y)if(Object.prototype.hasOwnProperty.call(y,S)){var O=y[S];if("number"==typeof O)v[S]=O,b[S]=0,g[S]=O,w[S]=0;else{for(var P=n.state.lastIdealStyles[h][S],k=n.state.lastIdealVelocities[h][S],_=0;_<c;_++){var E=l.default(m/1e3,P,k,O.val,O.stiffness,O.damping,O.precision);P=E[0],k=E[1]}var j=l.default(m/1e3,P,k,O.val,O.stiffness,O.damping,O.precision),x=j[0],C=j[1];v[S]=P+(x-P)*a,b[S]=k+(C-k)*a,g[S]=P,w[S]=k}}p[h]=v,d[h]=b,s[h]=g,u[h]=w}n.animationID=null,n.accumulatedTime-=c*m,n.setState({currentStyles:p,currentVelocities:d,lastIdealStyles:s,lastIdealVelocities:u}),n.unreadPropStyles=null,n.startAnimationIfNecessary()}))},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+c(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,null,[{key:"propTypes",value:{defaultStyles:y.default.arrayOf(y.default.objectOf(y.default.number)),styles:y.default.func.isRequired,children:y.default.func.isRequired},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,r=e.styles,n=t||r().map(u.default),o=n.map((function(e){return s.default(e)}));return{currentStyles:n,currentVelocities:o,lastIdealStyles:n,lastIdealVelocities:o}},t.prototype.componentDidMount=function(){this.prevTime=f.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=e.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=f.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(p.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyles);return e&&h.default.Children.only(e)},t}(h.default.Component);t.default=v,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){var n=t;return null==n?e.map((function(e,t){return{key:e.key,data:e.data,style:r[t]}})):e.map((function(e,t){for(var o=0;o<n.length;o++)if(n[o].key===e.key)return{key:n[o].key,data:n[o].data,style:r[t]};return{key:e.key,data:e.data,style:r[t]}}))}function i(e,t,r,n){if(n.length!==t.length)return!1;for(var o=0;o<n.length;o++)if(n[o].key!==t[o].key)return!1;for(o=0;o<n.length;o++)if(!m.default(e[o],t[o].style,r[o]))return!1;return!0}function a(e,t,r,n,o,i,a,c,s){for(var u=d.default(n,o,(function(e,n){var o=t(n);return null==o||m.default(i[e],o,a[e])?(r({key:n.key,data:n.data}),null):{key:n.key,data:n.data,style:o}})),f=[],p=[],h=[],y=[],v=0;v<u.length;v++){for(var b=u[v],g=null,w=0;w<n.length;w++)if(n[w].key===b.key){g=w;break}if(null==g){var S=e(b);f[v]=S,h[v]=S;var O=l.default(b.style);p[v]=O,y[v]=O}else f[v]=i[g],h[v]=c[g],p[v]=a[g],y[v]=s[g]}return[u,f,p,h,y]}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=n(r(6)),f=n(r(3)),p=n(r(8)),d=n(r(27)),h=n(r(4)),y=n(r(5)),m=n(r(7)),v=n(r(1)),b=n(r(2)),g=1e3/60,w=function(e){function t(r){var n=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),e.call(this,r),this.unmounting=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=a(n.props.willEnter,n.props.willLeave,n.props.didLeave,n.state.mergedPropsStyles,e,n.state.currentStyles,n.state.currentVelocities,n.state.lastIdealStyles,n.state.lastIdealVelocities),r=t[0],o=t[1],i=t[2],c=t[3],u=t[4],l=0;l<e.length;l++){var f=e[l].style,p=!1;for(var d in f)if(Object.prototype.hasOwnProperty.call(f,d)){var h=f[d];"number"==typeof h&&(p||(p=!0,o[l]=s({},o[l]),i[l]=s({},i[l]),c[l]=s({},c[l]),u[l]=s({},u[l]),r[l]={key:r[l].key,data:r[l].data,style:s({},r[l].style)}),o[l][d]=h,i[l][d]=0,c[l][d]=h,u[l][d]=0,r[l].style[d]=h)}}n.setState({currentStyles:o,currentVelocities:i,mergedPropsStyles:r,lastIdealStyles:c,lastIdealVelocities:u})},this.startAnimationIfNecessary=function(){n.unmounting||(n.animationID=y.default((function(e){if(!n.unmounting){var t=n.props.styles,r="function"==typeof t?t(o(n.state.mergedPropsStyles,n.unreadPropStyles,n.state.lastIdealStyles)):t;if(i(n.state.currentStyles,r,n.state.currentVelocities,n.state.mergedPropsStyles))return n.animationID=null,void(n.accumulatedTime=0);var c=e||h.default(),s=c-n.prevTime;if(n.prevTime=c,n.accumulatedTime=n.accumulatedTime+s,n.accumulatedTime>10*g&&(n.accumulatedTime=0),0===n.accumulatedTime)return n.animationID=null,void n.startAnimationIfNecessary();for(var u=(n.accumulatedTime-Math.floor(n.accumulatedTime/g)*g)/g,l=Math.floor(n.accumulatedTime/g),f=a(n.props.willEnter,n.props.willLeave,n.props.didLeave,n.state.mergedPropsStyles,r,n.state.currentStyles,n.state.currentVelocities,n.state.lastIdealStyles,n.state.lastIdealVelocities),d=f[0],y=f[1],m=f[2],v=f[3],b=f[4],w=0;w<d.length;w++){var S=d[w].style,O={},P={},k={},_={};for(var E in S)if(Object.prototype.hasOwnProperty.call(S,E)){var j=S[E];if("number"==typeof j)O[E]=j,P[E]=0,k[E]=j,_[E]=0;else{for(var x=v[w][E],C=b[w][E],T=0;T<l;T++){var R=p.default(g/1e3,x,C,j.val,j.stiffness,j.damping,j.precision);x=R[0],C=R[1]}var I=p.default(g/1e3,x,C,j.val,j.stiffness,j.damping,j.precision),L=I[0],M=I[1];O[E]=x+(L-x)*u,P[E]=C+(M-C)*u,k[E]=x,_[E]=C}}v[w]=k,b[w]=_,y[w]=O,m[w]=P}n.animationID=null,n.accumulatedTime-=l*g,n.setState({currentStyles:y,currentVelocities:m,lastIdealStyles:v,lastIdealVelocities:b,mergedPropsStyles:d}),n.unreadPropStyles=null,n.startAnimationIfNecessary()}})))},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+c(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),u(t,null,[{key:"propTypes",value:{defaultStyles:b.default.arrayOf(b.default.shape({key:b.default.string.isRequired,data:b.default.any,style:b.default.objectOf(b.default.number).isRequired})),styles:b.default.oneOfType([b.default.func,b.default.arrayOf(b.default.shape({key:b.default.string.isRequired,data:b.default.any,style:b.default.objectOf(b.default.oneOfType([b.default.number,b.default.object])).isRequired}))]).isRequired,children:b.default.func.isRequired,willEnter:b.default.func,willLeave:b.default.func,didLeave:b.default.func},enumerable:!0},{key:"defaultProps",value:{willEnter:function(e){return f.default(e.style)},willLeave:function(){return null},didLeave:function(){}},enumerable:!0}]),t.prototype.defaultState=function(){var e,t=this.props,r=t.defaultStyles,n=t.styles,o=t.willEnter,i=t.willLeave,c=t.didLeave,s="function"==typeof n?n(r):n;e=null==r?s:r.map((function(e){for(var t=0;t<s.length;t++)if(s[t].key===e.key)return s[t];return e}));var u=null==r?s.map((function(e){return f.default(e.style)})):r.map((function(e){return f.default(e.style)})),p=null==r?s.map((function(e){return l.default(e.style)})):r.map((function(e){return l.default(e.style)})),d=a(o,i,c,e,s,u,p,u,p),h=d[0];return{currentStyles:d[1],currentVelocities:d[2],lastIdealStyles:d[3],lastIdealVelocities:d[4],mergedPropsStyles:h}},t.prototype.componentDidMount=function(){this.prevTime=h.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var t=e.styles;this.unreadPropStyles="function"==typeof t?t(o(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):t,null==this.animationID&&(this.prevTime=h.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){this.unmounting=!0,null!=this.animationID&&(y.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=o(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),t=this.props.children(e);return t&&v.default.Children.only(t)},t}(v.default.Component);t.default=w,e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t,r){for(var n={},o=0;o<e.length;o++)n[e[o].key]=o;var i={};for(o=0;o<t.length;o++)i[t[o].key]=o;var a=[];for(o=0;o<t.length;o++)a[o]=t[o];for(o=0;o<e.length;o++)if(!Object.prototype.hasOwnProperty.call(i,e[o].key)){var c=r(o,e[o]);null!=c&&a.push(c)}return a.sort((function(e,r){var o=i[e.key],a=i[r.key],c=n[e.key],s=n[r.key];if(null!=o&&null!=a)return i[e.key]-i[r.key];if(null!=c&&null!=s)return n[e.key]-n[r.key];if(null!=o){for(var u=0;u<t.length;u++){var l=t[u].key;if(Object.prototype.hasOwnProperty.call(n,l)){if(o<i[l]&&s>n[l])return-1;if(o>i[l]&&s<n[l])return 1}}return 1}for(u=0;u<t.length;u++)if(l=t[u].key,Object.prototype.hasOwnProperty.call(n,l)){if(a<i[l]&&c>n[l])return 1;if(a>i[l]&&c<n[l])return-1}return-1}))},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(){},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(e,t){return n({},i,t,{val:e})};var o=function(e){return e&&e.__esModule?e:{default:e}}(r(11)),i=n({},o.default.noWobble,{precision:.01});e.exports=t.default},function(e,t,r){function n(e,t){for(var r=0;r<e.length;r++){var n=e[r],o=d[n.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](n.parts[i]);for(;i<n.parts.length;i++)o.parts.push(u(n.parts[i],t))}else{var a=[];for(i=0;i<n.parts.length;i++)a.push(u(n.parts[i],t));d[n.id]={id:n.id,refs:1,parts:a}}}}function o(e){for(var t=[],r={},n=0;n<e.length;n++){var o=e[n],i=o[0],a={css:o[1],media:o[2],sourceMap:o[3]};r[i]?r[i].parts.push(a):t.push(r[i]={id:i,parts:[a]})}return t}function i(e,t){var r=m(),n=g[g.length-1];if("top"===e.insertAt)n?n.nextSibling?r.insertBefore(t,n.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),g.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=g.indexOf(e);t>=0&&g.splice(t,1)}function c(e){var t=document.createElement("style");return t.type="text/css",i(e,t),t}function s(e){var t=document.createElement("link");return t.rel="stylesheet",i(e,t),t}function u(e,t){var r,n,o;if(t.singleton){var i=b++;r=v||(v=c(t)),n=l.bind(null,r,i,!1),o=l.bind(null,r,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=s(t),n=p.bind(null,r),o=function(){a(r),r.href&&URL.revokeObjectURL(r.href)}):(r=c(t),n=f.bind(null,r),o=function(){a(r)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}function l(e,t,r,n){var o=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=w(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function f(e,t){var r=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function p(e,t){var r=t.css,n=t.sourceMap;n&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var o=new Blob([r],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}var d={},h=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},y=h((function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())})),m=h((function(){return document.head||document.getElementsByTagName("head")[0]})),v=null,b=0,g=[];e.exports=function(e,t){void 0===(t=t||{}).singleton&&(t.singleton=y()),void 0===t.insertAt&&(t.insertAt="bottom");var r=o(e);return n(r,t),function(e){for(var i=[],a=0;a<r.length;a++){var c=r[a];(s=d[c.id]).refs--,i.push(s)}for(e&&n(o(e),t),a=0;a<i.length;a++){var s;if(0===(s=i[a]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete d[s.id]}}}};var w=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}()},function(e,t,r){var n=r(16);"string"==typeof n&&(n=[[e.id,n,""]]),r(30)(n,{}),n.locals&&(e.exports=n.locals)}])},"object"==c(t)&&"object"==c(e)?e.exports=a(r(16689)):(o=[r(16689)],void 0===(i="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=i))},8943:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ArrowContainer=void 0;var c=a(r(16689)),s=r(25033);t.ArrowContainer=function(e){var t=e.childRect,r=e.popoverRect,o=e.position,i=e.arrowColor,a=e.arrowSize,u=e.arrowStyle,l=e.className,f=e.children,p=e.style,d=s.useArrowContainer({childRect:t,popoverRect:r,position:o,arrowColor:i,arrowSize:a}),h=d.arrowContainerStyle,y=d.arrowStyle,m=c.useMemo((function(){return n(n({},h),p)}),[h,p]),v=c.useMemo((function(){return n(n({},y),u)}),[y,u]);return c.default.createElement("div",{className:l,style:m},c.default.createElement("div",{style:v}),f)}},87001:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Popover=t.usePopover=t.ArrowContainer=t.useArrowContainer=void 0;var c=a(r(16689)),s=r(31692),u=r(72993),l=r(38027);Object.defineProperty(t,"usePopover",{enumerable:!0,get:function(){return l.usePopover}});var f=r(4287),p=r(25033);Object.defineProperty(t,"useArrowContainer",{enumerable:!0,get:function(){return p.useArrowContainer}});var d=r(8943);Object.defineProperty(t,"ArrowContainer",{enumerable:!0,get:function(){return d.ArrowContainer}}),t.Popover=c.forwardRef((function(e,t){var r=e.isOpen,o=e.children,i=e.content,a=e.positions,p=void 0===a?u.Constants.DEFAULT_POSITIONS:a,d=e.align,h=void 0===d?u.Constants.DEFAULT_ALIGN:d,y=e.padding,m=void 0===y?0:y,v=e.reposition,b=void 0===v||v,g=e.containerParent,w=void 0===g?window.document.body:g,S=e.containerClassName,O=void 0===S?"react-tiny-popover-container":S,P=e.containerStyle,k=e.contentLocation,_=e.boundaryInset,E=void 0===_?0:_,j=e.onClickOutside,x=f.useMemoizedArray(p),C=c.useRef(!1),T=c.useRef(),R=c.useRef(),I=c.useRef(b),L=c.useRef(),M=c.useState({align:h,nudgedLeft:0,nudgedTop:0,position:x[0],padding:m,childRect:u.Constants.EMPTY_CLIENT_RECT,popoverRect:u.Constants.EMPTY_CLIENT_RECT,parentRect:u.Constants.EMPTY_CLIENT_RECT,boundaryInset:E}),A=M[0],D=M[1],N=c.useCallback((function(e){return D(e)}),[]),U=l.usePopover({childRef:L,containerClassName:O,containerParent:w,contentLocation:k,positions:x,align:h,padding:m,boundaryInset:E,reposition:b,onPositionPopover:N}),B=U[0],z=U[1];c.useLayoutEffect((function(){var e=!0;return window.requestAnimationFrame((function t(){var n,o;if(r&&e&&L.current&&z.current){var i=null===(n=L.current)||void 0===n?void 0:n.getBoundingClientRect(),a=null===(o=z.current)||void 0===o?void 0:o.getBoundingClientRect();u.rectsAreEqual(i,{top:A.childRect.top,left:A.childRect.left,width:A.childRect.width,height:A.childRect.height,bottom:A.childRect.top+A.childRect.height,right:A.childRect.left+A.childRect.width})&&a.width===A.popoverRect.width&&a.height===A.popoverRect.height&&A.padding===m&&A.align===h&&x===T.current&&k===R.current&&b===I.current||B(),x!==T.current&&(T.current=x),k!==R.current&&(R.current=k),b!==I.current&&(I.current=b),e&&window.requestAnimationFrame(t)}C.current=r})),function(){e=!1}}),[h,k,r,m,z,A.align,A.childRect.height,A.childRect.left,A.childRect.top,A.childRect.width,A.padding,A.popoverRect.height,A.popoverRect.width,B,x,b]),c.useEffect((function(){var e=z.current;return Object.assign(e.style,P),function(){Object.keys(null!=P?P:{}).forEach((function(t){return e.style[t]=null}))}}),[P,r,z]);var F=c.useCallback((function(e){var t,n;!r||(null===(t=null==z?void 0:z.current)||void 0===t?void 0:t.contains(e.target))||(null===(n=null==L?void 0:L.current)||void 0===n?void 0:n.contains(e.target))||null==j||j(e)}),[r,j,z]),q=c.useCallback((function(){window.requestAnimationFrame((function(){return B()}))}),[B]);c.useEffect((function(){return window.addEventListener("click",F),window.addEventListener("resize",q),function(){window.removeEventListener("click",F),window.removeEventListener("resize",q)}}),[F,q]);var W=c.useCallback((function(e){L.current=e,null!=t&&("object"===n(t)?t.current=e:"function"==typeof t&&t(e))}),[t]);return c.default.createElement(c.default.Fragment,null,c.default.cloneElement(o,{ref:W}),r?c.default.createElement(s.PopoverPortal,{element:z.current,container:w},"function"==typeof i?i(A):i):null)}))},31692:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopoverPortal=void 0;var n=r(16689),o=r(66405);t.PopoverPortal=function(e){var t=e.container,r=e.element,i=e.children;return n.useLayoutEffect((function(){return t.appendChild(r),function(){return t.removeChild(r)}}),[t,r]),o.createPortal(i,r)}},25033:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.useArrowContainer=void 0;var o=r(16689);t.useArrowContainer=function(e){var t=e.childRect,r=e.popoverRect,i=e.position,a=e.arrowSize,c=e.arrowColor;return{arrowContainerStyle:o.useMemo((function(){return{padding:a}}),[a]),arrowStyle:o.useMemo((function(){return n({position:"absolute"},function(){var e=2*a,n=t.top-r.top+t.height/2-e/2,o=t.left-r.left+t.width/2-e/2,s=a,u=r.width-a,l=r.height-a;switch(o=(o=o<s?s:o)+e>u?u-e:o,n=(n=n<s?s:n)+e>l?l-e:n,n=Number.isNaN(n)?0:n,o=Number.isNaN(o)?0:o,i){case"right":return{borderTop:a+"px solid transparent",borderBottom:a+"px solid transparent",borderRight:a+"px solid "+c,left:0,top:n};case"left":return{borderTop:a+"px solid transparent",borderBottom:a+"px solid transparent",borderLeft:a+"px solid "+c,right:0,top:n};case"bottom":return{borderLeft:a+"px solid transparent",borderRight:a+"px solid transparent",borderBottom:a+"px solid "+c,top:0,left:o};default:return{borderLeft:a+"px solid transparent",borderRight:a+"px solid transparent",borderTop:a+"px solid "+c,bottom:0,left:o}}}())}),[c,a,t.height,t.left,t.top,t.width,r.height,r.left,r.top,r.width,i])}}},9613:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useElementRef=void 0;var n=r(16689),o=r(72993);t.useElementRef=function(e,t){var r=n.useMemo((function(){return o.createContainer(t,e)}),[e,t]);return n.useRef(r)}},4287:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useMemoizedArray=void 0;var n=r(16689);t.useMemoizedArray=function(e){var t=n.useRef(e);return n.useMemo((function(){if(t.current===e)return t.current;if(t.current.length!==e.length)return t.current=e,e;for(var r=0;r<e.length;r+=1)if(e[r]!==t.current[r])return t.current=e,e;return t.current}),[e])}},38027:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.usePopover=void 0;var n=r(16689),o=r(72993),i=r(9613);t.usePopover=function(e){var t=e.childRef,r=e.positions,a=e.containerClassName,c=e.containerParent,s=e.contentLocation,u=e.align,l=e.padding,f=e.reposition,p=e.boundaryInset,d=e.onPositionPopover,h=i.useElementRef(a,{position:"fixed",overflow:"visible",top:"0px",left:"0px"}),y=n.useCallback((function(e,n,i,a){if(void 0===e&&(e=0),void 0===n&&(n=t.current.getBoundingClientRect()),void 0===i&&(i=h.current.getBoundingClientRect()),void 0===a&&(a=c.getBoundingClientRect()),s){var m="function"==typeof s?s({childRect:n,popoverRect:i,parentRect:a,position:"custom",align:"custom",padding:l,nudgedTop:0,nudgedLeft:0,boundaryInset:p}):s,v=m.top,b=m.left,g=a.left+b,w=a.top+v;return h.current.style.transform="translate("+g+"px, "+w+"px)",void d({childRect:n,popoverRect:i,parentRect:a,position:"custom",align:"custom",padding:l,nudgedTop:0,nudgedLeft:0,boundaryInset:p})}var S=e===r.length,O=S?r[0]:r[e],P=o.getNewPopoverRect({childRect:n,popoverRect:i,parentRect:a,position:O,align:u,padding:l,reposition:f},p),k=P.rect;if(P.boundaryViolation&&f&&!S)y(e+1,n,i,a);else{var _=k.top,E=k.left,j=k.width,x=k.height,C=f&&!S,T=o.getNudgedPopoverRect(k,a,p),R=T.left,I=T.top,L=_,M=E;C&&(L=I,M=R),h.current.style.transform="translate("+M+"px, "+L+"px)",d({childRect:n,popoverRect:{top:L,left:M,width:j,height:x,right:M+j,bottom:L+x},parentRect:a,position:O,align:u,padding:l,nudgedTop:I-_,nudgedLeft:R-E,boundaryInset:p})}}),[t,h,r,u,l,f,p,c,s,d]);return[y,h]}},72993:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNudgedPopoverRect=t.getNewPopoverRect=t.popoverRectForPosition=t.createContainer=t.targetPositionHasChanged=t.popoverStatesAreEqual=t.rectsAreEqual=t.arrayUnique=t.Constants=void 0,t.Constants={POPOVER_CONTAINER_CLASS_NAME:"react-tiny-popover-container",DEFAULT_ALIGN:"center",OBSERVER_THRESHOLDS:Array(1e3).fill(null).map((function(e,t){return t/1e3})).reverse(),DEFAULT_POSITIONS:["top","left","right","bottom"],EMPTY_CLIENT_RECT:{top:0,left:0,bottom:0,height:0,right:0,width:0}},t.arrayUnique=function(e){return e.filter((function(e,t,r){return r.indexOf(e)===t}))},t.rectsAreEqual=function(e,t){return e===t||(null==e?void 0:e.bottom)===(null==t?void 0:t.bottom)&&(null==e?void 0:e.height)===(null==t?void 0:t.height)&&(null==e?void 0:e.left)===(null==t?void 0:t.left)&&(null==e?void 0:e.right)===(null==t?void 0:t.right)&&(null==e?void 0:e.top)===(null==t?void 0:t.top)&&(null==e?void 0:e.width)===(null==t?void 0:t.width)},t.popoverStatesAreEqual=function(e,r){return e===r||(null==e?void 0:e.align)===(null==r?void 0:r.align)&&(null==e?void 0:e.nudgedLeft)===(null==r?void 0:r.nudgedLeft)&&(null==e?void 0:e.nudgedTop)===(null==r?void 0:r.nudgedTop)&&e.padding===r.padding&&t.rectsAreEqual(null==e?void 0:e.popoverRect,null==r?void 0:r.popoverRect)&&t.rectsAreEqual(null==e?void 0:e.childRect,null==r?void 0:r.childRect)&&(null==e?void 0:e.position)===(null==r?void 0:r.position)},t.targetPositionHasChanged=function(e,t){return void 0===e||e.left!==t.left||e.top!==t.top||e.width!==t.width||e.height!==t.height},t.createContainer=function(e,t){var r=window.document.createElement("div");return t&&(r.className=t),Object.assign(r.style,e),r},t.popoverRectForPosition=function(e,t,r,n,o){var i,a,c=t.left+t.width/2,s=t.top+t.height/2,u=r.width,l=r.height;switch(e){case"top":i=t.top-l-n,a=c-u/2,"start"===o&&(a=t.left),"end"===o&&(a=t.right-u);break;case"left":i=s-l/2,a=t.left-n-u,"start"===o&&(i=t.top),"end"===o&&(i=t.bottom-l);break;case"bottom":i=t.bottom+n,a=c-u/2,"start"===o&&(a=t.left),"end"===o&&(a=t.right-u);break;case"right":i=s-l/2,a=t.right+n,"start"===o&&(i=t.top),"end"===o&&(i=t.bottom-l)}return{top:i,left:a,width:u,height:l,right:a+u,bottom:i+l}},t.getNewPopoverRect=function(e,r){var n=e.position,o=e.align,i=e.childRect,a=e.popoverRect,c=e.parentRect,s=e.padding,u=e.reposition,l=t.popoverRectForPosition(n,i,a,s,o);return{rect:l,boundaryViolation:u&&("top"===n&&l.top<c.top+r||"left"===n&&l.left<c.left+r||"right"===n&&l.right>c.right-r||"bottom"===n&&l.bottom>c.bottom-r)}},t.getNudgedPopoverRect=function(e,t,r){var n=t.top+r,o=t.left+r,i=t.right-r,a=t.bottom-r,c=e.top<n?n:e.top;c=c+e.height>a?a-e.height:c;var s=e.left<o?o:e.left;return{top:c,left:s=s+e.width>i?i-e.width:s,width:e.width,height:e.height,right:s+e.width,bottom:c+e.height}}},6375:(e,t,r)=>{"use strict";r(57860);var n=r(16689),o=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var i=Symbol.for;o=i("react.element"),t.Fragment=i("react.fragment")}var a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,r){var n,i={},u=null,l=null;for(n in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)c.call(t,n)&&!s.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:o,type:e,key:u,ref:l,props:i,_owner:a.current}}t.jsx=u,t.jsxs=u},2038:(e,t,r)=>{"use strict";e.exports=r(6375)},12590:e=>{"use strict";var t=function(e){return e&&2===e.CLOSING},r=function(e,t,r){Object.defineProperty(t,r,{get:function(){return e[r]},set:function(t){e[r]=t},enumerable:!0,configurable:!0})},n=function(e){return e.minReconnectionDelay+Math.random()*e.minReconnectionDelay},o=["onopen","onclose","onmessage","onerror"];e.exports=function e(i,a,c){var s,u,l=this;void 0===c&&(c={});var f=0,p=0,d=!0,h=null,y={};if(!(this instanceof e))throw new TypeError("Failed to construct 'ReconnectingWebSocket': Please use the 'new' operator");var m={constructor:"undefined"!=typeof WebSocket&&t(WebSocket)?WebSocket:null,maxReconnectionDelay:1e4,minReconnectionDelay:1500,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,debug:!1};if(Object.keys(m).filter((function(e){return c.hasOwnProperty(e)})).forEach((function(e){return m[e]=c[e]})),!t(m.constructor))throw new TypeError("Invalid WebSocket constructor. Set `options.constructor`");var v=m.debug?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return console.log.apply(console,["RWS:"].concat(e))}:function(){},b=function(e,t){return setTimeout((function(){var r=new Error(t);r.code=e,Array.isArray(y.error)&&y.error.forEach((function(e){return(0,e[0])(r)})),s.onerror&&s.onerror(r)}),0)},g=function(){v("handleClose",{shouldRetry:d}),p++,v("retries count:",p),p>m.maxRetries?b("EHOSTDOWN","Too many failed connection attempts"):(f=f?function(e,t){var r=t*e.reconnectionDelayGrowFactor;return r>e.maxReconnectionDelay?e.maxReconnectionDelay:r}(m,f):n(m),v("handleClose - reconnectDelay:",f),d&&setTimeout(w,f))},w=function(){if(d){v("connect");var e=s,t="function"==typeof i?i():i;for(var c in s=new m.constructor(t,a),u=setTimeout((function(){v("timeout"),s.close(),b("ETIMEDOUT","Connection timeout")}),m.connectionTimeout),v("bypass properties"),s)["addEventListener","removeEventListener","close","send"].indexOf(c)<0&&r(s,l,c);s.addEventListener("open",(function(){clearTimeout(u),v("open"),f=n(m),v("reconnectDelay:",f),p=0})),s.addEventListener("close",g),function(e,t,r){Object.keys(r).forEach((function(t){r[t].forEach((function(r){var n=r[0],o=r[1];e.addEventListener(t,n,o)}))})),t&&o.forEach((function(r){e[r]=t[r]}))}(s,e,y),s.onclose=s.onclose||h,h=null}};v("init"),w(),this.close=function(e,t,r){void 0===e&&(e=1e3),void 0===t&&(t="");var n=void 0===r?{}:r,o=n.keepClosed,i=void 0!==o&&o,a=n.fastClose,c=void 0===a||a,u=n.delay,l=void 0===u?0:u;if(v("close - params:",{reason:t,keepClosed:i,fastClose:c,delay:l,retriesCount:p,maxRetries:m.maxRetries}),d=!i&&p<=m.maxRetries,l&&(f=l),s.close(e,t),c){var b={code:e,reason:t,wasClean:!0};g(),s.removeEventListener("close",g),Array.isArray(y.close)&&y.close.forEach((function(e){var t=e[0],r=e[1];t(b),s.removeEventListener("close",t,r)})),s.onclose&&(h=s.onclose,s.onclose(b),s.onclose=null)}},this.send=function(e){s.send(e)},this.addEventListener=function(e,t,r){Array.isArray(y[e])?y[e].some((function(e){return e[0]===t}))||y[e].push([t,r]):y[e]=[[t,r]],s.addEventListener(e,t,r)},this.removeEventListener=function(e,t,r){Array.isArray(y[e])&&(y[e]=y[e].filter((function(e){return e[0]!==t}))),s.removeEventListener(e,t,r)}}},239:(e,t,r)=>{"use strict";var n=r(81091).functionsHaveConfigurableNames(),o=Object,i=TypeError;e.exports=function(){if(null!=this&&this!==o(this))throw new i("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e},n&&Object.defineProperty&&Object.defineProperty(e.exports,"name",{value:"get flags"})},30907:(e,t,r)=>{"use strict";var n=r(10635),o=r(64411),i=r(239),a=r(12019),c=r(44238),s=o(a());n(s,{getPolyfill:a,implementation:i,shim:c}),e.exports=s},12019:(e,t,r)=>{"use strict";var n=r(239),o=r(10635).supportsDescriptors,i=Object.getOwnPropertyDescriptor;e.exports=function(){if(o&&"gim"===/a/gim.flags){var e=i(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var t="",r={};if(Object.defineProperty(r,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(r,"sticky",{get:function(){t+="y"}}),"dy"===t)return e.get}}return n}},44238:(e,t,r)=>{"use strict";var n=r(10635).supportsDescriptors,o=r(12019),i=Object.getOwnPropertyDescriptor,a=Object.defineProperty,c=TypeError,s=Object.getPrototypeOf,u=/a/;e.exports=function(){if(!n||!s)throw new c("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=o(),t=s(u),r=i(t,"flags");return r&&r.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},83850:(e,t,r)=>{"use strict";var n=r(73569);function o(e,t,r,o,i){var a=n.writeRtpDescription(e.kind,t);if(a+=n.writeIceParameters(e.iceGatherer.getLocalParameters()),a+=n.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":i||"active"),a+="a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?a+="a=sendrecv\r\n":e.rtpSender?a+="a=sendonly\r\n":e.rtpReceiver?a+="a=recvonly\r\n":a+="a=inactive\r\n",e.rtpSender){var c=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=c;var s="msid:"+(o?o.id:"-")+" "+c+"\r\n";a+="a="+s,a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+s,e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+s,a+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+n.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+n.localCName+"\r\n"),a}function i(e,t){var r={codecs:[],headerExtensions:[],fecMechanisms:[]},n=function(e,t){e=parseInt(e,10);for(var r=0;r<t.length;r++)if(t[r].payloadType===e||t[r].preferredPayloadType===e)return t[r]},o=function(e,t,r,o){var i=n(e.parameters.apt,r),a=n(t.parameters.apt,o);return i&&a&&i.name.toLowerCase()===a.name.toLowerCase()};return e.codecs.forEach((function(n){for(var i=0;i<t.codecs.length;i++){var a=t.codecs[i];if(n.name.toLowerCase()===a.name.toLowerCase()&&n.clockRate===a.clockRate){if("rtx"===n.name.toLowerCase()&&n.parameters&&a.parameters.apt&&!o(n,a,e.codecs,t.codecs))continue;(a=JSON.parse(JSON.stringify(a))).numChannels=Math.min(n.numChannels,a.numChannels),r.codecs.push(a),a.rtcpFeedback=a.rtcpFeedback.filter((function(e){for(var t=0;t<n.rtcpFeedback.length;t++)if(n.rtcpFeedback[t].type===e.type&&n.rtcpFeedback[t].parameter===e.parameter)return!0;return!1}));break}}})),e.headerExtensions.forEach((function(e){for(var n=0;n<t.headerExtensions.length;n++){var o=t.headerExtensions[n];if(e.uri===o.uri){r.headerExtensions.push(o);break}}})),r}function a(e,t,r){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(r)}function c(e,t){var r=e.getRemoteCandidates().find((function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type}));return r||e.addRemoteCandidate(t),!r}function s(e,t){var r=new Error(t);return r.name=e,r.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],r}e.exports=function(e,t){function r(t,r){r.addTrack(t),r.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function u(t,r,n,o){var i=new Event("track");i.track=r,i.receiver=n,i.transceiver={receiver:n},i.streams=o,e.setTimeout((function(){t._dispatchEvent("track",i)}))}var l=function(r){var o=this,i=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach((function(e){o[e]=i[e].bind(i)})),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",r=JSON.parse(JSON.stringify(r||{})),this.usingBundle="max-bundle"===r.bundlePolicy,"negotiate"===r.rtcpMuxPolicy)throw s("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(r.rtcpMuxPolicy||(r.rtcpMuxPolicy="require"),r.iceTransportPolicy){case"all":case"relay":break;default:r.iceTransportPolicy="all"}switch(r.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:r.bundlePolicy="balanced"}if(r.iceServers=function(e,t){var r=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var n=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var o="string"==typeof n;return o&&(n=[n]),n=n.filter((function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||r?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(r=!0,!0)})),delete e.url,e.urls=o?n[0]:n,!!n.length}}))}(r.iceServers||[],t),this._iceGatherers=[],r.iceCandidatePoolSize)for(var a=r.iceCandidatePoolSize;a>0;a--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:r.iceServers,gatherPolicy:r.iceTransportPolicy}));else r.iceCandidatePoolSize=0;this._config=r,this.transceivers=[],this._sdpSessionId=n.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(l.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(l.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),l.prototype.onicecandidate=null,l.prototype.onaddstream=null,l.prototype.ontrack=null,l.prototype.onremovestream=null,l.prototype.onsignalingstatechange=null,l.prototype.oniceconnectionstatechange=null,l.prototype.onconnectionstatechange=null,l.prototype.onicegatheringstatechange=null,l.prototype.onnegotiationneeded=null,l.prototype.ondatachannel=null,l.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"==typeof this["on"+e]&&this["on"+e](t))},l.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},l.prototype.getConfiguration=function(){return this._config},l.prototype.getLocalStreams=function(){return this.localStreams},l.prototype.getRemoteStreams=function(){return this.remoteStreams},l.prototype._createTransceiver=function(e,t){var r=this.transceivers.length>0,n={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&r)n.iceTransport=this.transceivers[0].iceTransport,n.dtlsTransport=this.transceivers[0].dtlsTransport;else{var o=this._createIceAndDtlsTransports();n.iceTransport=o.iceTransport,n.dtlsTransport=o.dtlsTransport}return t||this.transceivers.push(n),n},l.prototype.addTrack=function(t,r){if(this._isClosed)throw s("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var n;if(this.transceivers.find((function(e){return e.track===t})))throw s("InvalidAccessError","Track already exists.");for(var o=0;o<this.transceivers.length;o++)this.transceivers[o].track||this.transceivers[o].kind!==t.kind||(n=this.transceivers[o]);return n||(n=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(r)&&this.localStreams.push(r),n.track=t,n.stream=r,n.rtpSender=new e.RTCRtpSender(t,n.dtlsTransport),n.rtpSender},l.prototype.addStream=function(e){var r=this;if(t>=15025)e.getTracks().forEach((function(t){r.addTrack(t,e)}));else{var n=e.clone();e.getTracks().forEach((function(e,t){var r=n.getTracks()[t];e.addEventListener("enabled",(function(e){r.enabled=e.enabled}))})),n.getTracks().forEach((function(e){r.addTrack(e,n)}))}},l.prototype.removeTrack=function(t){if(this._isClosed)throw s("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var r=this.transceivers.find((function(e){return e.rtpSender===t}));if(!r)throw s("InvalidAccessError","Sender was not created by this connection.");var n=r.stream;r.rtpSender.stop(),r.rtpSender=null,r.track=null,r.stream=null,-1===this.transceivers.map((function(e){return e.stream})).indexOf(n)&&this.localStreams.indexOf(n)>-1&&this.localStreams.splice(this.localStreams.indexOf(n),1),this._maybeFireNegotiationNeeded()},l.prototype.removeStream=function(e){var t=this;e.getTracks().forEach((function(e){var r=t.getSenders().find((function(t){return t.track===e}));r&&t.removeTrack(r)}))},l.prototype.getSenders=function(){return this.transceivers.filter((function(e){return!!e.rtpSender})).map((function(e){return e.rtpSender}))},l.prototype.getReceivers=function(){return this.transceivers.filter((function(e){return!!e.rtpReceiver})).map((function(e){return e.rtpReceiver}))},l.prototype._createIceGatherer=function(t,r){var n=this;if(r&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var o=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(o,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var r=!e.candidate||0===Object.keys(e.candidate).length;o.state=r?"completed":"gathering",null!==n.transceivers[t].bufferedCandidateEvents&&n.transceivers[t].bufferedCandidateEvents.push(e)},o.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),o},l.prototype._gather=function(t,r){var o=this,i=this.transceivers[r].iceGatherer;if(!i.onlocalcandidate){var a=this.transceivers[r].bufferedCandidateEvents;this.transceivers[r].bufferedCandidateEvents=null,i.removeEventListener("localcandidate",this.transceivers[r].bufferCandidates),i.onlocalcandidate=function(e){if(!(o.usingBundle&&r>0)){var a=new Event("icecandidate");a.candidate={sdpMid:t,sdpMLineIndex:r};var c=e.candidate,s=!c||0===Object.keys(c).length;if(s)"new"!==i.state&&"gathering"!==i.state||(i.state="completed");else{"new"===i.state&&(i.state="gathering"),c.component=1,c.ufrag=i.getLocalParameters().usernameFragment;var u=n.writeCandidate(c);a.candidate=Object.assign(a.candidate,n.parseCandidate(u)),a.candidate.candidate=u,a.candidate.toJSON=function(){return{candidate:a.candidate.candidate,sdpMid:a.candidate.sdpMid,sdpMLineIndex:a.candidate.sdpMLineIndex,usernameFragment:a.candidate.usernameFragment}}}var l=n.getMediaSections(o._localDescription.sdp);l[a.candidate.sdpMLineIndex]+=s?"a=end-of-candidates\r\n":"a="+a.candidate.candidate+"\r\n",o._localDescription.sdp=n.getDescription(o._localDescription.sdp)+l.join("");var f=o.transceivers.every((function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state}));"gathering"!==o.iceGatheringState&&(o.iceGatheringState="gathering",o._emitGatheringStateChange()),s||o._dispatchEvent("icecandidate",a),f&&(o._dispatchEvent("icecandidate",new Event("icecandidate")),o.iceGatheringState="complete",o._emitGatheringStateChange())}},e.setTimeout((function(){a.forEach((function(e){i.onlocalcandidate(e)}))}),0)}},l.prototype._createIceAndDtlsTransports=function(){var t=this,r=new e.RTCIceTransport(null);r.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var n=new e.RTCDtlsTransport(r);return n.ondtlsstatechange=function(){t._updateConnectionState()},n.onerror=function(){Object.defineProperty(n,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:r,dtlsTransport:n}},l.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var r=this.transceivers[e].iceTransport;r&&(delete r.onicestatechange,delete this.transceivers[e].iceTransport);var n=this.transceivers[e].dtlsTransport;n&&(delete n.ondtlsstatechange,delete n.onerror,delete this.transceivers[e].dtlsTransport)},l.prototype._transceive=function(e,r,o){var a=i(e.localCapabilities,e.remoteCapabilities);r&&e.rtpSender&&(a.encodings=e.sendEncodingParameters,a.rtcp={cname:n.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(a.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(a)),o&&e.rtpReceiver&&a.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach((function(e){delete e.rtx})),e.recvEncodingParameters.length?a.encodings=e.recvEncodingParameters:a.encodings=[{}],a.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(a.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(a.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(a))},l.prototype.setLocalDescription=function(e){var t,r,o=this;if(-1===["offer","answer"].indexOf(e.type))return Promise.reject(s("TypeError",'Unsupported type "'+e.type+'"'));if(!a("setLocalDescription",e.type,o.signalingState)||o._isClosed)return Promise.reject(s("InvalidStateError","Can not set local "+e.type+" in state "+o.signalingState));if("offer"===e.type)t=n.splitSections(e.sdp),r=t.shift(),t.forEach((function(e,t){var r=n.parseRtpParameters(e);o.transceivers[t].localCapabilities=r})),o.transceivers.forEach((function(e,t){o._gather(e.mid,t)}));else if("answer"===e.type){t=n.splitSections(o._remoteDescription.sdp),r=t.shift();var c=n.matchPrefix(r,"a=ice-lite").length>0;t.forEach((function(e,t){var a=o.transceivers[t],s=a.iceGatherer,u=a.iceTransport,l=a.dtlsTransport,f=a.localCapabilities,p=a.remoteCapabilities;if(!(n.isRejected(e)&&0===n.matchPrefix(e,"a=bundle-only").length||a.rejected)){var d=n.getIceParameters(e,r),h=n.getDtlsParameters(e,r);c&&(h.role="server"),o.usingBundle&&0!==t||(o._gather(a.mid,t),"new"===u.state&&u.start(s,d,c?"controlling":"controlled"),"new"===l.state&&l.start(h));var y=i(f,p);o._transceive(a,y.codecs.length>0,!1)}}))}return o._localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?o._updateSignalingState("have-local-offer"):o._updateSignalingState("stable"),Promise.resolve()},l.prototype.setRemoteDescription=function(o){var l=this;if(-1===["offer","answer"].indexOf(o.type))return Promise.reject(s("TypeError",'Unsupported type "'+o.type+'"'));if(!a("setRemoteDescription",o.type,l.signalingState)||l._isClosed)return Promise.reject(s("InvalidStateError","Can not set remote "+o.type+" in state "+l.signalingState));var f={};l.remoteStreams.forEach((function(e){f[e.id]=e}));var p=[],d=n.splitSections(o.sdp),h=d.shift(),y=n.matchPrefix(h,"a=ice-lite").length>0,m=n.matchPrefix(h,"a=group:BUNDLE ").length>0;l.usingBundle=m;var v=n.matchPrefix(h,"a=ice-options:")[0];return l.canTrickleIceCandidates=!!v&&v.substr(14).split(" ").indexOf("trickle")>=0,d.forEach((function(a,s){var u=n.splitLines(a),d=n.getKind(a),v=n.isRejected(a)&&0===n.matchPrefix(a,"a=bundle-only").length,b=u[0].substr(2).split(" ")[2],g=n.getDirection(a,h),w=n.parseMsid(a),S=n.getMid(a)||n.generateIdentifier();if(v||"application"===d&&("DTLS/SCTP"===b||"UDP/DTLS/SCTP"===b))l.transceivers[s]={mid:S,kind:d,protocol:b,rejected:!0};else{var O,P,k,_,E,j,x,C,T;!v&&l.transceivers[s]&&l.transceivers[s].rejected&&(l.transceivers[s]=l._createTransceiver(d,!0));var R,I,L=n.parseRtpParameters(a);v||(R=n.getIceParameters(a,h),(I=n.getDtlsParameters(a,h)).role="client"),x=n.parseRtpEncodingParameters(a);var M=n.parseRtcpParameters(a),A=n.matchPrefix(a,"a=end-of-candidates",h).length>0,D=n.matchPrefix(a,"a=candidate:").map((function(e){return n.parseCandidate(e)})).filter((function(e){return 1===e.component}));if(("offer"===o.type||"answer"===o.type)&&!v&&m&&s>0&&l.transceivers[s]&&(l._disposeIceAndDtlsTransports(s),l.transceivers[s].iceGatherer=l.transceivers[0].iceGatherer,l.transceivers[s].iceTransport=l.transceivers[0].iceTransport,l.transceivers[s].dtlsTransport=l.transceivers[0].dtlsTransport,l.transceivers[s].rtpSender&&l.transceivers[s].rtpSender.setTransport(l.transceivers[0].dtlsTransport),l.transceivers[s].rtpReceiver&&l.transceivers[s].rtpReceiver.setTransport(l.transceivers[0].dtlsTransport)),"offer"!==o.type||v)"answer"!==o.type||v||(P=(O=l.transceivers[s]).iceGatherer,k=O.iceTransport,_=O.dtlsTransport,E=O.rtpReceiver,j=O.sendEncodingParameters,C=O.localCapabilities,l.transceivers[s].recvEncodingParameters=x,l.transceivers[s].remoteCapabilities=L,l.transceivers[s].rtcpParameters=M,D.length&&"new"===k.state&&(!y&&!A||m&&0!==s?D.forEach((function(e){c(O.iceTransport,e)})):k.setRemoteCandidates(D)),m&&0!==s||("new"===k.state&&k.start(P,R,"controlling"),"new"===_.state&&_.start(I)),!i(O.localCapabilities,O.remoteCapabilities).codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&O.sendEncodingParameters[0].rtx&&delete O.sendEncodingParameters[0].rtx,l._transceive(O,"sendrecv"===g||"recvonly"===g,"sendrecv"===g||"sendonly"===g),!E||"sendrecv"!==g&&"sendonly"!==g?delete O.rtpReceiver:(T=E.track,w?(f[w.stream]||(f[w.stream]=new e.MediaStream),r(T,f[w.stream]),p.push([T,E,f[w.stream]])):(f.default||(f.default=new e.MediaStream),r(T,f.default),p.push([T,E,f.default]))));else{(O=l.transceivers[s]||l._createTransceiver(d)).mid=S,O.iceGatherer||(O.iceGatherer=l._createIceGatherer(s,m)),D.length&&"new"===O.iceTransport.state&&(!A||m&&0!==s?D.forEach((function(e){c(O.iceTransport,e)})):O.iceTransport.setRemoteCandidates(D)),C=e.RTCRtpReceiver.getCapabilities(d),t<15019&&(C.codecs=C.codecs.filter((function(e){return"rtx"!==e.name}))),j=O.sendEncodingParameters||[{ssrc:1001*(2*s+2)}];var N,U=!1;"sendrecv"===g||"sendonly"===g?(U=!O.rtpReceiver,E=O.rtpReceiver||new e.RTCRtpReceiver(O.dtlsTransport,d),U&&(T=E.track,w&&"-"===w.stream||(w?(f[w.stream]||(f[w.stream]=new e.MediaStream,Object.defineProperty(f[w.stream],"id",{get:function(){return w.stream}})),Object.defineProperty(T,"id",{get:function(){return w.track}}),N=f[w.stream]):(f.default||(f.default=new e.MediaStream),N=f.default)),N&&(r(T,N),O.associatedRemoteMediaStreams.push(N)),p.push([T,E,N]))):O.rtpReceiver&&O.rtpReceiver.track&&(O.associatedRemoteMediaStreams.forEach((function(t){var r=t.getTracks().find((function(e){return e.id===O.rtpReceiver.track.id}));r&&function(t,r){r.removeTrack(t),r.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:t}))}(r,t)})),O.associatedRemoteMediaStreams=[]),O.localCapabilities=C,O.remoteCapabilities=L,O.rtpReceiver=E,O.rtcpParameters=M,O.sendEncodingParameters=j,O.recvEncodingParameters=x,l._transceive(l.transceivers[s],!1,U)}}})),void 0===l._dtlsRole&&(l._dtlsRole="offer"===o.type?"active":"passive"),l._remoteDescription={type:o.type,sdp:o.sdp},"offer"===o.type?l._updateSignalingState("have-remote-offer"):l._updateSignalingState("stable"),Object.keys(f).forEach((function(t){var r=f[t];if(r.getTracks().length){if(-1===l.remoteStreams.indexOf(r)){l.remoteStreams.push(r);var n=new Event("addstream");n.stream=r,e.setTimeout((function(){l._dispatchEvent("addstream",n)}))}p.forEach((function(e){var t=e[0],n=e[1];r.id===e[2].id&&u(l,t,n,[r])}))}})),p.forEach((function(e){e[2]||u(l,e[0],e[1],[])})),e.setTimeout((function(){l&&l.transceivers&&l.transceivers.forEach((function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))}))}),4e3),Promise.resolve()},l.prototype.close=function(){this.transceivers.forEach((function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()})),this._isClosed=!0,this._updateSignalingState("closed")},l.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},l.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout((function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}}),0))},l.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++})),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var r=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",r)}},l.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)})),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var r=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",r)}},l.prototype.createOffer=function(){var r=this;if(r._isClosed)return Promise.reject(s("InvalidStateError","Can not call createOffer after close"));var i=r.transceivers.filter((function(e){return"audio"===e.kind})).length,a=r.transceivers.filter((function(e){return"video"===e.kind})).length,c=arguments[0];if(c){if(c.mandatory||c.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==c.offerToReceiveAudio&&(i=!0===c.offerToReceiveAudio?1:!1===c.offerToReceiveAudio?0:c.offerToReceiveAudio),void 0!==c.offerToReceiveVideo&&(a=!0===c.offerToReceiveVideo?1:!1===c.offerToReceiveVideo?0:c.offerToReceiveVideo)}for(r.transceivers.forEach((function(e){"audio"===e.kind?--i<0&&(e.wantReceive=!1):"video"===e.kind&&--a<0&&(e.wantReceive=!1)}));i>0||a>0;)i>0&&(r._createTransceiver("audio"),i--),a>0&&(r._createTransceiver("video"),a--);var u=n.writeSessionBoilerplate(r._sdpSessionId,r._sdpSessionVersion++);r.transceivers.forEach((function(o,i){var a=o.track,c=o.kind,s=o.mid||n.generateIdentifier();o.mid=s,o.iceGatherer||(o.iceGatherer=r._createIceGatherer(i,r.usingBundle));var u=e.RTCRtpSender.getCapabilities(c);t<15019&&(u.codecs=u.codecs.filter((function(e){return"rtx"!==e.name}))),u.codecs.forEach((function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),o.remoteCapabilities&&o.remoteCapabilities.codecs&&o.remoteCapabilities.codecs.forEach((function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)}))})),u.headerExtensions.forEach((function(e){(o.remoteCapabilities&&o.remoteCapabilities.headerExtensions||[]).forEach((function(t){e.uri===t.uri&&(e.id=t.id)}))}));var l=o.sendEncodingParameters||[{ssrc:1001*(2*i+1)}];a&&t>=15019&&"video"===c&&!l[0].rtx&&(l[0].rtx={ssrc:l[0].ssrc+1}),o.wantReceive&&(o.rtpReceiver=new e.RTCRtpReceiver(o.dtlsTransport,c)),o.localCapabilities=u,o.sendEncodingParameters=l})),"max-compat"!==r._config.bundlePolicy&&(u+="a=group:BUNDLE "+r.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),u+="a=ice-options:trickle\r\n",r.transceivers.forEach((function(e,t){u+=o(e,e.localCapabilities,"offer",e.stream,r._dtlsRole),u+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===r.iceGatheringState||0!==t&&r.usingBundle||(e.iceGatherer.getLocalCandidates().forEach((function(e){e.component=1,u+="a="+n.writeCandidate(e)+"\r\n"})),"completed"===e.iceGatherer.state&&(u+="a=end-of-candidates\r\n"))}));var l=new e.RTCSessionDescription({type:"offer",sdp:u});return Promise.resolve(l)},l.prototype.createAnswer=function(){var r=this;if(r._isClosed)return Promise.reject(s("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==r.signalingState&&"have-local-pranswer"!==r.signalingState)return Promise.reject(s("InvalidStateError","Can not call createAnswer in signalingState "+r.signalingState));var a=n.writeSessionBoilerplate(r._sdpSessionId,r._sdpSessionVersion++);r.usingBundle&&(a+="a=group:BUNDLE "+r.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),a+="a=ice-options:trickle\r\n";var c=n.getMediaSections(r._remoteDescription.sdp).length;r.transceivers.forEach((function(e,n){if(!(n+1>c)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?a+="m=application 0 DTLS/SCTP 5000\r\n":a+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?a+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(a+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(a+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var s;e.stream&&("audio"===e.kind?s=e.stream.getAudioTracks()[0]:"video"===e.kind&&(s=e.stream.getVideoTracks()[0]),s&&t>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1}));var u=i(e.localCapabilities,e.remoteCapabilities);!u.codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,a+=o(e,u,"answer",e.stream,r._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(a+="a=rtcp-rsize\r\n")}}));var u=new e.RTCSessionDescription({type:"answer",sdp:a});return Promise.resolve(u)},l.prototype.addIceCandidate=function(e){var t,r=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise((function(o,i){if(!r._remoteDescription)return i(s("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var a=e.sdpMLineIndex;if(e.sdpMid)for(var u=0;u<r.transceivers.length;u++)if(r.transceivers[u].mid===e.sdpMid){a=u;break}var l=r.transceivers[a];if(!l)return i(s("OperationError","Can not add ICE candidate"));if(l.rejected)return o();var f=Object.keys(e.candidate).length>0?n.parseCandidate(e.candidate):{};if("tcp"===f.protocol&&(0===f.port||9===f.port))return o();if(f.component&&1!==f.component)return o();if((0===a||a>0&&l.iceTransport!==r.transceivers[0].iceTransport)&&!c(l.iceTransport,f))return i(s("OperationError","Can not add ICE candidate"));var p=e.candidate.trim();0===p.indexOf("a=")&&(p=p.substr(2)),(t=n.getMediaSections(r._remoteDescription.sdp))[a]+="a="+(f.type?p:"end-of-candidates")+"\r\n",r._remoteDescription.sdp=n.getDescription(r._remoteDescription.sdp)+t.join("")}else for(var d=0;d<r.transceivers.length&&(r.transceivers[d].rejected||(r.transceivers[d].iceTransport.addRemoteCandidate({}),(t=n.getMediaSections(r._remoteDescription.sdp))[d]+="a=end-of-candidates\r\n",r._remoteDescription.sdp=n.getDescription(r._remoteDescription.sdp)+t.join(""),!r.usingBundle));d++);o()}))},l.prototype.getStats=function(t){if(t&&t instanceof e.MediaStreamTrack){var r=null;if(this.transceivers.forEach((function(e){e.rtpSender&&e.rtpSender.track===t?r=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(r=e.rtpReceiver)})),!r)throw s("InvalidAccessError","Invalid selector.");return r.getStats()}var n=[];return this.transceivers.forEach((function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach((function(t){e[t]&&n.push(e[t].getStats())}))})),Promise.all(n).then((function(e){var t=new Map;return e.forEach((function(e){e.forEach((function(e){t.set(e.id,e)}))})),t}))},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach((function(t){var r=e[t];if(r&&r.prototype&&r.prototype.getStats){var n=r.prototype.getStats;r.prototype.getStats=function(){return n.apply(this).then((function(e){var t=new Map;return Object.keys(e).forEach((function(r){var n;e[r].type={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[(n=e[r]).type]||n.type,t.set(r,e[r])})),t}))}}}));var f=["createOffer","createAnswer"];return f.forEach((function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"==typeof e[0]||"function"==typeof e[1]?t.apply(this,[arguments[2]]).then((function(t){"function"==typeof e[0]&&e[0].apply(null,[t])}),(function(t){"function"==typeof e[1]&&e[1].apply(null,[t])})):t.apply(this,arguments)}})),(f=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach((function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]||"function"==typeof e[2]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)}),(function(t){"function"==typeof e[2]&&e[2].apply(null,[t])})):t.apply(this,arguments)}})),["getStats"].forEach((function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)})):t.apply(this,arguments)}})),l}},73569:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e=r.nmd(e);var o={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};o.localCName=o.generateIdentifier(),o.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},o.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},o.getDescription=function(e){var t=o.splitSections(e);return t&&t[0]},o.getMediaSections=function(e){var t=o.splitSections(e);return t.shift(),t},o.matchPrefix=function(e,t){return o.splitLines(e).filter((function(e){return 0===e.indexOf(t)}))},o.parseCandidate=function(e){for(var t,r={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},n=8;n<t.length;n+=2)switch(t[n]){case"raddr":r.relatedAddress=t[n+1];break;case"rport":r.relatedPort=parseInt(t[n+1],10);break;case"tcptype":r.tcpType=t[n+1];break;case"ufrag":r.ufrag=t[n+1],r.usernameFragment=t[n+1];break;default:r[t[n]]=t[n+1]}return r},o.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var r=e.type;return t.push("typ"),t.push(r),"host"!==r&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},o.parseIceOptions=function(e){return e.substr(14).split(" ")},o.parseRtpMap=function(e){var t=e.substr(9).split(" "),r={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),r.name=t[0],r.clockRate=parseInt(t[1],10),r.channels=3===t.length?parseInt(t[2],10):1,r.numChannels=r.channels,r},o.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var r=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==r?"/"+r:"")+"\r\n"},o.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},o.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},o.parseFmtp=function(e){for(var t,r={},n=e.substr(e.indexOf(" ")+1).split(";"),o=0;o<n.length;o++)r[(t=n[o].trim().split("="))[0].trim()]=t[1];return r},o.writeFmtp=function(e){var t="",r=e.payloadType;if(void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var n=[];Object.keys(e.parameters).forEach((function(t){e.parameters[t]?n.push(t+"="+e.parameters[t]):n.push(t)})),t+="a=fmtp:"+r+" "+n.join(";")+"\r\n"}return t},o.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},o.writeRtcpFb=function(e){var t="",r=e.payloadType;return void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+r+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},o.parseSsrcMedia=function(e){var t=e.indexOf(" "),r={ssrc:parseInt(e.substr(7,t-7),10)},n=e.indexOf(":",t);return n>-1?(r.attribute=e.substr(t+1,n-t-1),r.value=e.substr(n+1)):r.attribute=e.substr(t+1),r},o.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},o.getMid=function(e){var t=o.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},o.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},o.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:o.matchPrefix(e+t,"a=fingerprint:").map(o.parseFingerprint)}},o.writeDtlsParameters=function(e,t){var r="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){r+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),r},o.parseCryptoLine=function(e){var t=e.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},o.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"===n(e.keyParams)?o.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},o.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;var t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},o.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},o.getCryptoParameters=function(e,t){return o.matchPrefix(e+t,"a=crypto:").map(o.parseCryptoLine)},o.getIceParameters=function(e,t){var r=o.matchPrefix(e+t,"a=ice-ufrag:")[0],n=o.matchPrefix(e+t,"a=ice-pwd:")[0];return r&&n?{usernameFragment:r.substr(12),password:n.substr(10)}:null},o.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},o.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=o.splitLines(e)[0].split(" "),n=3;n<r.length;n++){var i=r[n],a=o.matchPrefix(e,"a=rtpmap:"+i+" ")[0];if(a){var c=o.parseRtpMap(a),s=o.matchPrefix(e,"a=fmtp:"+i+" ");switch(c.parameters=s.length?o.parseFmtp(s[0]):{},c.rtcpFeedback=o.matchPrefix(e,"a=rtcp-fb:"+i+" ").map(o.parseRtcpFb),t.codecs.push(c),c.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(c.name.toUpperCase())}}}return o.matchPrefix(e,"a=extmap:").forEach((function(e){t.headerExtensions.push(o.parseExtmap(e))})),t},o.writeRtpDescription=function(e,t){var r="";r+="m="+e+" ",r+=t.codecs.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=t.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach((function(e){r+=o.writeRtpMap(e),r+=o.writeFmtp(e),r+=o.writeRtcpFb(e)}));var n=0;return t.codecs.forEach((function(e){e.maxptime>n&&(n=e.maxptime)})),n>0&&(r+="a=maxptime:"+n+"\r\n"),r+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach((function(e){r+=o.writeExtmap(e)})),r},o.parseRtpEncodingParameters=function(e){var t,r=[],n=o.parseRtpParameters(e),i=-1!==n.fecMechanisms.indexOf("RED"),a=-1!==n.fecMechanisms.indexOf("ULPFEC"),c=o.matchPrefix(e,"a=ssrc:").map((function(e){return o.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),s=c.length>0&&c[0].ssrc,u=o.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return parseInt(e,10)}))}));u.length>0&&u[0].length>1&&u[0][0]===s&&(t=u[0][1]),n.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var n={ssrc:s,codecPayloadType:parseInt(e.parameters.apt,10)};s&&t&&(n.rtx={ssrc:t}),r.push(n),i&&((n=JSON.parse(JSON.stringify(n))).fec={ssrc:s,mechanism:a?"red+ulpfec":"red"},r.push(n))}})),0===r.length&&s&&r.push({ssrc:s});var l=o.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substr(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substr(5),10)*.95-16e3:void 0,r.forEach((function(e){e.maxBitrate=l}))),r},o.parseRtcpParameters=function(e){var t={},r=o.matchPrefix(e,"a=ssrc:").map((function(e){return o.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];r&&(t.cname=r.value,t.ssrc=r.ssrc);var n=o.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=n.length>0,t.compound=0===n.length;var i=o.matchPrefix(e,"a=rtcp-mux");return t.mux=i.length>0,t},o.parseMsid=function(e){var t,r=o.matchPrefix(e,"a=msid:");if(1===r.length)return{stream:(t=r[0].substr(7).split(" "))[0],track:t[1]};var n=o.matchPrefix(e,"a=ssrc:").map((function(e){return o.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return n.length>0?{stream:(t=n[0].value.split(" "))[0],track:t[1]}:void 0},o.parseSctpDescription=function(e){var t,r=o.parseMLine(e),n=o.matchPrefix(e,"a=max-message-size:");n.length>0&&(t=parseInt(n[0].substr(19),10)),isNaN(t)&&(t=65536);var i=o.matchPrefix(e,"a=sctp-port:");if(i.length>0)return{port:parseInt(i[0].substr(12),10),protocol:r.fmt,maxMessageSize:t};if(o.matchPrefix(e,"a=sctpmap:").length>0){var a=o.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(a[0],10),protocol:a[1],maxMessageSize:t}}},o.writeSctpDescription=function(e,t){var r=[];return r="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&r.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),r.join("")},o.generateSessionId=function(){return Math.random().toString().substr(2,21)},o.writeSessionBoilerplate=function(e,t,r){var n=void 0!==t?t:2;return"v=0\r\no="+(r||"thisisadapterortc")+" "+(e||o.generateSessionId())+" "+n+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},o.writeMediaSection=function(e,t,r,n){var i=o.writeRtpDescription(e.kind,t);if(i+=o.writeIceParameters(e.iceGatherer.getLocalParameters()),i+=o.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":"active"),i+="a=mid:"+e.mid+"\r\n",e.direction?i+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?i+="a=sendrecv\r\n":e.rtpSender?i+="a=sendonly\r\n":e.rtpReceiver?i+="a=recvonly\r\n":i+="a=inactive\r\n",e.rtpSender){var a="msid:"+n.id+" "+e.rtpSender.track.id+"\r\n";i+="a="+a,i+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+a,e.sendEncodingParameters[0].rtx&&(i+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+a,i+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return i+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+o.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(i+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+o.localCName+"\r\n"),i},o.getDirection=function(e,t){for(var r=o.splitLines(e),n=0;n<r.length;n++)switch(r[n]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[n].substr(2)}return t?o.getDirection(t):"sendrecv"},o.getKind=function(e){return o.splitLines(e)[0].split(" ")[0].substr(2)},o.isRejected=function(e){return"0"===e.split(" ",2)[1]},o.parseMLine=function(e){var t=o.splitLines(e)[0].substr(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},o.parseOLine=function(e){var t=o.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},o.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var t=o.splitLines(e),r=0;r<t.length;r++)if(t[r].length<2||"="!==t[r].charAt(1))return!1;return!0},"object"===n(e)&&(e.exports=o)},645:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(43532),i=r(49493),a=r(96338),c=o("%TypeError%"),s=o("%WeakMap%",!0),u=o("%Map%",!0),l=i("WeakMap.prototype.get",!0),f=i("WeakMap.prototype.set",!0),p=i("WeakMap.prototype.has",!0),d=i("Map.prototype.get",!0),h=i("Map.prototype.set",!0),y=i("Map.prototype.has",!0),m=function(e,t){for(var r,n=e;null!==(r=n.next);n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r};e.exports=function(){var e,t,r,o={assert:function(e){if(!o.has(e))throw new c("Side channel does not contain "+a(e))},get:function(o){if(s&&o&&("object"===n(o)||"function"==typeof o)){if(e)return l(e,o)}else if(u){if(t)return d(t,o)}else if(r)return function(e,t){var r=m(e,t);return r&&r.value}(r,o)},has:function(o){if(s&&o&&("object"===n(o)||"function"==typeof o)){if(e)return p(e,o)}else if(u){if(t)return y(t,o)}else if(r)return function(e,t){return!!m(e,t)}(r,o);return!1},set:function(o,i){s&&o&&("object"===n(o)||"function"==typeof o)?(e||(e=new s),f(e,o,i)):u?(t||(t=new u),h(t,o,i)):(r||(r={key:{},next:null}),function(e,t,r){var n=m(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}}(r,o,i))}};return o}},48750:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Oe});var n={};r.r(n),r.d(n,{fixNegotiationNeeded:()=>A,shimAddTrackRemoveTrack:()=>L,shimAddTrackRemoveTrackWithNative:()=>I,shimGetDisplayMedia:()=>k,shimGetSendersWithDtmf:()=>C,shimGetStats:()=>T,shimGetUserMedia:()=>P,shimMediaStream:()=>j,shimOnTrack:()=>x,shimPeerConnection:()=>M,shimSenderReceiverGetStats:()=>R});var o={};r.r(o),r.d(o,{shimGetDisplayMedia:()=>B,shimGetUserMedia:()=>U,shimPeerConnection:()=>z,shimReplaceTrack:()=>F});var i={};r.r(i),r.d(i,{shimAddTransceiver:()=>X,shimCreateAnswer:()=>te,shimCreateOffer:()=>ee,shimGetDisplayMedia:()=>Z,shimGetParameters:()=>Q,shimGetUserMedia:()=>W,shimOnTrack:()=>H,shimPeerConnection:()=>V,shimRTCDataChannel:()=>Y,shimReceiverGetStats:()=>K,shimRemoveStream:()=>$,shimSenderGetStats:()=>J});var a={};r.r(a),r.d(a,{shimAudioContext:()=>fe,shimCallbacksAPI:()=>ie,shimConstraints:()=>ce,shimCreateOfferLegacy:()=>le,shimGetUserMedia:()=>ae,shimLocalStreamsAPI:()=>ne,shimRTCIceServerUrls:()=>se,shimRemoteStreamsAPI:()=>oe,shimTrackEventTransceiver:()=>ue});var c={};function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}r.r(c),r.d(c,{removeExtmapAllowMixed:()=>ge,shimAddIceCandidateNullOrEmpty:()=>we,shimConnectionState:()=>be,shimMaxMessageSize:()=>me,shimRTCIceCandidate:()=>ye,shimSendThrowTypeError:()=>ve});var u=!0,l=!0;function f(e,t,r){var n=e.match(t);return n&&n.length>=r&&parseInt(n[r],10)}function p(e,t,r){if(e.RTCPeerConnection){var n=e.RTCPeerConnection.prototype,o=n.addEventListener;n.addEventListener=function(e,n){if(e!==t)return o.apply(this,arguments);var i=function(e){var t=r(e);t&&(n.handleEvent?n.handleEvent(t):n(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(n,i),o.apply(this,[e,i])};var i=n.removeEventListener;n.removeEventListener=function(e,r){if(e!==t||!this._eventMap||!this._eventMap[t])return i.apply(this,arguments);if(!this._eventMap[t].has(r))return i.apply(this,arguments);var n=this._eventMap[t].get(r);return this._eventMap[t].delete(r),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,i.apply(this,[e,n])},Object.defineProperty(n,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}}function d(e){return"boolean"!=typeof e?new Error("Argument type: "+s(e)+". Please use a boolean."):(u=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function h(e){return"boolean"!=typeof e?new Error("Argument type: "+s(e)+". Please use a boolean."):(l=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function y(){if("object"===("undefined"==typeof window?"undefined":s(window))){if(u)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function m(e,t){l&&console.warn(e+" is deprecated, please use "+t+" instead.")}function v(e){return"[object Object]"===Object.prototype.toString.call(e)}function b(e){return v(e)?Object.keys(e).reduce((function(t,r){var n=v(e[r]),o=n?b(e[r]):e[r],i=n&&!Object.keys(o).length;return void 0===o||i?t:Object.assign(t,function(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===s(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},r,o))}),{}):e}function g(e,t,r){t&&!r.has(t.id)&&(r.set(t.id,t),Object.keys(t).forEach((function(n){n.endsWith("Id")?g(e,e.get(t[n]),r):n.endsWith("Ids")&&t[n].forEach((function(t){g(e,e.get(t),r)}))})))}function w(e,t,r){var n=r?"outbound-rtp":"inbound-rtp",o=new Map;if(null===t)return o;var i=[];return e.forEach((function(e){"track"===e.type&&e.trackIdentifier===t.id&&i.push(e)})),i.forEach((function(t){e.forEach((function(r){r.type===n&&r.trackId===t.id&&g(e,r,o)}))})),o}function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}var O=y;function P(e,t){var r=e&&e.navigator;if(r.mediaDevices){var n=function(e){if("object"!==S(e)||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach((function(r){if("require"!==r&&"advanced"!==r&&"mediaSource"!==r){var n="object"===S(e[r])?e[r]:{ideal:e[r]};void 0!==n.exact&&"number"==typeof n.exact&&(n.min=n.max=n.exact);var o=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==n.ideal){t.optional=t.optional||[];var i={};"number"==typeof n.ideal?(i[o("min",r)]=n.ideal,t.optional.push(i),(i={})[o("max",r)]=n.ideal,t.optional.push(i)):(i[o("",r)]=n.ideal,t.optional.push(i))}void 0!==n.exact&&"number"!=typeof n.exact?(t.mandatory=t.mandatory||{},t.mandatory[o("",r)]=n.exact):["min","max"].forEach((function(e){void 0!==n[e]&&(t.mandatory=t.mandatory||{},t.mandatory[o(e,r)]=n[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},o=function(e,o){if(t.version>=61)return o(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"===S(e.audio)){var i=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])};i((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),i(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=n(e.audio)}if(e&&"object"===S(e.video)){var a=e.video.facingMode;a=a&&("object"===S(a)?a:{ideal:a});var c,s=t.version<66;if(a&&("user"===a.exact||"environment"===a.exact||"user"===a.ideal||"environment"===a.ideal)&&(!r.mediaDevices.getSupportedConstraints||!r.mediaDevices.getSupportedConstraints().facingMode||s)&&(delete e.video.facingMode,"environment"===a.exact||"environment"===a.ideal?c=["back","rear"]:"user"!==a.exact&&"user"!==a.ideal||(c=["front"]),c))return r.mediaDevices.enumerateDevices().then((function(t){var r=(t=t.filter((function(e){return"videoinput"===e.kind}))).find((function(e){return c.some((function(t){return e.label.toLowerCase().includes(t)}))}));return!r&&t.length&&c.includes("back")&&(r=t[t.length-1]),r&&(e.video.deviceId=a.exact?{exact:r.deviceId}:{ideal:r.deviceId}),e.video=n(e.video),O("chrome: "+JSON.stringify(e)),o(e)}));e.video=n(e.video)}return O("chrome: "+JSON.stringify(e)),o(e)},i=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(r.getUserMedia=function(e,t,n){o(e,(function(e){r.webkitGetUserMedia(e,t,(function(e){n&&n(i(e))}))}))}.bind(r),r.mediaDevices.getUserMedia){var a=r.mediaDevices.getUserMedia.bind(r.mediaDevices);r.mediaDevices.getUserMedia=function(e){return o(e,(function(e){return a(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("","NotFoundError");return t}),(function(e){return Promise.reject(i(e))}))}))}}}}function k(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(r){return t(r).then((function(t){var n=r.video&&r.video.width,o=r.video&&r.video.height,i=r.video&&r.video.frameRate;return r.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:i||3}},n&&(r.video.mandatory.maxWidth=n),o&&(r.video.mandatory.maxHeight=o),e.navigator.mediaDevices.getUserMedia(r)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}function _(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===E(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function j(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function x(e){if("object"===E(e)&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var r=this;return this._ontrackpoly||(this._ontrackpoly=function(t){t.stream.addEventListener("addtrack",(function(n){var o;o=e.RTCPeerConnection.prototype.getReceivers?r.getReceivers().find((function(e){return e.track&&e.track.id===n.track.id})):{track:n.track};var i=new Event("track");i.track=n.track,i.receiver=o,i.transceiver={receiver:o},i.streams=[t.stream],r.dispatchEvent(i)})),t.stream.getTracks().forEach((function(n){var o;o=e.RTCPeerConnection.prototype.getReceivers?r.getReceivers().find((function(e){return e.track&&e.track.id===n.id})):{track:n};var i=new Event("track");i.track=n,i.receiver=o,i.transceiver={receiver:o},i.streams=[t.stream],r.dispatchEvent(i)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else p(e,"track",(function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e}))}function C(e){if("object"===E(e)&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var r=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){var o=r.apply(this,arguments);return o||(o=t(this,e),this._senders.push(o)),o};var n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){n.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}var o=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var r=this;this._senders=this._senders||[],o.apply(this,[e]),e.getTracks().forEach((function(e){r._senders.push(t(r,e))}))};var i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._senders=this._senders||[],i.apply(this,[e]),e.getTracks().forEach((function(e){var r=t._senders.find((function(t){return t.track===e}));r&&t._senders.splice(t._senders.indexOf(r),1)}))}}else if("object"===E(e)&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var a=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=a.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function T(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=this,r=Array.prototype.slice.call(arguments),n=r[0],o=r[1],i=r[2];if(arguments.length>0&&"function"==typeof n)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof n))return t.apply(this,[]);var a=function(e){var t={};return e.result().forEach((function(e){var r={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((function(t){r[t]=e.stat(t)})),t[r.id]=r})),t},c=function(e){return new Map(Object.keys(e).map((function(t){return[t,e[t]]})))};return arguments.length>=2?t.apply(this,[function(e){o(c(a(e)))},n]):new Promise((function(r,n){t.apply(e,[function(e){r(c(a(e)))},n])})).then(o,i)}}}function R(e){if("object"===E(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,r=t.apply(this,[]);return r.forEach((function(t){return t._pc=e})),r});var r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return w(t,e.track,!0)}))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=n.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t}),p(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return w(t,e.track,!1)}))}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var o=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var t,r,n,i=arguments[0];return this.getSenders().forEach((function(e){e.track===i&&(t?n=!0:t=e)})),this.getReceivers().forEach((function(e){return e.track===i&&(r?n=!0:r=e),e.track===i})),n||t&&r?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():r?r.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return o.apply(this,arguments)}}}}function I(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((function(t){return e._shimmedLocalStreams[t][0]}))};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){if(!r)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var n=t.apply(this,arguments);return this._shimmedLocalStreams[r.id]?-1===this._shimmedLocalStreams[r.id].indexOf(n)&&this._shimmedLocalStreams[r.id].push(n):this._shimmedLocalStreams[r.id]=[r,n],n};var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((function(e){if(t.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")}));var n=this.getSenders();r.apply(this,arguments);var o=this.getSenders().filter((function(e){return-1===n.indexOf(e)}));this._shimmedLocalStreams[e.id]=[e].concat(o)};var n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],n.apply(this,arguments)};var o=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((function(r){var n=t._shimmedLocalStreams[r].indexOf(e);-1!==n&&t._shimmedLocalStreams[r].splice(n,1),1===t._shimmedLocalStreams[r].length&&delete t._shimmedLocalStreams[r]})),o.apply(this,arguments)}}function L(e,t){if(e.RTCPeerConnection){if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return I(e);var r=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=r.apply(this);return this._reverseStreams=this._reverseStreams||{},t.map((function(t){return e._reverseStreams[t.id]}))};var n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var r=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((function(e){if(r.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){var o=new e.MediaStream(t.getTracks());this._streams[t.id]=o,this._reverseStreams[o.id]=t,t=o}n.apply(this,[t])};var o=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},o.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,r){var n=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var o=[].slice.call(arguments,1);if(1!==o.length||!o[0].getTracks().find((function(e){return e===t})))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find((function(e){return e.track===t})))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var i=this._streams[r.id];if(i)i.addTrack(t),Promise.resolve().then((function(){n.dispatchEvent(new Event("negotiationneeded"))}));else{var a=new e.MediaStream([t]);this._streams[r.id]=a,this._reverseStreams[a.id]=r,this.addStream(a)}return this.getSenders().find((function(e){return e.track===t}))},["createOffer","createAnswer"].forEach((function(t){var r=e.RTCPeerConnection.prototype[t],n=_({},t,(function(){var e=this,t=arguments;return arguments.length&&"function"==typeof arguments[0]?r.apply(this,[function(r){var n=c(e,r);t[0].apply(null,[n])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):r.apply(this,arguments).then((function(t){return c(e,t)}))}));e.RTCPeerConnection.prototype[t]=n[t]}));var i=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){var r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var n=e._reverseStreams[t],o=e._streams[n.id];r=r.replace(new RegExp(n.id,"g"),o.id)})),new RTCSessionDescription({type:t.type,sdp:r})}(this,arguments[0]),i.apply(this,arguments)):i.apply(this,arguments)};var a=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=a.get.apply(this);return""===e.type?e:c(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t,r=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach((function(n){r._streams[n].getTracks().find((function(t){return e.track===t}))&&(t=r._streams[n])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function c(e,t){var r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var n=e._reverseStreams[t],o=e._streams[n.id];r=r.replace(new RegExp(o.id,"g"),n.id)})),new RTCSessionDescription({type:t.type,sdp:r})}}function M(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var r=e.RTCPeerConnection.prototype[t],n=_({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=n[t]}))}function A(e,t){p(e,"negotiationneeded",(function(e){var r=e.target;if(!(t.version<72||r.getConfiguration&&"plan-b"===r.getConfiguration().sdpSemantics)||"stable"===r.signalingState)return e}))}var D=r(83850),N=r.n(D);function U(e){var t=e&&e.navigator,r=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return r(e).catch((function(e){return Promise.reject(function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}}(e))}))}}function B(e){"getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}function z(e,t){if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){var r=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set:function(e){r.set.call(this,e);var t=new Event("enabled");t.enabled=e,this.dispatchEvent(t)}})}e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)&&Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);var n=N()(e,t.version);e.RTCPeerConnection=function(e){var r,o;return e&&e.iceServers&&(e.iceServers=(r=e.iceServers,t.version,o=!1,(r=JSON.parse(JSON.stringify(r))).filter((function(e){if(e&&(e.urls||e.url)){var t=e.urls||e.url;e.url&&!e.urls&&m("RTCIceServer.url","RTCIceServer.urls");var r="string"==typeof t;return r&&(t=[t]),t=t.filter((function(e){if(0===e.indexOf("stun:"))return!1;var t=e.startsWith("turn")&&!e.startsWith("turn:[")&&e.includes("transport=udp");return t&&!o?(o=!0,!0):t&&!o})),delete e.url,e.urls=r?t[0]:t,!!t.length}}))),y("ICE servers after filtering:",e.iceServers)),new n(e)},e.RTCPeerConnection.prototype=n.prototype}function F(e){e.RTCRtpSender&&!("replaceTrack"in e.RTCRtpSender.prototype)&&(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function W(e,t){var r=e&&e.navigator,n=e&&e.MediaStreamTrack;if(r.getUserMedia=function(e,t,n){m("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(e).then(t,n)},!(t.version>55&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){var o=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])},i=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(e){return"object"===q(e)&&"object"===q(e.audio)&&(e=JSON.parse(JSON.stringify(e)),o(e.audio,"autoGainControl","mozAutoGainControl"),o(e.audio,"noiseSuppression","mozNoiseSuppression")),i(e)},n&&n.prototype.getSettings){var a=n.prototype.getSettings;n.prototype.getSettings=function(){var e=a.apply(this,arguments);return o(e,"mozAutoGainControl","autoGainControl"),o(e,"mozNoiseSuppression","noiseSuppression"),e}}if(n&&n.prototype.applyConstraints){var c=n.prototype.applyConstraints;n.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"===q(e)&&(e=JSON.parse(JSON.stringify(e)),o(e,"autoGainControl","mozAutoGainControl"),o(e,"noiseSuppression","mozNoiseSuppression")),c.apply(this,[e])}}}}function Z(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!r||!r.video){var n=new DOMException("getDisplayMedia without video constraints is undefined");return n.name="NotFoundError",n.code=8,Promise.reject(n)}return!0===r.video?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function H(e){"object"===G(e)&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function V(e,t){if("object"===G(e)&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var r,n,o,i=e.RTCPeerConnection.prototype[t],a=(r={},o=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)},(n=function(e){var t=function(e,t){if("object"!==G(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==G(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===G(t)?t:String(t)}(n=t))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r);e.RTCPeerConnection.prototype[t]=a[t]}));var r={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},n=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=Array.prototype.slice.call(arguments),o=e[0],i=e[1],a=e[2];return n.apply(this,[o||null]).then((function(e){if(t.version<53&&!i)try{e.forEach((function(e){e.type=r[e.type]||e.type}))}catch(t){if("TypeError"!==t.name)throw t;e.forEach((function(t,n){e.set(n,Object.assign({},t,{type:r[t.type]||t.type}))}))}return e})).then(i,a)}}}function J(e){if("object"===G(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpSender.prototype))){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,r=t.apply(this,[]);return r.forEach((function(t){return t._pc=e})),r});var r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}}function K(e){if("object"===G(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpReceiver.prototype))){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,r=t.apply(this,[]);return r.forEach((function(t){return t._pc=e})),r}),p(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}}function $(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;m("removeStream","removeTrack"),this.getSenders().forEach((function(r){r.track&&e.getTracks().includes(r.track)&&t.removeTrack(r)}))})}function Y(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function X(e){if("object"===G(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var e=arguments[1],r=e&&"sendEncodings"in e;r&&e.sendEncodings.forEach((function(e){if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));var n=t.apply(this,arguments);if(r){var o=n.sender,i=o.getParameters();(!("encodings"in i)||1===i.encodings.length&&0===Object.keys(i.encodings[0]).length)&&(i.encodings=e.sendEncodings,o.sendEncodings=e.sendEncodings,this.setParametersPromises.push(o.setParameters(i).then((function(){delete o.sendEncodings})).catch((function(){delete o.sendEncodings}))))}return n})}}function Q(e){if("object"===G(e)&&e.RTCRtpSender){var t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){var e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}}function ee(e){if("object"===G(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){var e=arguments,r=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((function(){return t.apply(r,e)})).finally((function(){r.setParametersPromises=[]})):t.apply(this,arguments)}}}function te(e){if("object"===G(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){var e=arguments,r=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((function(){return t.apply(r,e)})).finally((function(){r.setParametersPromises=[]})):t.apply(this,arguments)}}}function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function ne(e){if("object"===re(e)&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var r=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((function(n){return t.call(r,n,e)})),e.getVideoTracks().forEach((function(n){return t.call(r,n,e)}))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var r=this,n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return o&&o.forEach((function(e){r._localStreams?r._localStreams.includes(e)||r._localStreams.push(e):r._localStreams=[e]})),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._localStreams||(this._localStreams=[]);var r=this._localStreams.indexOf(e);if(-1!==r){this._localStreams.splice(r,1);var n=e.getTracks();this.getSenders().forEach((function(e){n.includes(e.track)&&t.removeTrack(e)}))}})}}function oe(e){if("object"===re(e)&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){var t=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach((function(e){if(t._remoteStreams||(t._remoteStreams=[]),!t._remoteStreams.includes(e)){t._remoteStreams.push(e);var r=new Event("addstream");r.stream=e,t.dispatchEvent(r)}}))})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var r=new Event("addstream");r.stream=t,e.dispatchEvent(r)}}))}),t.apply(e,arguments)}}}function ie(e){if("object"===re(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,r=t.createOffer,n=t.createAnswer,o=t.setLocalDescription,i=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],o=r.apply(this,[n]);return t?(o.then(e,t),Promise.resolve()):o},t.createAnswer=function(e,t){var r=arguments.length>=2?arguments[2]:arguments[0],o=n.apply(this,[r]);return t?(o.then(e,t),Promise.resolve()):o};var c=function(e,t,r){var n=o.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n};t.setLocalDescription=c,c=function(e,t,r){var n=i.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n},t.setRemoteDescription=c,c=function(e,t,r){var n=a.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n},t.addIceCandidate=c}}function ae(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var r=t.mediaDevices,n=r.getUserMedia.bind(r);t.mediaDevices.getUserMedia=function(e){return n(ce(e))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,r,n){t.mediaDevices.getUserMedia(e).then(r,n)}.bind(t))}function ce(e){return e&&void 0!==e.video?Object.assign({},e,{video:b(e.video)}):e}function se(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,r){if(e&&e.iceServers){for(var n=[],o=0;o<e.iceServers.length;o++){var i=e.iceServers[o];!i.hasOwnProperty("urls")&&i.hasOwnProperty("url")?(m("RTCIceServer.url","RTCIceServer.urls"),(i=JSON.parse(JSON.stringify(i))).urls=i.url,delete i.url,n.push(i)):n.push(e.iceServers[o])}e.iceServers=n}return new t(e,r)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})}}function ue(e){"object"===re(e)&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function le(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var r=this.getTransceivers().find((function(e){return"audio"===e.receiver.track.kind}));!1===e.offerToReceiveAudio&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveAudio||r||this.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var n=this.getTransceivers().find((function(e){return"video"===e.receiver.track.kind}));!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveVideo||n||this.addTransceiver("video")}return t.apply(this,arguments)}}function fe(e){"object"!==re(e)||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var pe=r(73569),de=r.n(pe);function he(e){return he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he(e)}function ye(e){if(!(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"===he(e)&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var r=new t(e),n=de().parseCandidate(e.candidate),o=Object.assign(r,n);return o.toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,p(e,"icecandidate",(function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t}))}}function me(e,t){if(e.RTCPeerConnection){"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var r=function(e){if(!e||!e.sdp)return!1;var t=de().splitSections(e.sdp);return t.shift(),t.some((function(e){var t=de().parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))},n=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var r=parseInt(t[1],10);return r!=r?-1:r},o=function(e){var r=65536;return"firefox"===t.browser&&(r=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),r},i=function(e,r){var n=65536;"firefox"===t.browser&&57===t.version&&(n=65535);var o=de().matchPrefix(e.sdp,"a=max-message-size:");return o.length>0?n=parseInt(o[0].substr(19),10):"firefox"===t.browser&&-1!==r&&(n=2147483637),n},a=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76&&"plan-b"===this.getConfiguration().sdpSemantics&&Object.defineProperty(this,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0}),r(arguments[0])){var e,c=n(arguments[0]),s=o(c),u=i(arguments[0],c);e=0===s&&0===u?Number.POSITIVE_INFINITY:0===s||0===u?Math.max(s,u):Math.min(s,u);var l={};Object.defineProperty(l,"maxMessageSize",{get:function(){return e}}),this._sctp=l}return a.apply(this,arguments)}}}function ve(e){if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var t=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=t.apply(this,arguments);return r(e,this),e},p(e,"datachannel",(function(e){return r(e.channel,e.target),e}))}function r(e,t){var r=e.send;e.send=function(){var n=arguments[0],o=n.length||n.size||n.byteLength;if("open"===e.readyState&&t.sctp&&o>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return r.apply(e,arguments)}}}function be(e){if(e.RTCPeerConnection&&!("connectionState"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((function(e){var r=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(e){var t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;var r=new Event("connectionstatechange",e);t.dispatchEvent(r)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}}))}}function ge(e,t){if(e.RTCPeerConnection&&!("chrome"===t.browser&&t.version>=71||"safari"===t.browser&&t.version>=605)){var r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){var n=t.sdp.split("\n").filter((function(e){return"a=extmap-allow-mixed"!==e.trim()})).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:n}):t.sdp=n}return r.apply(this,arguments)}}}function we(e,t){if(e.RTCPeerConnection&&e.RTCPeerConnection.prototype){var r=e.RTCPeerConnection.prototype.addIceCandidate;r&&0!==r.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}}var Se=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).window,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0},r=y,s=function(e){var t={browser:null,version:null};if(void 0===e||!e.navigator)return t.browser="Not a browser.",t;var r=e.navigator;if(r.mozGetUserMedia)t.browser="firefox",t.version=f(r.userAgent,/Firefox\/(\d+)\./,1);else if(r.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)t.browser="chrome",t.version=f(r.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(r.mediaDevices&&r.userAgent.match(/Edge\/(\d+).(\d+)$/))t.browser="edge",t.version=f(r.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!r.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=f(r.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}(e),u={browserDetails:s,commonShim:c,extractVersion:f,disableLog:d,disableWarnings:h};switch(s.browser){case"chrome":if(!n||!M||!t.shimChrome)return r("Chrome shim is not included in this adapter release."),u;if(null===s.version)return r("Chrome shim can not determine version, not shimming."),u;r("adapter.js shimming chrome."),u.browserShim=n,we(e,s),P(e,s),j(e),M(e,s),x(e),L(e,s),C(e),T(e),R(e),A(e,s),ye(e),be(e),me(e,s),ve(e),ge(e,s);break;case"firefox":if(!i||!V||!t.shimFirefox)return r("Firefox shim is not included in this adapter release."),u;r("adapter.js shimming firefox."),u.browserShim=i,we(e,s),W(e,s),V(e,s),H(e),$(e),J(e),K(e),Y(e),X(e),Q(e),ee(e),te(e),ye(e),be(e),me(e,s),ve(e);break;case"edge":if(!o||!z||!t.shimEdge)return r("MS edge shim is not included in this adapter release."),u;r("adapter.js shimming edge."),u.browserShim=o,U(e),B(e),z(e,s),F(e),me(e,s),ve(e);break;case"safari":if(!a||!t.shimSafari)return r("Safari shim is not included in this adapter release."),u;r("adapter.js shimming safari."),u.browserShim=a,we(e,s),se(e),le(e),ie(e),ne(e),oe(e),ue(e),ae(e),fe(e),ye(e),me(e,s),ve(e),ge(e,s);break;default:r("Unsupported browser!")}return u}({window:"undefined"==typeof window?void 0:window});const Oe=Se},65176:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(50434),i=r(33524),a=r(30293),c=r(57764),s=r(39518);e.exports=function(e){return null==e||"object"!==n(e)&&"function"!=typeof e?null:o(e)?"String":i(e)?"Number":a(e)?"Boolean":c(e)?"Symbol":s(e)?"BigInt":void 0}},2607:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(77758),i=r(93167),a=r(49493),c=a("Object.prototype.toString"),s=r(87285)()&&"symbol"===n(Symbol.toStringTag),u=i(),l=a("String.prototype.slice"),f={},p=r(16992),d=Object.getPrototypeOf;s&&p&&d&&o(u,(function(e){if("function"==typeof r.g[e]){var t=new r.g[e];if(!(Symbol.toStringTag in t))throw new EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var n=d(t),o=p(n,Symbol.toStringTag);if(!o){var i=d(n);o=p(i,Symbol.toStringTag)}f[e]=o.get}}));var h=r(18215);e.exports=function(e){return!!h(e)&&(s?function(e){var t=!1;return o(f,(function(r,n){if(!t)try{var o=r.call(e);o===n&&(t=o)}catch(e){}})),t}(e):l(c(e),8,-1))}},59003:e=>{"use strict";e.exports=require("classnames")},39105:e=>{"use strict";e.exports=require("color")},4305:e=>{"use strict";e.exports=require("lodash.debounce")},39455:e=>{"use strict";e.exports=require("material-ui")},13173:e=>{"use strict";e.exports=require("material-ui/styles")},580:e=>{"use strict";e.exports=require("prop-types")},10757:e=>{"use strict";e.exports=require("pydio")},56880:e=>{"use strict";e.exports=require("pydio/http/api")},85829:e=>{"use strict";e.exports=require("pydio/http/meta-cache-service")},62610:e=>{"use strict";e.exports=require("pydio/http/resources-manager")},82702:e=>{"use strict";e.exports=require("pydio/http/users-api")},2282:e=>{"use strict";e.exports=require("pydio/model/controller")},14603:e=>{"use strict";e.exports=require("pydio/model/data-model")},7180:e=>{"use strict";e.exports=require("pydio/util/func")},14021:e=>{"use strict";e.exports=require("pydio/util/periodical-executer")},16689:e=>{"use strict";e.exports=require("react")},66405:e=>{"use strict";e.exports=require("react-dom")},70192:e=>{"use strict";e.exports=require("react-draggable")},65863:()=>{},42970:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},93167:(e,t,r)=>{"use strict";var n=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"];e.exports=function(){for(var e=[],t=0;t<n.length;t++)"function"==typeof r.g[n[t]]&&(e[e.length]=n[t]);return e}},16992:(e,t,r)=>{"use strict";var n=r(43532)("%Object.getOwnPropertyDescriptor%");if(n)try{n([],"length")}catch(e){n=null}e.exports=n},23382:(e,t,r)=>{"use strict";var n=r(80288);if(r(87285)()||r(2112)()){var o=Symbol.iterator;e.exports=function(e){return null!=e&&void 0!==e[o]?e[o]():n(e)?Array.prototype[o].call(e):void 0}}else{var i=r(99776),a=r(50434),c=r(43532),s=c("%Map%",!0),u=c("%Set%",!0),l=r(49493),f=l("Array.prototype.push"),p=l("String.prototype.charCodeAt"),d=l("String.prototype.slice"),h=function(e){var t=0;return{next:function(){var r,n=t>=e.length;return n||(r=e[t],t+=1),{done:n,value:r}}}},y=function(e,t){if(i(e)||n(e))return h(e);if(a(e)){var r=0;return{next:function(){var t=function(e,t){if(t+1>=e.length)return t+1;var r=p(e,t);if(r<55296||r>56319)return t+1;var n=p(e,t+1);return n<56320||n>57343?t+1:t+2}(e,r),n=d(e,r,t);return r=t,{done:t>e.length,value:n}}}}return t&&void 0!==e["_es6-shim iterator_"]?e["_es6-shim iterator_"]():void 0};if(s||u){var m=r(33410),v=r(32454),b=l("Map.prototype.forEach",!0),g=l("Set.prototype.forEach",!0);if("undefined"==typeof process||!process.versions||!process.versions.node)var w=l("Map.prototype.iterator",!0),S=l("Set.prototype.iterator",!0),O=function(e){var t=!1;return{next:function(){try{return{done:t,value:t?void 0:e.next()}}catch(e){return t=!0,{done:!0,value:void 0}}}}};var P=l("Map.prototype.@@iterator",!0)||l("Map.prototype._es6-shim iterator_",!0),k=l("Set.prototype.@@iterator",!0)||l("Set.prototype._es6-shim iterator_",!0);e.exports=function(e){return function(e){if(m(e)){if(w)return O(w(e));if(P)return P(e);if(b){var t=[];return b(e,(function(e,r){f(t,[r,e])})),h(t)}}if(v(e)){if(S)return O(S(e));if(k)return k(e);if(g){var r=[];return g(e,(function(e){f(r,e)})),h(r)}}}(e)||y(e)}}else e.exports=function(e){if(null!=e)return y(e,!0)}}},18724:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(33410),i=r(32454),a=r(30464),c=r(77799);e.exports=function(e){if(e&&"object"===n(e)){if(o(e))return"Map";if(i(e))return"Set";if(a(e))return"WeakMap";if(c(e))return"WeakSet"}return!1}},79777:(e,t,r)=>{"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}r.d(t,{Z:()=>n})},86646:(e,t,r)=>{"use strict";function n(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}r.d(t,{Z:()=>n})},51730:(e,t,r)=>{"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}r.d(t,{Z:()=>n})},83265:(e,t,r)=>{"use strict";function n(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}r.d(t,{Z:()=>n})},60634:(e,t,r)=>{"use strict";r.d(t,{Ab:()=>a,Fr:()=>c,G$:()=>i,K$:()=>u,MS:()=>n,h5:()=>s,lK:()=>l,uj:()=>o});var n="-ms-",o="-moz-",i="-webkit-",a="comm",c="rule",s="decl",u="@import",l="@keyframes"},36999:(e,t,r)=>{"use strict";r.d(t,{cD:()=>i,qR:()=>o});var n=r(27125);function o(e){var t=(0,n.Ei)(e);return function(r,n,o,i){for(var a="",c=0;c<t;c++)a+=e[c](r,n,o,i)||"";return a}}function i(e){return function(t){t.root||(t=t.return)&&e(t)}}},64873:(e,t,r)=>{"use strict";r.d(t,{MY:()=>a});var n=r(60634),o=r(27125),i=r(35438);function a(e){return(0,i.cE)(c("",null,null,null,[""],e=(0,i.un)(e),0,[0],e))}function c(e,t,r,n,a,f,p,d,h){for(var y=0,m=0,v=p,b=0,g=0,w=0,S=1,O=1,P=1,k=0,_="",E=a,j=f,x=n,C=_;O;)switch(w=k,k=(0,i.lp)()){case 40:if(108!=w&&58==(0,o.uO)(C,v-1)){-1!=(0,o.Cw)(C+=(0,o.gx)((0,i.iF)(k),"&","&\f"),"&\f")&&(P=-1);break}case 34:case 39:case 91:C+=(0,i.iF)(k);break;case 9:case 10:case 13:case 32:C+=(0,i.Qb)(w);break;case 92:C+=(0,i.kq)((0,i.Ud)()-1,7);continue;case 47:switch((0,i.fj)()){case 42:case 47:(0,o.R3)(u((0,i.q6)((0,i.lp)(),(0,i.Ud)()),t,r),h);break;default:C+="/"}break;case 123*S:d[y++]=(0,o.to)(C)*P;case 125*S:case 59:case 0:switch(k){case 0:case 125:O=0;case 59+m:g>0&&(0,o.to)(C)-v&&(0,o.R3)(g>32?l(C+";",n,r,v-1):l((0,o.gx)(C," ","")+";",n,r,v-2),h);break;case 59:C+=";";default:if((0,o.R3)(x=s(C,t,r,y,m,a,d,_,E=[],j=[],v),f),123===k)if(0===m)c(C,t,x,x,E,f,v,d,j);else switch(99===b&&110===(0,o.uO)(C,3)?100:b){case 100:case 109:case 115:c(e,x,x,n&&(0,o.R3)(s(e,x,x,0,0,a,d,_,a,E=[],v),j),a,j,v,d,n?E:j);break;default:c(C,x,x,x,[""],j,0,d,j)}}y=m=g=0,S=P=1,_=C="",v=p;break;case 58:v=1+(0,o.to)(C),g=w;default:if(S<1)if(123==k)--S;else if(125==k&&0==S++&&125==(0,i.mp)())continue;switch(C+=(0,o.Dp)(k),k*S){case 38:P=m>0?1:(C+="\f",-1);break;case 44:d[y++]=((0,o.to)(C)-1)*P,P=1;break;case 64:45===(0,i.fj)()&&(C+=(0,i.iF)((0,i.lp)())),b=(0,i.fj)(),m=v=(0,o.to)(_=C+=(0,i.QU)((0,i.Ud)())),k++;break;case 45:45===w&&2==(0,o.to)(C)&&(S=0)}}return f}function s(e,t,r,a,c,s,u,l,f,p,d){for(var h=c-1,y=0===c?s:[""],m=(0,o.Ei)(y),v=0,b=0,g=0;v<a;++v)for(var w=0,S=(0,o.tb)(e,h+1,h=(0,o.Wn)(b=u[v])),O=e;w<m;++w)(O=(0,o.fy)(b>0?y[w]+" "+S:(0,o.gx)(S,/&\f/g,y[w])))&&(f[g++]=O);return(0,i.dH)(e,t,r,0===c?n.Fr:l,f,p,d)}function u(e,t,r){return(0,i.dH)(e,t,r,n.Ab,(0,o.Dp)((0,i.Tb)()),(0,o.tb)(e,2,-2),0)}function l(e,t,r,a){return(0,i.dH)(e,t,r,n.h5,(0,o.tb)(e,0,a),(0,o.tb)(e,a+1,-1),a)}},22807:(e,t,r)=>{"use strict";r.d(t,{P:()=>a,q:()=>i});var n=r(60634),o=r(27125);function i(e,t){for(var r="",n=(0,o.Ei)(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}function a(e,t,r,a){switch(e.type){case n.K$:case n.h5:return e.return=e.return||e.value;case n.Ab:return"";case n.lK:return e.return=e.value+"{"+i(e.children,a)+"}";case n.Fr:e.value=e.props.join(",")}return(0,o.to)(r=i(e.children,a))?e.return=e.value+"{"+r+"}":""}},35438:(e,t,r)=>{"use strict";r.d(t,{FK:()=>c,JG:()=>f,QU:()=>E,Qb:()=>O,Tb:()=>p,Ud:()=>m,cE:()=>w,dH:()=>l,fj:()=>y,iF:()=>S,kq:()=>P,lp:()=>h,mp:()=>d,q6:()=>_,r:()=>b,tP:()=>v,un:()=>g});var n=r(27125),o=1,i=1,a=0,c=0,s=0,u="";function l(e,t,r,n,a,c,s){return{value:e,root:t,parent:r,type:n,props:a,children:c,line:o,column:i,length:s,return:""}}function f(e,t){return(0,n.f0)(l("",null,null,"",null,null,0),e,{length:-e.length},t)}function p(){return s}function d(){return s=c>0?(0,n.uO)(u,--c):0,i--,10===s&&(i=1,o--),s}function h(){return s=c<a?(0,n.uO)(u,c++):0,i++,10===s&&(i=1,o++),s}function y(){return(0,n.uO)(u,c)}function m(){return c}function v(e,t){return(0,n.tb)(u,e,t)}function b(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function g(e){return o=i=1,a=(0,n.to)(u=e),c=0,[]}function w(e){return u="",e}function S(e){return(0,n.fy)(v(c-1,k(91===e?e+2:40===e?e+1:e)))}function O(e){for(;(s=y())&&s<33;)h();return b(e)>2||b(s)>3?"":" "}function P(e,t){for(;--t&&h()&&!(s<48||s>102||s>57&&s<65||s>70&&s<97););return v(e,m()+(t<6&&32==y()&&32==h()))}function k(e){for(;h();)switch(s){case e:return c;case 34:case 39:34!==e&&39!==e&&k(s);break;case 40:41===e&&k(e);break;case 92:h()}return c}function _(e,t){for(;h()&&e+s!==57&&(e+s!==84||47!==y()););return"/*"+v(t,c-1)+"*"+(0,n.Dp)(47===e?e:h())}function E(e){for(;!b(y());)h();return v(e,c)}},27125:(e,t,r)=>{"use strict";r.d(t,{$e:()=>m,Cw:()=>l,Dp:()=>o,EQ:()=>s,Ei:()=>h,R3:()=>y,Wn:()=>n,f0:()=>i,fy:()=>c,gx:()=>u,tb:()=>p,to:()=>d,uO:()=>f,vp:()=>a});var n=Math.abs,o=String.fromCharCode,i=Object.assign;function a(e,t){return 45^f(e,0)?(((t<<2^f(e,0))<<2^f(e,1))<<2^f(e,2))<<2^f(e,3):0}function c(e){return e.trim()}function s(e,t){return(e=t.exec(e))?e[0]:e}function u(e,t,r){return e.replace(t,r)}function l(e,t){return e.indexOf(t)}function f(e,t){return 0|e.charCodeAt(t)}function p(e,t,r){return e.slice(t,r)}function d(e){return e.length}function h(e){return e.length}function y(e,t){return t.push(e),e}function m(e,t){return e.map(t).join("")}}},__webpack_module_cache__={},leafPrototypes,getProto,inProgress,dataWebpackPrefix;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},getProto=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,__webpack_require__.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var r=Object.create(null);__webpack_require__.r(r);var n={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var o=2&t&&e;"object"==typeof o&&!~leafPrototypes.indexOf(o);o=getProto(o))Object.getOwnPropertyNames(o).forEach((t=>n[t]=()=>e[t]));return n.default=()=>e,__webpack_require__.d(r,n),r},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,r)=>(__webpack_require__.f[r](e,t),t)),[])),__webpack_require__.u=e=>"rgl.min.js",__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),inProgress={},dataWebpackPrefix="gui.ajax:",__webpack_require__.l=(e,t,r,n)=>{if(inProgress[e])inProgress[e].push(t);else{var o,i;if(void 0!==r)for(var a=document.getElementsByTagName("script"),c=0;c<a.length;c++){var s=a[c];if(s.getAttribute("src")==e||s.getAttribute("data-webpack")==dataWebpackPrefix+r){o=s;break}}o||(i=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,__webpack_require__.nc&&o.setAttribute("nonce",__webpack_require__.nc),o.setAttribute("data-webpack",dataWebpackPrefix+r),o.src=e),inProgress[e]=[t];var u=(t,r)=>{o.onerror=o.onload=null,clearTimeout(l);var n=inProgress[e];if(delete inProgress[e],o.parentNode&&o.parentNode.removeChild(o),n&&n.forEach((e=>e(r))),t)return t(r)},l=setTimeout(u.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=u.bind(null,o.onerror),o.onload=u.bind(null,o.onload),i&&document.head.appendChild(o)}},__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),__webpack_require__.p="plug/gui.ajax/res/dist/libs/",(()=>{var e={543:0};__webpack_require__.f.j=(t,r)=>{var n=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise(((r,o)=>n=e[t]=[r,o]));r.push(n[2]=o);var i=__webpack_require__.p+__webpack_require__.u(t),a=new Error;__webpack_require__.l(i,(r=>{if(__webpack_require__.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",a.name="ChunkLoadError",a.type=o,a.request=i,n[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var n,o,[i,a,c]=r,s=0;if(i.some((t=>0!==e[t]))){for(n in a)__webpack_require__.o(a,n)&&(__webpack_require__.m[n]=a[n]);c&&c(__webpack_require__)}for(t&&t(r);s<i.length;s++)o=i[s],__webpack_require__.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkgui_ajax=self.webpackChunkgui_ajax||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var __webpack_exports__={};(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>CO});var e=__webpack_require__(16689),t=__webpack_require__.n(e),r=__webpack_require__(66405),n=__webpack_require__.n(r),o=__webpack_require__(14603),i=__webpack_require__.n(o);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===a(o)?o:String(o)),n)}var o}var s=__webpack_require__(7180),u=__webpack_require__(62610),l={NODE_PROVIDER:"node",SORTABLE_LIST_ITEM:"sortable-list-item"};function f(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}function p(e,t){return{connectDropTarget:e.dropTarget(),canDrop:t.canDrop(),isOver:t.isOver(),isOverCurrent:t.isOver({shallow:!0})}}var d=function(){function e(t,r,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._source=t,this._target=r,this._step=n,this._dropEffect=o}var t,r;return t=e,(r=[{key:"getSource",value:function(){return this._source}},{key:"getTarget",value:function(){return this._target}},{key:"getStep",value:function(){return this._step}},{key:"getDropEffect",value:function(){return this._dropEffect}}])&&c(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();d.STEP_BEGIN_DRAG="beginDrag",d.STEP_END_DRAG="endDrag",d.STEP_CAN_DROP="canDrop",d.STEP_HOVER_DROP="hover";var h=function(e,t,r,n){var o=window.pydio.Controller,a=o.defaultActions.get("dragndrop");if(!a)throw new Error("No DND Actions available");var c=o.getActionByName(a);if(c.deny){var l=new(i());if(l.setSelectedNodes([e]),c.fireSelectionChange(l),c.deny)throw new Error("DND action disabled")}var f=new d(e,t,r,n),p=c.options.dragndropCheckModule;if(r===d.STEP_CAN_DROP&&p){if(!s.getFunctionByName(p,window))throw u.detectModuleToLoadAndApply(p,(function(){})),new Error("Cannot find test module, trying to load it");s.executeFunctionByName(c.options.dragndropCheckModule,window,o,f)}else c.apply(f)},y={beginDrag:function(e){return{node:e.node}},endDrag:function(e,t,r){if(t.didDrop()){var n=t.getItem(),o=t.getDropResult();try{h(n.node,o.node,d.STEP_END_DRAG,o.dropEffect)}catch(e){}}}},m={hover:function(e,t){},canDrop:function(e,t){var r=t.getItem().node,n=e.node;try{h(r,n,d.STEP_CAN_DROP)}catch(e){return!1}return!0},drop:function(e,t){if(!t.didDrop())return{node:e.node}}},v=__webpack_require__(39455);const b=require("react-dnd");var g=__webpack_require__.n(b);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){P(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function P(e,t,r){return(t=j(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j(n.key),n)}}function E(e,t,r){return t&&_(e.prototype,t),r&&_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function j(e){var t=function(e,t){if("object"!==w(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===w(t)?t:String(t)}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=R(e);if(t){var o=R(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}var I=function(e){x(o,e);var r=T(o);function o(){return k(this,o),r.apply(this,arguments)}return E(o,[{key:"removeClicked",value:function(){this.props.onRemove(this.props.id)}},{key:"render",value:function(){var e,r=this,o=this.props,i=o.isDragging,a=o.connectDragSource,c=o.connectDropTarget,s=o.renderItem,u=o.style,l=o.item,f=o.removable,p=o.className,d=o.label;return f&&(e=t().createElement("span",{className:"button mdi mdi-close",onClick:function(e){return r.removeClicked(e)}})),s?t().createElement("div",{ref:function(e){c(n().findDOMNode(e)),a(n().findDOMNode(e))},style:O(O({},u),{},{opacity:i?0:1})},s(l)):t().createElement(v.Paper,{ref:function(e){c(n().findDOMNode(e)),a(n().findDOMNode(e))},zDepth:1,style:{opacity:i?0:1,margin:"8px 0"}},t().createElement("div",{className:p},d,e))}}]),o}(t().Component),L=function(e){x(n,e);var r=T(n);function n(){return k(this,n),r.apply(this,arguments)}return E(n,[{key:"removeClicked",value:function(){this.props.onRemove(this.props.id)}},{key:"render",value:function(){var e,r=this;return this.props.removable&&(e=t().createElement("span",{className:"button mdi mdi-close",onClick:function(e){return r.removeClicked(e)}})),t().createElement(v.Paper,{zDepth:1,style:{margin:"8px 0"}},t().createElement("div",{className:this.props.className},this.props.label,e))}}]),n}(t().Component);g()&&(L=g().flow(g().DragSource(l.SORTABLE_LIST_ITEM,{beginDrag:function(e){return{id:e.id}},endDrag:function(e){e.endSwitching()}},f),g().DropTarget(l.SORTABLE_LIST_ITEM,{hover:function(e,t){var r=t.getItem().id;r!==e.id&&e.switchItems(r,e.id)}},p))(I));var M=function(e){x(n,e);var r=T(n);function n(e){var t;return k(this,n),(t=r.call(this,e)).state={values:t.props.values},t}return E(n,[{key:"componentWillReceiveProps",value:function(e){this.setState({values:e.values,switchData:null})}},{key:"findItemIndex",value:function(e,t){for(var r=0;r<t.length;r++)if(t[r].payload===e)return r}},{key:"switchItems",value:function(e,t){var r=this.findItemIndex(e,this.state.values),n=this.state.values[r],o=this.findItemIndex(t,this.state.values),i=this.state.values[o],a=this.state.values.slice();a[r]=i,a[o]=n;var c=this.findItemIndex(e,this.props.values),s=this.findItemIndex(t,this.props.values);c===o&&s===r?this.setState({values:a,switchData:null}):this.setState({values:a,switchData:{oldId:e,newId:t}})}},{key:"endSwitching",value:function(){this.state.switchData&&this.props.onOrderUpdated&&this.props.onOrderUpdated(this.state.switchData.oldId,this.state.switchData.newId,this.state.values),this.setState({switchData:null})}},{key:"render",value:function(){return t().createElement("div",{className:this.props.className},this.state.values.map(function(e){return t().createElement(L,{id:e.payload,key:e.payload,label:e.text,switchItems:this.switchItems.bind(this),endSwitching:this.endSwitching.bind(this),removable:this.props.removable,onRemove:this.props.onRemove,className:this.props.itemClassName,item:e,style:this.props.itemStyle,renderItem:this.props.renderItem})}.bind(this)))}}]),n}(t().Component);const A=require("create-react-class");var D=__webpack_require__.n(A),N=__webpack_require__(580),U=__webpack_require__.n(N),B=__webpack_require__(10757),z=__webpack_require__.n(B);const F=require("react-infinite");var q=__webpack_require__.n(F),W=__webpack_require__(90691),Z=__webpack_require__.n(W);const G=require("pydio/util/lang");var H=__webpack_require__.n(G),V=__webpack_require__(13173),J=__webpack_require__(39105),K=__webpack_require__.n(J);function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}var Y=["muiTheme","node","iconCell","firstLine","secondLine"];function X(){return X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X.apply(this,arguments)}function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){te(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function te(e,t,r){return(t=oe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oe(n.key),n)}}function oe(e){var t=function(e,t){if("object"!==$(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===$(t)?t:String(t)}function ie(e,t){return ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ie(e,t)}function ae(e){return ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ae(e)}var ce=z().requireLib("hoc").withContextMenu,se=function(r){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ie(e,t)}(u,r);var o,i,a,c,s=(a=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ae(a);if(c){var r=ae(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(r=s.call(this,t)).inlineEditorRef=(0,e.createRef)(),r}return o=u,i=[{key:"componentDidMount",value:function(){var e=this.props.setInlineEditionAnchor;e&&this.inlineEditorRef.current&&e(this.inlineEditorRef.current)}},{key:"onClick",value:function(e){if(this.props.showSelector){if(this.props.selectorDisabled)return;this.props.onSelect(this.props.node,e),e.stopPropagation(),e.preventDefault()}else this.props.onClick&&this.props.onClick(this.props.node,e)}},{key:"onDoubleClick",value:function(e){this.props.onDoubleClick&&this.props.onDoubleClick(this.props.node,e)}},{key:"render",value:function(){var e,r,o,i=this,a=this.props,c=a.node,s=a.showSelector,u=a.selected,l=a.selectorDisabled,f=a.firstLine,p=a.secondLine,d=a.thirdLine,h=a.style,y=a.actions,m=a.iconCell,b=a.mainIcon,g=a.className,w=a.muiTheme,S=a.canDrop,O=a.isOver,P=a.nativeIsOver,k=a.connectDragSource,_=a.connectDropTarget,E=a.selectedAsBorder,j=["material-list-entry","material-list-entry-"+(d?3:p?2:1)+"-lines"];g&&j.push(g),s&&(e=t().createElement("div",{className:"material-list-selector"},t().createElement(v.Checkbox,{checked:u,ref:"selector",disabled:l}))),m?r=this.props.iconCell:this.props.mainIcon&&(r=t().createElement(v.FontIcon,{className:"mui-font-icon "+this.props.mainIcon,style:{fontSize:18,color:"#FFF",display:"inline-block",margin:16,backgroundColor:"rgb(189, 189, 189)",padding:"7px 3px",width:33,height:33,textAlign:"center"}})),(S&&O||P)&&j.push("droppable-active"),c&&(j.push("listentry_"+H().computeStringSlug(c.getPath())),j.push("ajxp_node_"+(c.isLeaf()?"leaf":"collection")),c.getAjxpMime()&&j.push("ajxp_mime_"+c.getAjxpMime()),c.getMetadata().has("local:entry-classes")&&j.push.apply(j,function(e){if(Array.isArray(e))return re(e)}(o=c.getMetadata().get("local:entry-classes"))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||function(e,t){if(e){if("string"==typeof e)return re(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?re(e,t):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()));var x={};if(this.state&&this.state.hover&&!this.props.noHover&&(x=ee(ee({},x),{},{backgroundColor:w.darkMode?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.05)",borderBottom:"1px solid transparent"})),u){var C=w.palette.accent2Color,T=K()(C).dark();x=ee(ee({},x),{},E?{boxShadow:"0 0 0 2px "+C+",rgba(0, 0, 0, .4) 0px 0px 10px"}:{backgroundColor:C,color:T?"white":"rgba(0,0,0,.87)"}),j.push("selected"),j.push("selected-"+(T?"dark":"light"))}return t().createElement(ue,X({},this.props,{ref:function(e){var t=n().findDOMNode(e);"function"==typeof _&&_(t),"function"==typeof k&&k(t)},onClick:this.onClick.bind(this),onDoubleClick:s?null:this.onDoubleClick.bind(this),className:j.join(" "),onMouseOver:function(){i.setState({hover:!0})},onMouseOut:function(){i.setState({hover:!1})},style:ee(ee({},h),x)}),e,t().createElement("div",{className:"material-list-icon"+(b||m?"":" material-list-icon-none")},r),t().createElement("div",{className:"material-list-text"},t().createElement("div",{key:"line-1",className:"material-list-line-1",ref:this.inlineEditorRef},f),t().createElement("div",{key:"line-2",className:"material-list-line-2"},p),t().createElement("div",{key:"line-3",className:"material-list-line-3"},d)),t().createElement("div",{className:"material-list-actions"},y))}}],i&&ne(o.prototype,i),Object.defineProperty(o,"prototype",{writable:!1}),u}(t().Component),ue=function(e){e.muiTheme,e.node,e.iconCell,e.firstLine,e.secondLine;var r=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Y);return t().createElement("div",r)};ue=ce(ue),se.propTypes={showSelector:U().bool,selected:U().bool,selectorDisabled:U().bool,onSelect:U().func,onClick:U().func,iconCell:U().element,mainIcon:U().string,firstLine:U().node,secondLine:U().node,thirdLine:U().node,actions:U().element,activeDroppable:U().bool,className:U().string,style:U().object,noHover:U().bool},se=(0,V.muiThemeable)()(se);var le=(0,b.flow)((0,b.DragSource)(l.NODE_PROVIDER,y,f),(0,b.DropTarget)(l.NODE_PROVIDER,m,p))(se);const fe=require("pydio/util/path");var pe=__webpack_require__.n(fe),de=__webpack_require__(79777),he=__webpack_require__(86646),ye=__webpack_require__(51730),me=__webpack_require__(83265),ve=__webpack_require__(66357),be=__webpack_require__(52695),ge=__webpack_require__(91136);function we(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Se(e){return e instanceof we(e).Element||e instanceof Element}function Oe(e){return e instanceof we(e).HTMLElement||e instanceof HTMLElement}function Pe(e){return"undefined"!=typeof ShadowRoot&&(e instanceof we(e).ShadowRoot||e instanceof ShadowRoot)}var ke=Math.max,_e=Math.min,Ee=Math.round;function je(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function xe(){return!/^((?!chrome|android).)*safari/i.test(je())}function Ce(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!1);var n=e.getBoundingClientRect(),o=1,i=1;t&&Oe(e)&&(o=e.offsetWidth>0&&Ee(n.width)/e.offsetWidth||1,i=e.offsetHeight>0&&Ee(n.height)/e.offsetHeight||1);var a=(Se(e)?we(e):window).visualViewport,c=!xe()&&r,s=(n.left+(c&&a?a.offsetLeft:0))/o,u=(n.top+(c&&a?a.offsetTop:0))/i,l=n.width/o,f=n.height/i;return{width:l,height:f,top:u,right:s+l,bottom:u+f,left:s,x:s,y:u}}function Te(e){var t=we(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Re(e){return e?(e.nodeName||"").toLowerCase():null}function Ie(e){return((Se(e)?e.ownerDocument:e.document)||window.document).documentElement}function Le(e){return Ce(Ie(e)).left+Te(e).scrollLeft}function Me(e){return we(e).getComputedStyle(e)}function Ae(e){var t=Me(e),r=t.overflow,n=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+o+n)}function De(e,t,r){void 0===r&&(r=!1);var n,o,i=Oe(t),a=Oe(t)&&function(e){var t=e.getBoundingClientRect(),r=Ee(t.width)/e.offsetWidth||1,n=Ee(t.height)/e.offsetHeight||1;return 1!==r||1!==n}(t),c=Ie(t),s=Ce(e,a,r),u={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!r)&&(("body"!==Re(t)||Ae(c))&&(u=(n=t)!==we(n)&&Oe(n)?{scrollLeft:(o=n).scrollLeft,scrollTop:o.scrollTop}:Te(n)),Oe(t)?((l=Ce(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):c&&(l.x=Le(c))),{x:s.left+u.scrollLeft-l.x,y:s.top+u.scrollTop-l.y,width:s.width,height:s.height}}function Ne(e){var t=Ce(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function Ue(e){return"html"===Re(e)?e:e.assignedSlot||e.parentNode||(Pe(e)?e.host:null)||Ie(e)}function Be(e){return["html","body","#document"].indexOf(Re(e))>=0?e.ownerDocument.body:Oe(e)&&Ae(e)?e:Be(Ue(e))}function ze(e,t){var r;void 0===t&&(t=[]);var n=Be(e),o=n===(null==(r=e.ownerDocument)?void 0:r.body),i=we(n),a=o?[i].concat(i.visualViewport||[],Ae(n)?n:[]):n,c=t.concat(a);return o?c:c.concat(ze(Ue(a)))}function Fe(e){return["table","td","th"].indexOf(Re(e))>=0}function qe(e){return Oe(e)&&"fixed"!==Me(e).position?e.offsetParent:null}function We(e){for(var t=we(e),r=qe(e);r&&Fe(r)&&"static"===Me(r).position;)r=qe(r);return r&&("html"===Re(r)||"body"===Re(r)&&"static"===Me(r).position)?t:r||function(e){var t=/firefox/i.test(je());if(/Trident/i.test(je())&&Oe(e)&&"fixed"===Me(e).position)return null;var r=Ue(e);for(Pe(r)&&(r=r.host);Oe(r)&&["html","body"].indexOf(Re(r))<0;){var n=Me(r);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return r;r=r.parentNode}return null}(e)||t}var Ze="top",Ge="bottom",He="right",Ve="left",Je="auto",Ke=[Ze,Ge,He,Ve],$e="start",Ye="end",Xe="clippingParents",Qe="viewport",et="popper",tt="reference",rt=Ke.reduce((function(e,t){return e.concat([t+"-"+$e,t+"-"+Ye])}),[]),nt=[].concat(Ke,[Je]).reduce((function(e,t){return e.concat([t,t+"-"+$e,t+"-"+Ye])}),[]),ot=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function it(e){var t=new Map,r=new Set,n=[];function o(e){r.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!r.has(e)){var n=t.get(e);n&&o(n)}})),n.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){r.has(e.name)||o(e)})),n}var at={placement:"bottom",modifiers:[],strategy:"absolute"};function ct(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function st(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,n=void 0===r?[]:r,o=t.defaultOptions,i=void 0===o?at:o;return function(e,t,r){void 0===r&&(r=i);var o,a,c={placement:"bottom",orderedModifiers:[],options:Object.assign({},at,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],u=!1,l={state:c,setOptions:function(r){var o="function"==typeof r?r(c.options):r;f(),c.options=Object.assign({},i,c.options,o),c.scrollParents={reference:Se(e)?ze(e):e.contextElement?ze(e.contextElement):[],popper:ze(t)};var a,u,p=function(e){var t=it(e);return ot.reduce((function(e,r){return e.concat(t.filter((function(e){return e.phase===r})))}),[])}((a=[].concat(n,c.options.modifiers),u=a.reduce((function(e,t){var r=e[t.name];return e[t.name]=r?Object.assign({},r,t,{options:Object.assign({},r.options,t.options),data:Object.assign({},r.data,t.data)}):t,e}),{}),Object.keys(u).map((function(e){return u[e]}))));return c.orderedModifiers=p.filter((function(e){return e.enabled})),c.orderedModifiers.forEach((function(e){var t=e.name,r=e.options,n=void 0===r?{}:r,o=e.effect;if("function"==typeof o){var i=o({state:c,name:t,instance:l,options:n});s.push(i||function(){})}})),l.update()},forceUpdate:function(){if(!u){var e=c.elements,t=e.reference,r=e.popper;if(ct(t,r)){c.rects={reference:De(t,We(r),"fixed"===c.options.strategy),popper:Ne(r)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach((function(e){return c.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0;n<c.orderedModifiers.length;n++)if(!0!==c.reset){var o=c.orderedModifiers[n],i=o.fn,a=o.options,s=void 0===a?{}:a,f=o.name;"function"==typeof i&&(c=i({state:c,options:s,name:f,instance:l})||c)}else c.reset=!1,n=-1}}},update:(o=function(){return new Promise((function(e){l.forceUpdate(),e(c)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(o())}))}))),a}),destroy:function(){f(),u=!0}};if(!ct(e,t))return l;function f(){s.forEach((function(e){return e()})),s=[]}return l.setOptions(r).then((function(e){!u&&r.onFirstUpdate&&r.onFirstUpdate(e)})),l}}var ut={passive:!0};function lt(e){return e.split("-")[0]}function ft(e){return e.split("-")[1]}function pt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function dt(e){var t,r=e.reference,n=e.element,o=e.placement,i=o?lt(o):null,a=o?ft(o):null,c=r.x+r.width/2-n.width/2,s=r.y+r.height/2-n.height/2;switch(i){case Ze:t={x:c,y:r.y-n.height};break;case Ge:t={x:c,y:r.y+r.height};break;case He:t={x:r.x+r.width,y:s};break;case Ve:t={x:r.x-n.width,y:s};break;default:t={x:r.x,y:r.y}}var u=i?pt(i):null;if(null!=u){var l="y"===u?"height":"width";switch(a){case $e:t[u]=t[u]-(r[l]/2-n[l]/2);break;case Ye:t[u]=t[u]+(r[l]/2-n[l]/2)}}return t}var ht={top:"auto",right:"auto",bottom:"auto",left:"auto"};function yt(e){var t,r=e.popper,n=e.popperRect,o=e.placement,i=e.variation,a=e.offsets,c=e.position,s=e.gpuAcceleration,u=e.adaptive,l=e.roundOffsets,f=e.isFixed,p=a.x,d=void 0===p?0:p,h=a.y,y=void 0===h?0:h,m="function"==typeof l?l({x:d,y}):{x:d,y};d=m.x,y=m.y;var v=a.hasOwnProperty("x"),b=a.hasOwnProperty("y"),g=Ve,w=Ze,S=window;if(u){var O=We(r),P="clientHeight",k="clientWidth";O===we(r)&&"static"!==Me(O=Ie(r)).position&&"absolute"===c&&(P="scrollHeight",k="scrollWidth"),(o===Ze||(o===Ve||o===He)&&i===Ye)&&(w=Ge,y-=(f&&O===S&&S.visualViewport?S.visualViewport.height:O[P])-n.height,y*=s?1:-1),o!==Ve&&(o!==Ze&&o!==Ge||i!==Ye)||(g=He,d-=(f&&O===S&&S.visualViewport?S.visualViewport.width:O[k])-n.width,d*=s?1:-1)}var _,E=Object.assign({position:c},u&&ht),j=!0===l?function(e){var t=e.x,r=e.y,n=window.devicePixelRatio||1;return{x:Ee(t*n)/n||0,y:Ee(r*n)/n||0}}({x:d,y}):{x:d,y};return d=j.x,y=j.y,s?Object.assign({},E,((_={})[w]=b?"0":"",_[g]=v?"0":"",_.transform=(S.devicePixelRatio||1)<=1?"translate("+d+"px, "+y+"px)":"translate3d("+d+"px, "+y+"px, 0)",_)):Object.assign({},E,((t={})[w]=b?y+"px":"",t[g]=v?d+"px":"",t.transform="",t))}const mt={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var r=t.styles[e]||{},n=t.attributes[e]||{},o=t.elements[e];Oe(o)&&Re(o)&&(Object.assign(o.style,r),Object.keys(n).forEach((function(e){var t=n[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach((function(e){var n=t.elements[e],o=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:r[e]).reduce((function(e,t){return e[t]="",e}),{});Oe(n)&&Re(n)&&(Object.assign(n.style,i),Object.keys(o).forEach((function(e){n.removeAttribute(e)})))}))}},requires:["computeStyles"]};var vt={left:"right",right:"left",bottom:"top",top:"bottom"};function bt(e){return e.replace(/left|right|bottom|top/g,(function(e){return vt[e]}))}var gt={start:"end",end:"start"};function wt(e){return e.replace(/start|end/g,(function(e){return gt[e]}))}function St(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&Pe(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Ot(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Pt(e,t,r){return t===Qe?Ot(function(e,t){var r=we(e),n=Ie(e),o=r.visualViewport,i=n.clientWidth,a=n.clientHeight,c=0,s=0;if(o){i=o.width,a=o.height;var u=xe();(u||!u&&"fixed"===t)&&(c=o.offsetLeft,s=o.offsetTop)}return{width:i,height:a,x:c+Le(e),y:s}}(e,r)):Se(t)?function(e,t){var r=Ce(e,!1,"fixed"===t);return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}(t,r):Ot(function(e){var t,r=Ie(e),n=Te(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=ke(r.scrollWidth,r.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=ke(r.scrollHeight,r.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),c=-n.scrollLeft+Le(e),s=-n.scrollTop;return"rtl"===Me(o||r).direction&&(c+=ke(r.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:c,y:s}}(Ie(e)))}function kt(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function _t(e,t){return t.reduce((function(t,r){return t[r]=e,t}),{})}function Et(e,t){void 0===t&&(t={});var r=t,n=r.placement,o=void 0===n?e.placement:n,i=r.strategy,a=void 0===i?e.strategy:i,c=r.boundary,s=void 0===c?Xe:c,u=r.rootBoundary,l=void 0===u?Qe:u,f=r.elementContext,p=void 0===f?et:f,d=r.altBoundary,h=void 0!==d&&d,y=r.padding,m=void 0===y?0:y,v=kt("number"!=typeof m?m:_t(m,Ke)),b=p===et?tt:et,g=e.rects.popper,w=e.elements[h?b:p],S=function(e,t,r,n){var o="clippingParents"===t?function(e){var t=ze(Ue(e)),r=["absolute","fixed"].indexOf(Me(e).position)>=0&&Oe(e)?We(e):e;return Se(r)?t.filter((function(e){return Se(e)&&St(e,r)&&"body"!==Re(e)})):[]}(e):[].concat(t),i=[].concat(o,[r]),a=i[0],c=i.reduce((function(t,r){var o=Pt(e,r,n);return t.top=ke(o.top,t.top),t.right=_e(o.right,t.right),t.bottom=_e(o.bottom,t.bottom),t.left=ke(o.left,t.left),t}),Pt(e,a,n));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}(Se(w)?w:w.contextElement||Ie(e.elements.popper),s,l,a),O=Ce(e.elements.reference),P=dt({reference:O,element:g,strategy:"absolute",placement:o}),k=Ot(Object.assign({},g,P)),_=p===et?k:O,E={top:S.top-_.top+v.top,bottom:_.bottom-S.bottom+v.bottom,left:S.left-_.left+v.left,right:_.right-S.right+v.right},j=e.modifiersData.offset;if(p===et&&j){var x=j[o];Object.keys(E).forEach((function(e){var t=[He,Ge].indexOf(e)>=0?1:-1,r=[Ze,Ge].indexOf(e)>=0?"y":"x";E[e]+=x[r]*t}))}return E}function jt(e,t,r){return ke(e,_e(t,r))}const xt={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name,o=r.mainAxis,i=void 0===o||o,a=r.altAxis,c=void 0!==a&&a,s=r.boundary,u=r.rootBoundary,l=r.altBoundary,f=r.padding,p=r.tether,d=void 0===p||p,h=r.tetherOffset,y=void 0===h?0:h,m=Et(t,{boundary:s,rootBoundary:u,padding:f,altBoundary:l}),v=lt(t.placement),b=ft(t.placement),g=!b,w=pt(v),S="x"===w?"y":"x",O=t.modifiersData.popperOffsets,P=t.rects.reference,k=t.rects.popper,_="function"==typeof y?y(Object.assign({},t.rects,{placement:t.placement})):y,E="number"==typeof _?{mainAxis:_,altAxis:_}:Object.assign({mainAxis:0,altAxis:0},_),j=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,x={x:0,y:0};if(O){if(i){var C,T="y"===w?Ze:Ve,R="y"===w?Ge:He,I="y"===w?"height":"width",L=O[w],M=L+m[T],A=L-m[R],D=d?-k[I]/2:0,N=b===$e?P[I]:k[I],U=b===$e?-k[I]:-P[I],B=t.elements.arrow,z=d&&B?Ne(B):{width:0,height:0},F=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},q=F[T],W=F[R],Z=jt(0,P[I],z[I]),G=g?P[I]/2-D-Z-q-E.mainAxis:N-Z-q-E.mainAxis,H=g?-P[I]/2+D+Z+W+E.mainAxis:U+Z+W+E.mainAxis,V=t.elements.arrow&&We(t.elements.arrow),J=V?"y"===w?V.clientTop||0:V.clientLeft||0:0,K=null!=(C=null==j?void 0:j[w])?C:0,$=L+H-K,Y=jt(d?_e(M,L+G-K-J):M,L,d?ke(A,$):A);O[w]=Y,x[w]=Y-L}if(c){var X,Q="x"===w?Ze:Ve,ee="x"===w?Ge:He,te=O[S],re="y"===S?"height":"width",ne=te+m[Q],oe=te-m[ee],ie=-1!==[Ze,Ve].indexOf(v),ae=null!=(X=null==j?void 0:j[S])?X:0,ce=ie?ne:te-P[re]-k[re]-ae+E.altAxis,se=ie?te+P[re]+k[re]-ae-E.altAxis:oe,ue=d&&ie?function(e,t,r){var n=jt(e,t,r);return n>r?r:n}(ce,te,se):jt(d?ce:ne,te,d?se:oe);O[S]=ue,x[S]=ue-te}t.modifiersData[n]=x}},requiresIfExists:["offset"]};function Ct(e,t,r){return void 0===r&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function Tt(e){return[Ze,He,Ge,Ve].some((function(t){return e[t]>=0}))}var Rt=st({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,r=e.instance,n=e.options,o=n.scroll,i=void 0===o||o,a=n.resize,c=void 0===a||a,s=we(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&u.forEach((function(e){e.addEventListener("scroll",r.update,ut)})),c&&s.addEventListener("resize",r.update,ut),function(){i&&u.forEach((function(e){e.removeEventListener("scroll",r.update,ut)})),c&&s.removeEventListener("resize",r.update,ut)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,r=e.name;t.modifiersData[r]=dt({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,r=e.options,n=r.gpuAcceleration,o=void 0===n||n,i=r.adaptive,a=void 0===i||i,c=r.roundOffsets,s=void 0===c||c,u={placement:lt(t.placement),variation:ft(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,yt(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:s})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,yt(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},mt,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,r=e.options,n=e.name,o=r.offset,i=void 0===o?[0,0]:o,a=nt.reduce((function(e,r){return e[r]=function(e,t,r){var n=lt(e),o=[Ve,Ze].indexOf(n)>=0?-1:1,i="function"==typeof r?r(Object.assign({},t,{placement:e})):r,a=i[0],c=i[1];return a=a||0,c=(c||0)*o,[Ve,He].indexOf(n)>=0?{x:c,y:a}:{x:a,y:c}}(r,t.rects,i),e}),{}),c=a[t.placement],s=c.x,u=c.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=s,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=a}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var o=r.mainAxis,i=void 0===o||o,a=r.altAxis,c=void 0===a||a,s=r.fallbackPlacements,u=r.padding,l=r.boundary,f=r.rootBoundary,p=r.altBoundary,d=r.flipVariations,h=void 0===d||d,y=r.allowedAutoPlacements,m=t.options.placement,v=lt(m),b=s||(v!==m&&h?function(e){if(lt(e)===Je)return[];var t=bt(e);return[wt(e),t,wt(t)]}(m):[bt(m)]),g=[m].concat(b).reduce((function(e,r){return e.concat(lt(r)===Je?function(e,t){void 0===t&&(t={});var r=t,n=r.placement,o=r.boundary,i=r.rootBoundary,a=r.padding,c=r.flipVariations,s=r.allowedAutoPlacements,u=void 0===s?nt:s,l=ft(n),f=l?c?rt:rt.filter((function(e){return ft(e)===l})):Ke,p=f.filter((function(e){return u.indexOf(e)>=0}));0===p.length&&(p=f);var d=p.reduce((function(t,r){return t[r]=Et(e,{placement:r,boundary:o,rootBoundary:i,padding:a})[lt(r)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}(t,{placement:r,boundary:l,rootBoundary:f,padding:u,flipVariations:h,allowedAutoPlacements:y}):r)}),[]),w=t.rects.reference,S=t.rects.popper,O=new Map,P=!0,k=g[0],_=0;_<g.length;_++){var E=g[_],j=lt(E),x=ft(E)===$e,C=[Ze,Ge].indexOf(j)>=0,T=C?"width":"height",R=Et(t,{placement:E,boundary:l,rootBoundary:f,altBoundary:p,padding:u}),I=C?x?He:Ve:x?Ge:Ze;w[T]>S[T]&&(I=bt(I));var L=bt(I),M=[];if(i&&M.push(R[j]<=0),c&&M.push(R[I]<=0,R[L]<=0),M.every((function(e){return e}))){k=E,P=!1;break}O.set(E,M)}if(P)for(var A=function(e){var t=g.find((function(t){var r=O.get(t);if(r)return r.slice(0,e).every((function(e){return e}))}));if(t)return k=t,"break"},D=h?3:1;D>0&&"break"!==A(D);D--);t.placement!==k&&(t.modifiersData[n]._skip=!0,t.placement=k,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},xt,{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,r=e.state,n=e.name,o=e.options,i=r.elements.arrow,a=r.modifiersData.popperOffsets,c=lt(r.placement),s=pt(c),u=[Ve,He].indexOf(c)>=0?"height":"width";if(i&&a){var l=function(e,t){return kt("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:_t(e,Ke))}(o.padding,r),f=Ne(i),p="y"===s?Ze:Ve,d="y"===s?Ge:He,h=r.rects.reference[u]+r.rects.reference[s]-a[s]-r.rects.popper[u],y=a[s]-r.rects.reference[s],m=We(i),v=m?"y"===s?m.clientHeight||0:m.clientWidth||0:0,b=h/2-y/2,g=l[p],w=v-f[u]-l[d],S=v/2-f[u]/2+b,O=jt(g,S,w),P=s;r.modifiersData[n]=((t={})[P]=O,t.centerOffset=O-S,t)}},effect:function(e){var t=e.state,r=e.options.element,n=void 0===r?"[data-popper-arrow]":r;null!=n&&("string"!=typeof n||(n=t.elements.popper.querySelector(n)))&&St(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,r=e.name,n=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=Et(t,{elementContext:"reference"}),c=Et(t,{altBoundary:!0}),s=Ct(a,n),u=Ct(c,o,i),l=Tt(s),f=Tt(u);t.modifiersData[r]={referenceClippingOffsets:s,popperEscapeOffsets:u,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}}]}),It=__webpack_require__(56e3),Lt=__webpack_require__(37367),Mt=__webpack_require__(2038);function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const Dt=e.forwardRef((function(t,n){var o,i,a=t.children,c=t.container,s=t.disablePortal,u=void 0!==s&&s,l=(o=e.useState(null),i=2,function(e){if(Array.isArray(e))return e}(o)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(o,i)||function(e,t){if(e){if("string"==typeof e)return At(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?At(e,t):void 0}}(o,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=l[0],p=l[1],d=(0,ve.Z)(e.isValidElement(a)?a.ref:null,n);if((0,be.Z)((function(){u||p(function(e){return"function"==typeof e?e():e}(c)||document.body)}),[c,u]),(0,be.Z)((function(){if(f&&!u)return(0,Lt.Z)(n,f),function(){(0,Lt.Z)(n,null)}}),[n,f,u]),u){if(e.isValidElement(a)){var h={ref:d};return e.cloneElement(a,h)}return(0,Mt.jsx)(e.Fragment,{children:a})}return(0,Mt.jsx)(e.Fragment,{children:f?r.createPortal(a,f):f})}));var Nt=__webpack_require__(5245),Ut=__webpack_require__(46213);function Bt(e){return(0,Nt.Z)("MuiPopperUnstyled",e)}(0,Ut.Z)("MuiPopperUnstyled",["root"]);const zt=function(e){return"string"==typeof e};var Ft=__webpack_require__(82566);function qt(e){if(void 0===e)return{};var t={};return Object.keys(e).filter((function(t){return!(t.match(/^on[A-Z]/)&&"function"==typeof e[t])})).forEach((function(r){t[r]=e[r]})),t}var Wt=["elementType","externalSlotProps","ownerState"];function Zt(e){var t,r=e.elementType,n=e.externalSlotProps,o=e.ownerState,i=(0,me.Z)(e,Wt),a=function(e,t){return"function"==typeof e?e(t):e}(n,o),c=function(e){var t=e.getSlotProps,r=e.additionalProps,n=e.externalSlotProps,o=e.externalForwardedProps,i=e.className;if(!t){var a=(0,Ft.Z)(null==o?void 0:o.className,null==n?void 0:n.className,i,null==r?void 0:r.className),c=(0,ye.Z)({},null==r?void 0:r.style,null==o?void 0:o.style,null==n?void 0:n.style),s=(0,ye.Z)({},r,o,n);return a.length>0&&(s.className=a),Object.keys(c).length>0&&(s.style=c),{props:s,internalRef:void 0}}var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};var r={};return Object.keys(e).filter((function(r){return r.match(/^on[A-Z]/)&&"function"==typeof e[r]&&!t.includes(r)})).forEach((function(t){r[t]=e[t]})),r}((0,ye.Z)({},o,n)),l=qt(n),f=qt(o),p=t(u),d=(0,Ft.Z)(null==p?void 0:p.className,null==r?void 0:r.className,i,null==o?void 0:o.className,null==n?void 0:n.className),h=(0,ye.Z)({},null==p?void 0:p.style,null==r?void 0:r.style,null==o?void 0:o.style,null==n?void 0:n.style),y=(0,ye.Z)({},p,r,f,l);return d.length>0&&(y.className=d),Object.keys(h).length>0&&(y.style=h),{props:y,internalRef:p.ref}}((0,ye.Z)({},i,{externalSlotProps:a})),s=c.props,u=c.internalRef,l=(0,ve.Z)(u,null==a?void 0:a.ref,null==(t=e.additionalProps)?void 0:t.ref),f=function(e,t,r){return void 0===e||zt(e)?t:(0,ye.Z)({},t,{ownerState:(0,ye.Z)({},t.ownerState,r)})}(r,(0,ye.Z)({},s,{ref:l}),o);return f}function Gt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ht(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ht(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Vt=["anchorEl","children","component","direction","disablePortal","modifiers","open","ownerState","placement","popperOptions","popperRef","slotProps","slots","TransitionProps"],Jt=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Kt(e){return"function"==typeof e?e():e}var $t={},Yt=e.forwardRef((function(t,r){var n,o=t.anchorEl,i=t.children,a=t.component,c=t.direction,s=t.disablePortal,u=t.modifiers,l=t.open,f=t.ownerState,p=t.placement,d=t.popperOptions,h=t.popperRef,y=t.slotProps,m=void 0===y?{}:y,v=t.slots,b=void 0===v?{}:v,g=t.TransitionProps,w=(0,me.Z)(t,Vt),S=e.useRef(null),O=(0,ve.Z)(S,r),P=e.useRef(null),k=(0,ve.Z)(P,h),_=e.useRef(k);(0,be.Z)((function(){_.current=k}),[k]),e.useImperativeHandle(h,(function(){return P.current}),[]);var E=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(p,c),j=Gt(e.useState(E),2),x=j[0],C=j[1],T=Gt(e.useState(Kt(o)),2),R=T[0],I=T[1];e.useEffect((function(){P.current&&P.current.forceUpdate()})),e.useEffect((function(){o&&I(Kt(o))}),[o]),(0,be.Z)((function(){if(R&&l){var e=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:function(e){var t=e.state;C(t.placement)}}];null!=u&&(e=e.concat(u)),d&&null!=d.modifiers&&(e=e.concat(d.modifiers));var t=Rt(R,S.current,(0,ye.Z)({placement:E},d,{modifiers:e}));return _.current(t),function(){t.destroy(),_.current(null)}}}),[R,s,u,l,d,E]);var L={placement:x};null!==g&&(L.TransitionProps=g);var M=(0,It.Z)({root:["root"]},Bt,{}),A=null!=(n=null!=a?a:b.root)?n:"div",D=Zt({elementType:A,externalSlotProps:m.root,externalForwardedProps:w,additionalProps:{role:"tooltip",ref:O},ownerState:(0,ye.Z)({},t,f),className:M.root});return(0,Mt.jsx)(A,(0,ye.Z)({},D,{children:"function"==typeof i?i(L):i}))}));const Xt=e.forwardRef((function(t,r){var n,o=t.anchorEl,i=t.children,a=t.container,c=t.direction,s=void 0===c?"ltr":c,u=t.disablePortal,l=void 0!==u&&u,f=t.keepMounted,p=void 0!==f&&f,d=t.modifiers,h=t.open,y=t.placement,m=void 0===y?"bottom":y,v=t.popperOptions,b=void 0===v?$t:v,g=t.popperRef,w=t.style,S=t.transition,O=void 0!==S&&S,P=t.slotProps,k=void 0===P?{}:P,_=t.slots,E=void 0===_?{}:_,j=(0,me.Z)(t,Jt),x=Gt(e.useState(!0),2),C=x[0],T=x[1];if(!p&&!h&&(!O||C))return null;if(a)n=a;else if(o){var R=Kt(o);n=R&&void 0!==R.nodeType?(0,ge.Z)(R).body:(0,ge.Z)(null).body}var I=h||!p||O&&!C?void 0:"none",L=O?{in:h,onEnter:function(){T(!1)},onExited:function(){T(!0)}}:void 0;return(0,Mt.jsx)(Dt,{disablePortal:l,container:n,children:(0,Mt.jsx)(Yt,(0,ye.Z)({anchorEl:o,direction:s,disablePortal:l,modifiers:d,ref:r,open:O?!C:h,placement:m,popperOptions:b,popperRef:g,slotProps:k,slots:E},j,{style:(0,ye.Z)({position:"fixed",top:0,left:0,display:I},w),TransitionProps:L,children:i}))})}));var Qt=__webpack_require__(61945),er=__webpack_require__(49917),tr=__webpack_require__(47186),rr=["components","componentsProps","slots","slotProps"],nr=(0,er.ZP)(Xt,{name:"MuiPopper",slot:"Root",overridesResolver:function(e,t){return t.root}})({});const or=e.forwardRef((function(e,t){var r,n=(0,Qt.Z)(),o=(0,tr.Z)({props:e,name:"MuiPopper"}),i=o.components,a=o.componentsProps,c=o.slots,s=o.slotProps,u=(0,he.Z)(o,rr),l=null!=(r=null==c?void 0:c.root)?r:null==i?void 0:i.Root;return(0,Mt.jsx)(nr,(0,de.Z)({direction:null==n?void 0:n.direction,slots:{root:l},slotProps:null!=s?s:a},u,{ref:t}))}));function ir(e){return ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ir(e)}function ar(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ar(Object(r),!0).forEach((function(t){sr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ar(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sr(e,t,r){return(t=lr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ur(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lr(n.key),n)}}function lr(e){var t=function(e,t){if("object"!==ir(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ir(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ir(t)?t:String(t)}function fr(e,t){return fr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fr(e,t)}function pr(e){return pr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pr(e)}var dr=z().requireLib("boot").PydioContextConsumer,hr=__webpack_require__(39455),yr=hr.Paper,mr=hr.FlatButton,vr=z().requireLib("hoc").ModernTextField,br=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fr(e,t)}(c,e);var r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=pr(o);if(i){var r=pr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ir(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),a.call(this,e)}return r=c,(n=[{key:"submit",value:function(){var e;this.state&&this.state.value&&(e=this.state.value);var t=z().getMessages();e&&e!==this.props.node.getLabel()?e&&e.indexOf("/")>-1?this.setState({errorString:t["filename.forbidden.slash"]}):(this.props.callback(e),this.props.onClose()):this.setState({errorString:t["rename.newvalue.error.similar"]})}},{key:"catchClicks",value:function(e){e.stopPropagation()}},{key:"onKeyDown",value:function(e){e.stopPropagation(),"Enter"===e.key?this.submit():this.setState({errorString:""})}},{key:"render",value:function(){var e=this,r=z().getMessages(),n=this.props,o=n.node,i=n.onClose,a=n.anchor,c=n.muiTheme,s=n.editorStyle,u=void 0===s?{}:s;return t().createElement(or,{id:"rename-popper:"+o.getPath(),open:!0,anchorEl:a,placement:"bottom-start"},t().createElement(yr,{style:cr({padding:8,fontWeight:"initial",background:c.palette.mui3?c.palette.mui3["surface-2"]:"white"},u),zDepth:2},t().createElement(vr,{ref:this.text,defaultValue:o.getLabel(),onChange:function(t,r){e.setState({value:r})},onClick:this.catch,onDoubleClick:function(t){return e.catchClicks(t)},tabIndex:"0",onKeyDown:function(t){return e.onKeyDown(t)},errorText:this.state?this.state.errorString:null,selectBaseOnMount:!0}),t().createElement("div",{style:{textAlign:"right",paddingTop:8}},t().createElement(mr,{label:r[54],onClick:i}),t().createElement(mr,{label:r[48],onClick:function(){return e.submit()}}))))}}])&&ur(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(t().Component);function gr(e){return gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gr(e)}function wr(){return wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wr.apply(this,arguments)}function Sr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_r(n.key),n)}}function Or(e,t){return Or=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Or(e,t)}function Pr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kr(e){return kr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kr(e)}function _r(e){var t=function(e,t){if("object"!==gr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==gr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===gr(t)?t:String(t)}br=dr((0,V.muiThemeable)()(br));var Er=function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=function(o){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Or(e,t)}(l,o);var i,a,c,s,u=(c=l,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=kr(c);if(s){var r=kr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===gr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pr(e)}(this,e)});function l(){var e,t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=Pr(e=u.call.apply(u,[this].concat(i))),n={edit:!1},(r=_r(r="state"))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,e}return i=l,(a=[{key:"attach",value:function(e){var t=this;this._nodeListener=function(){t.forceUpdate()},this._actionListener=function(e){return e&&"prompt-rename"===e.type&&e.callback&&t.setState({edit:!0,callback:e.callback}),!0},e.observe("node_replaced",this._nodeListener),e.observe("node_action",this._actionListener)}},{key:"detach",value:function(e){this._nodeListener&&(e.stopObserving("node_replaced",this._nodeListener),e.stopObserving("node_action",this._actionListener))}},{key:"getNode",value:function(){return n?n(this.props):this.props.node}},{key:"componentDidMount",value:function(){this.attach(this.getNode())}},{key:"componentWillUnmount",value:function(){this.detach(this.getNode())}},{key:"render",value:function(){var n=this,o=this.getNode(),i=this.state,a=i.edit,c=i.editorStyle,s=i.callback,u=i.anchor;return t().createElement(e.Fragment,null,t().createElement(r,wr({},this.props,{setInlineEditionAnchor:function(e,t){n.setState({anchor:e,editorStyle:t})}})),a&&u&&t().createElement(br,{node:o,anchor:u,onClose:function(){return n.setState({edit:!1})},callback:s,editorStyle:c}))}}])&&Sr(i.prototype,a),Object.defineProperty(i,"prototype",{writable:!1}),l}(t().Component);return o};function jr(){return jr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jr.apply(this,arguments)}var xr=z().requireLib("boot").moment;const Cr=Er((function(r){var n=r.node,o=r.renderActions,i=r.tableKeys,a=(0,e.useRef)(null);(0,e.useEffect)((function(){var e=r.setInlineEditionAnchor;e&&a.current&&e(a.current,{marginLeft:44})}),[n,i]);var c=r.actions;o&&(c=o(n));var s=[],u=!0,l=n.getMetadata();return Object.keys(i).forEach((function(e){var r,o,c=i[e],f=c.width?{width:c.width}:null;if(c.renderCell)c.name=e,r=c.renderCell(n,c);else if("ajxp_modiftime"===e){var p=xr(1e3*parseFloat(l.get("ajxp_modiftime"))),d=p.calendar();d.indexOf("/")>-1&&(d=p.fromNow()),r=d}else r="bytesize"===e?parseInt(l.get(e))?pe().roundFileSize(parseInt(l.get(e))):"-":l.get(e);o=l.get(e);var h=null;u&&(h=a),s.push(t().createElement("span",{key:e,className:"cell cell-"+e,title:o,style:f,"data-label":c.label,ref:h},r)),u=!1})),t().createElement(le,jr({},r,{iconCell:null,firstLine:s,actions:c}))}));function Tr(e){return Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tr(e)}function Rr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ir(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Tr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Tr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Tr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Lr={pydioActionsToItems:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=[],n=!1,o=z().getMessages();return t.map(function(t){if(t.separator){if(n)return;return r.push(t),void(n=!0)}var i;n=!1,i=t.label_id&&o[t.label_id]?o[t.label_id]:t.raw_name?t.raw_name:t.name;var a=t.icon_class;if(t.subMenu){var c=t.subMenuBeforeShow?e(t.subMenuBeforeShow()):t.subMenu;r.push({text:i,iconClassName:a,subItems:c})}else r.push({text:i,iconClassName:a,payload:t.callback})}.bind(this)),n&&(r=r.slice(0,r.length-1)),r.length&&r[0]&&r[0].separator&&r.shift(),r},itemsToMenu:function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rr(Object(r),!0).forEach((function(t){Ir(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({display:"normal",width:216,desktop:!0,autoWidth:!1},o);var i=t.map((function(t,n){if(t.separator)return React.createElement(v.Divider,{key:"divider"+n});if(t.subHeader)return React.createElement(v.Subheader,{style:{marginTop:-10,marginBottom:-6}},t.subHeader);var i,a,c,s;t.subItems?i=e(t.subItems,r,!0):t.payload&&(a=function(){t.payload(),r()});var u=t.iconClassName,l=!1;return"__INSET__"===u&&(u="",l=!0),"normal"===o.display?c=u?React.createElement(v.FontIcon,{className:t.iconClassName+" menu-icons",style:{fontSize:16,padding:5}}):null:"right"===o.display&&(s=u?React.createElement(v.FontIcon,{className:t.iconClassName+" menu-icons",style:{fontSize:16,padding:5}}):null),s=i&&i.length?React.createElement(v.FontIcon,{className:"mdi mdi-menu-right menu-icons"}):s,React.createElement(v.MenuItem,{key:t.text,primaryText:t.text,insetChildren:l,leftIcon:c,rightIcon:s,onClick:a,menuItems:i})}));return n?i:React.createElement(v.Menu,o,i)}},Mr=require("lodash");function Ar(e){return Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ar(e)}function Dr(){return Dr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dr.apply(this,arguments)}function Nr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==Ar(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ar(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===Ar(o)?o:String(o)),n)}var o}function Ur(e,t){return Ur=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ur(e,t)}function Br(e){return Br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Br(e)}var zr=__webpack_require__(16689),Fr=__webpack_require__(580),qr=__webpack_require__(2282);const Wr=function(e){var t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ur(e,t)}(c,t);var r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Br(o);if(i){var r=Br(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ar(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(r=a.call(this,e,t)).state={menuItems:r.props.menuItems||[]},r}return r=c,(n=[{key:"componentDidMount",value:function(){var e=this;this.props.controller&&!this.props.menuItems&&(this._observer=(0,Mr.debounce)((function(){var t=e.props.controller.getContextActions("genericContext",null,e.props.toolbars),r=Lr.pydioActionsToItems(t);e.setState({menuItems:r})}),50),this.props.controller===this.props.pydio.Controller?this.props.pydio.observe("actions_refreshed",this._observer):this.props.controller.observe("actions_refreshed",this._observer),this._observer())}},{key:"componentWillUnmount",value:function(){this._observer&&(this.props.controller===this.props.pydio.Controller?this.props.pydio.stopObserving("actions_refreshed",this._observer):this.props.controller.stopObserving("actions_refreshed",this._observer))}},{key:"componentWillReceiveProps",value:function(e){e.menuItems&&e.menuItems!==this.props.menuItems&&this.setState({menuItems:e.menuItems})}},{key:"render",value:function(){return zr.createElement(e,Dr({},this.props,{menuItems:this.state.menuItems}))}}])&&Nr(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(zr.Component);return t.propTypes={menuItems:Fr.array,toolbars:Fr.array,controller:Fr.instanceOf(qr),pydio:Fr.instanceOf(Pydio)},t};function Zr(e){return Zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zr(e)}function Gr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==Zr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Zr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===Zr(o)?o:String(o)),n)}var o}function Hr(e,t){return Hr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Hr(e,t)}function Vr(e){return Vr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vr(e)}var Jr=__webpack_require__(580),Kr=__webpack_require__(16689),$r=z().requireLib("hoc").ThemedContainers,Yr=$r.Popover,Xr=$r.IconButton,Qr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hr(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Vr(n);if(o){var r=Vr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Zr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e,t)).state={showMenu:!1},r}return t=a,(r=[{key:"showMenu",value:function(e){this.setState({showMenu:!0,anchor:e.currentTarget})}},{key:"closeMenu",value:function(e,t,r){this.setState({showMenu:!1})}},{key:"render",value:function(){var e=this,t=this.props,r=t.menuItems,n=t.className,o=t.buttonTitle,i=t.buttonClassName,a=t.containerStyle,c=t.style,s=t.buttonStyle,u=t.popoverDirection,l=t.popoverTargetPosition,f=t.menuProps;return r.length?Kr.createElement("span",{className:"toolbars-button-menu "+(n||""),style:a},Kr.createElement(Xr,{ref:"menuButton",tooltip:o,iconClassName:i,onClick:this.showMenu.bind(this),iconStyle:s,style:c}),Kr.createElement(Yr,{open:this.state.showMenu,anchorEl:this.state.anchor,anchorOrigin:{horizontal:u||"right",vertical:l||"bottom"},targetOrigin:{horizontal:u||"right",vertical:"top"},onRequestClose:function(){e.setState({showMenu:!1})},useLayerForClickAway:!1},Lr.itemsToMenu(r,this.closeMenu.bind(this),!1,f||void 0))):null}}])&&Gr(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(Kr.Component);Qr.propTypes={buttonTitle:Jr.string.isRequired,buttonClassName:Jr.string.isRequired,className:Jr.string,popoverDirection:Jr.oneOf(["right","left"]),popoverPosition:Jr.oneOf(["top","bottom"]),menuProps:Jr.object,menuItems:Jr.array.isRequired};const en=Wr(Qr);function tn(e){return tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tn(e)}function rn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==tn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==tn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===tn(o)?o:String(o)),n)}var o}function nn(e,t){return nn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nn(e,t)}function on(e){return on=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},on(e)}var an=z().requireLib("boot").PydioContextConsumer,cn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nn(e,t)}(c,e);var r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=on(o);if(i){var r=on(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===tn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),a.apply(this,arguments)}return r=c,n=[{key:"onMenuClicked",value:function(e){this.props.columnClicked(e.payload)}},{key:"onHeaderClick",value:function(e,t){var r=this.props.tableKeys[e];r&&r.sortType&&this.props.columnClicked&&(r.name=e,this.props.columnClicked(r,t))}},{key:"getColumnsItems",value:function(e){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=function(){n&&n.notify("actions_refreshed")},i=this.props,a=i.tableKeys,c=i.sortingInfo;return Object.keys(a).map((function(n){var i,s,u=a[n],l=u.width?{width:u.width}:null,f="cell header_cell cell-"+n;return u.sortType&&(f+=" sortable",c&&(c.attribute===n||c.remote&&u.remoteSortAttribute&&c.attribute===u.remoteSortAttribute)&&(i="asc"===c.direction?"mdi mdi-sort-ascending":"mdi mdi-sort-descending",f+=" active-sort-"+c.direction,s=!0)),"menu"===e?(u.name=n,{payload:u,text:u.label,iconClassName:i}):"menu_data"===e?{name:t().createElement("span",{style:{display:"flex"}},t().createElement("span",{style:{flex:1,fontWeight:s?500:"inherit"}},u.label),s&&t().createElement("span",{className:"mdi mdi-checkbox-marked-circle-outline"})),callback:function(){r.onHeaderClick(n,o)},icon_class:i||("number"===u.sortType?"mdi mdi-sort-numeric":"mdi mdi-sort-alphabetical")}:t().createElement("span",{key:n,className:f,style:l,onClick:function(){r.onHeaderClick(n,o)}},u.label)}))}},{key:"buildSortingMenuItems",value:function(e){return this.getColumnsItems("menu_data",e)}},{key:"componentDidMount",value:function(){var e=new Action({name:"sort_action",icon_class:"mdi mdi-sort-descending",text_id:450,title_id:450,text:this.props.getMessage(450),title:this.props.getMessage(450),hasAccessKey:!1,subMenu:!0,subMenuUpdateImage:!0,weight:50},{selection:!1,dir:!0,actionBar:!0,actionBarGroup:"display_toolbar",contextMenu:!1,infoPanel:!1},{},{},{dynamicBuilder:this.buildSortingMenuItems.bind(this)}),t=new Map;t.set("sort_action",e),this.props.pydio.getController().updateGuiActions(t)}},{key:"componentWillUnmount",value:function(){this.props.pydio.getController().deleteFromGuiActions("sort_action")}},{key:"render",value:function(){var e=this;return"hidden"===this.props.displayMode?null:"menu"===this.props.displayMode?t().createElement(en,{buttonTitle:"Sort by...",buttonClassName:"mdi mdi-sort-descending",menuItems:this.getColumnsItems("menu",this.props.pydio.getController()),onMenuClicked:function(t){return e.onMenuClicked(t)}}):t().createElement("div",{className:"mui-toolbar-group mui-left"},this.getColumnsItems("header",this.props.pydio.getController()))}}],n&&rn(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(t().Component);function sn(e){return sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sn(e)}function un(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ln(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?un(Object(r),!0).forEach((function(t){fn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):un(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fn(e,t,r){return(t=dn(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dn(n.key),n)}}function dn(e){var t=function(e,t){if("object"!==sn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==sn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===sn(t)?t:String(t)}function hn(e,t){return hn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hn(e,t)}function yn(e){return yn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yn(e)}cn=an(cn);var mn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hn(e,t)}(c,e);var r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=yn(o);if(i){var r=yn(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===sn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).state={node:t.props.node},t}return r=c,(n=[{key:"componentDidMount",value:function(){var e=this;if(!this.props.node){var t=this.props.dataModel;this._dmObserver=function(){e.setState({node:t.getContextNode()})},t.observe("context_changed",this._dmObserver),this.setState({node:t.getContextNode()})}}},{key:"componentWillUnmount",value:function(){this._dmObserver&&this.props.dataModel.stopObserving("context_changed",this._dmObserver)}},{key:"changePage",value:function(e){this.state.node.getMetadata().get("paginationData").set("new_page",e.currentTarget.getAttribute("data-page")),this.props.dataModel.requireContextChange(this.state.node)}},{key:"onMenuChange",value:function(e,t,r){this.state.node.getMetadata().get("paginationData").set("new_page",r),this.props.dataModel.requireContextChange(this.state.node)}},{key:"render",value:function(){var e=this,r=this.state.node,n=this.props,o=n.toolbarDisplay,i=n.toolbarColor,a=n.smallDisplay,c=n.style,s=n.menuStyle,u=n.id;if(!r||!r.getMetadata().get("paginationData"))return null;for(var l,f,p,d,h,y=r.getMetadata().get("paginationData"),m=parseInt(y.get("current")),b=parseInt(y.get("total")),g=[],w=z().getMessages()[331],S=1;S<=b;S++)g.push(t().createElement(v.MenuItem,{value:S,primaryText:w+" "+S+(S===m?" / "+b:"")}));return g.length<=1?null:(o&&(i&&(p={color:i}),a&&(d={fontSize:13},h={fontSize:20})),f=t().createElement(v.IconButton,{onClick:function(){e.onMenuChange(null,0,m-1)},iconClassName:"mdi mdi-chevron-left",disabled:1===m,iconStyle:ln(ln({},p),h),style:a?{marginRight:-10,marginTop:-2,width:40,height:40}:null}),l=t().createElement(v.IconButton,{onClick:function(){e.onMenuChange(null,0,m+1)},iconClassName:"mdi mdi-chevron-right",disabled:m===b,style:a?{marginLeft:-40,marginTop:-2,width:40,height:40}:{marginLeft:-20},iconStyle:ln(ln({},p),h)}),t().createElement("div",{id:u,style:ln({display:"flex",alignItems:"center"},c)},f,t().createElement(v.DropDownMenu,{style:{width:150,marginTop:-6},onChange:this.onMenuChange.bind(this),value:m,underlineStyle:{display:"none"},labelStyle:ln(ln({},p),d),menuStyle:s},g),l))}}])&&pn(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(t().Component);function vn(e){return vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vn(e)}function bn(){return bn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bn.apply(this,arguments)}function gn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==vn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==vn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===vn(o)?o:String(o)),n)}var o}function wn(e,t){return wn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wn(e,t)}function Sn(e){return Sn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sn(e)}var On=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wn(e,t)}(c,e);var r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Sn(o);if(i){var r=Sn(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===vn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),a.apply(this,arguments)}return r=c,(n=[{key:"render",value:function(){var e;return this.props.node.getMetadata().get("paginationData")&&this.props.node.getMetadata().get("paginationData").get("total")>1&&(e=t().createElement(mn,{dataModel:this.props.dm,node:this.props.node})),t().createElement("div",{className:"mui-toolbar toolbarTableHeader"},t().createElement(cn,bn({displayMode:"tableHeader"},this.props,{columnClicked:this.props.onHeaderClick})),t().createElement("div",{className:"mui-toolbar-group mui-right"},e,t().createElement(v.FontIcon,{key:1,title:z().getMessages[149],className:"mdi mdi-refresh"+(this.props.loading?" rotating":""),onClick:this.props.reload,style:{padding:16,display:"block",cursor:"pointer",fontSize:24,color:"#9E9E9E"}}),this.props.additionalActions))}}])&&gn(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(t().Component),Pn=__webpack_require__(56880),kn=__webpack_require__.n(Pn);const _n=require("pydio/model/node");var En=__webpack_require__.n(_n);function jn(e){return jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jn(e)}function xn(){return xn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xn.apply(this,arguments)}function Cn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==jn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==jn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===jn(o)?o:String(o)),n)}var o}function Tn(e,t){return Tn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Tn(e,t)}function Rn(e){return Rn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rn(e)}var In=z().requireLib("hoc").NativeFileDropProvider,Ln=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tn(e,t)}(c,e);var r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Rn(o);if(i){var r=Rn(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===jn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),a.apply(this,arguments)}return r=c,n=[{key:"render",value:function(){var e,r,n,o=this.props,i=o.secondLine,a=o.thirdLine,c=o.style,s=void 0===c?{}:c,u=o.actions,l=this.props,f=l.renderIcon,p=l.node,d=l.renderFirstLine,h=l.renderSecondLine,y=l.renderThirdLine,m=l.renderActions,b=l.isOver;if(f)e=f(p,this.props);else{var g=p.getMetadata().get("icon_class")?p.getMetadata().get("icon_class"):p.isLeaf()?"mdi mdi-file":"mdi mdi-folder";e=t().createElement(v.FontIcon,{className:g})}if(r=d?d(this.props.node):p.getLabel(),h&&(i=h(p)),y&&(a=y(p)),m&&(u=m(p)),p.isLeaf()&&p.getMetadata().has("mime")&&z().getInstance().getController().getActionByName("download")){var w=p.getMetadata().get("mime");n=function(e){try{kn().getClient().buildPresignedGetUrl(p).then((function(t){e.dataTransfer.setData("DownloadURL",w+":"+p.getLabel()+":"+t)}))}catch(e){console.error("Cannot set dataTransfer",e)}}}return t().createElement(le,xn({},this.props,{iconCell:e,firstLine:r,secondLine:i,thirdLine:a,actions:u,style:s,nativeIsOver:b,onDragStart:n}))}}],n&&Cn(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(t().Component);Ln.propTypes={node:U().instanceOf(En()),renderIcon:U().func,renderFirstLine:U().func,renderSecondLine:U().func,renderThirdLine:U().func,renderActions:U().func,style:U().object};var Mn=In(Ln=Er(Ln),(function(e,t,r){var n=__webpack_require__.g,o=n.pydio,i=n.UploaderModel,a=r.node;if("true"!==a.getMetadata().get("node_readonly")&&"true"!==a.getMetadata().get("level_readonly")){var c=i.Store.getInstance();c.handleDropEventResults(e,t,a),c.getAutoStart()&&!o.Parameters.get("MINISITE")||o.getController().fireAction("upload")}else o.UI.displayMessage("ERROR","You are not allowed to upload files here")}));function An(e){return An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},An(e)}function Dn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bn(n.key),n)}}function Nn(e,t){return Nn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Nn(e,t)}function Un(e){return Un=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Un(e)}function Bn(e){var t=function(e,t){if("object"!==An(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==An(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===An(t)?t:String(t)}var zn,Fn,qn,Wn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nn(e,t)}(c,e);var r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Un(o);if(i){var r=Un(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===An(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),a.apply(this,arguments)}return r=c,(n=[{key:"clickAction",value:function(e){var t=z().getInstance(),r=e.currentTarget.getAttribute("data-action"),n=this.props,o=n.dataModel,i=n.node;o.setSelectedNodes([i]);var a=t.Controller.getActionByName(r);a.fireContextChange(o,!0,t.user),a.apply([o]),e.stopPropagation(),e.preventDefault()}},{key:"render",value:function(){var e=this.props.actions.map(function(e){var r=this;return t().createElement("div",{key:e.options.name,className:e.options.icon_class+" material-list-action-inline"||0,title:e.options.title,"data-action":e.options.name,onClick:function(e){return r.clickAction(e)}})}.bind(this));return t().createElement("span",null,e)}}])&&Dn(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(t().Component);function Zn(e){return Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zn(e)}function Gn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Hn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gn(Object(r),!0).forEach((function(t){Vn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vn(e,t,r){return(t=Kn(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kn(n.key),n)}}function Kn(e){var t=function(e,t){if("object"!==Zn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Zn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Zn(t)?t:String(t)}function $n(e,t){return $n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$n(e,t)}function Yn(e){return Yn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yn(e)}zn=Wn,Fn="propTypes",qn={dataModel:U().instanceOf(o.PydioDataModel).isRequired,node:U().instanceOf(_n.Node).isRequired,actions:U().array},(Fn=Bn(Fn))in zn?Object.defineProperty(zn,Fn,{value:qn,enumerable:!0,configurable:!0,writable:!0}):zn[Fn]=qn;var Xn=__webpack_require__(16689).Component,Qn=__webpack_require__(39455),eo=Qn.FlatButton,to=Qn.FontIcon,ro=__webpack_require__(13173).muiThemeable,no=__webpack_require__(39105),oo=__webpack_require__(580),io=__webpack_require__(10757),ao=io.requireLib("boot").PydioContextConsumer,co=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$n(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Yn(n);if(o){var r=Yn(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Zn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,e,t)}return t=a,r=[{key:"render",value:function(){var e=this.props,t=e.style,r=e.iconClassName,n=e.primaryTextId,o=e.secondaryTextId,i=e.actionLabelId,a=e.actionCallback,c=e.actionStyle,s=e.actionIconClassName,u=e.getMessage,l=e.iconStyle,f=e.legendStyle,p=e.muiTheme,d=no(p.palette.mui3.outline||"#aaa"),h={container:Hn({display:"flex",alignItems:"center",justifyContent:"center",height:"100%",width:"100%",flex:1,backgroundColor:d.lightness(97).rgb().toString()},t),centered:{maxWidth:280,textAlign:"center",color:d.toString()},icon:Hn({fontSize:100},l),primaryText:Hn({fontSize:16,fontWeight:500},f),secondaryText:{marginTop:20,fontSize:13},buttonContainer:{marginTop:100,textAlign:"center"},buttonStyle:{color:p.palette.mui3.primary}},y=s?React.createElement(to,{className:s}):null;return React.createElement("div",{style:h.container},React.createElement("div",{style:h.centered},React.createElement("div",{className:r,style:h.icon}),React.createElement("div",{style:h.primaryText},u(n)),o&&React.createElement("div",{style:h.secondaryText},u(o)),i&&a&&React.createElement("div",{style:Hn(Hn({},h.buttonContainer),c)},React.createElement(eo,{style:h.buttonStyle,label:u(i),onClick:a,icon:y}))))}}],r&&Jn(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(Xn);co.propTypes={pydio:oo.instanceOf(io).isRequired,iconClassName:oo.string.isRequired,primaryTextId:oo.string.isRequired,secondaryTextId:oo.string,actionLabelId:oo.string,actionCallback:oo.func,actionStyle:oo.object,style:oo.object,iconStyle:oo.object,legendStyle:oo.object,getMessage:oo.func},co=ao(co),co=ro()(co);var so=z().requireLib("hoc"),uo=so.PlaceHolder,lo=so.PhRoundShape,fo=so.PhTextRow;function po(e){var r,n=e.displayMode,o=e.elementHeight,i=e.tableKeys,a=[];if("grid"===n){var c=Math.max(40,o);r=t().createElement("div",{style:{width:c,height:c,display:"flex",flexDirection:"column",alignItems:"center",margin:2}},t().createElement("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"}},t().createElement(lo,{style:{width:40,height:40,borderRadius:6}})),t().createElement(fo,{style:{fontSize:20}}));for(var s=0;s<10;s++)a.push(r);a=t().createElement("div",{style:{display:"flex",flexWrap:"wrap"}},a)}else if(i){r=t().createElement("div",{style:{width:"100%",display:"flex",alignItems:"baseline",height:42,borderBottom:"1px solid rgba(0,0,0,.03)"}},Object.keys(i).map((function(e){return"ajxp_label"===e?t().createElement("span",{className:"cell cell-"+e,style:{display:"flex",fontSize:16,paddingTop:6,marginBottom:2,paddingLeft:16,paddingRight:10}},t().createElement(fo,{style:{display:"inline-block",width:16,marginRight:16}}),t().createElement(fo,{style:{flex:1}})):t().createElement("span",{className:"cell cell-"+e,style:{display:"inline-block",paddingTop:6,marginBottom:2,paddingLeft:10,paddingRight:10}},t().createElement(fo,null))})));for(var u=0;u<5;u++)a.push(r)}else{r=t().createElement("div",{style:{display:"flex",padding:"0 16px",alignItems:"center",height:o,borderBottom:"1px solid rgba(0,0,0,.03)"}},t().createElement(lo,{style:{width:40,height:40,marginRight:20,borderRadius:6}}),t().createElement("div",{style:{flex:1}},t().createElement(fo,{style:{fontSize:16,width:"80%",marginTop:0}}),t().createElement(fo,{style:{fontSize:13,width:"70%"}})));for(var l=0;l<5;l++)a.push(r)}return t().createElement(uo,{showLoadingAnimation:!0,customPlaceholder:a})}function ho(e,t){if(e.getMetadata().has("local:pinSort")&&!t.getMetadata().has("local:pinSort"))return-1;if(t.getMetadata().has("local:pinSort")&&!e.getMetadata().has("local:pinSort"))return 1;if(e.isRecycle())return 1;if(t.isRecycle())return-1;var r=e.isLeaf(),n=t.isLeaf(),o=r&&!n?1:!r&&n?-1:0;return 0===o?e.getLabel().localeCompare(t.getLabel(),void 0,{numeric:!0}):o}var yo=function(){},mo="undefined"!=typeof window;const vo=mo?e.useLayoutEffect:e.useEffect;var bo={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};const go=mo&&void 0!==window.ResizeObserver?function(){var t=(0,e.useState)(null),r=t[0],n=t[1],o=(0,e.useState)(bo),i=o[0],a=o[1],c=(0,e.useMemo)((function(){return new window.ResizeObserver((function(e){if(e[0]){var t=e[0].contentRect,r=t.x,n=t.y,o=t.width,i=t.height,c=t.top,s=t.left,u=t.bottom,l=t.right;a({x:r,y:n,width:o,height:i,top:c,left:s,bottom:u,right:l})}}))}),[]);return vo((function(){if(r)return c.observe(r),function(){c.disconnect()}}),[r]),[n,i]}:function(){return[yo,bo]};function wo(e){return wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wo(e)}function So(){return So=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},So.apply(this,arguments)}function Oo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Po(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oo(Object(r),!0).forEach((function(t){ko(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ko(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==wo(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==wo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===wo(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _o(e,t){if(e){if("string"==typeof e)return Eo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Eo(e,t):void 0}}function Eo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var jo=__webpack_require__(14603),xo=__webpack_require__(14021),Co=function(e){var r,n,o=e.className,i=e.children,a=(r=go(),n=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(r,n)||_o(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=a[0],s=a[1].height;return t().createElement("div",{ref:c,className:o},i(s))},To=D()({displayName:"SimpleList",propTypes:{infiniteSliceCount:U().number,filterNodes:U().func,customToolbar:U().object,tableKeys:U().object,autoRefresh:U().number,reloadAtCursor:U().bool,clearSelectionOnReload:U().bool,observeNodeReload:U().bool,defaultGroupBy:U().string,groupByLabel:U().string,groupByValueFunc:U().func,skipParentNavigation:U().bool,skipInternalDataModel:U().bool,delayInitialLoad:U().number,entryEnableSelector:U().func,renderCustomEntry:U().func,entryRenderIcon:U().func,entryRenderActions:U().func,entryRenderFirstLine:U().func,entryRenderSecondLine:U().func,entryRenderThirdLine:U().func,entryHandleClicks:U().func,hideToolbar:U().bool,computeActionsForNode:U().bool,multipleActions:U().array,openEditor:U().func,openCollection:U().func,elementStyle:U().object,passScrollingStateToChildren:U().bool,elementHeight:U().oneOfType([U().number,U().object]).isRequired},statics:{HEIGHT_ONE_LINE:50,HEIGHT_TWO_LINES:73,CLICK_TYPE_SIMPLE:"simple",CLICK_TYPE_DOUBLE:"double",PARENT_FOLDER_ICON:"mdi mdi-chevron-left"},getDefaultProps:function(){return{infiniteSliceCount:30,clearSelectionOnReload:!0}},getMessage:function(e){return z().getMessages()[e]||e},clickRow:function(e,t){var r;if(r=e.props?e.props.data.node:e,this.props.entryHandleClicks)this.props.entryHandleClicks(r,To.CLICK_TYPE_SIMPLE,t);else if(r.isLeaf()&&this.props.openEditor){if(!1===this.props.openEditor(r))return;var n=new Map;n.set(r,!0),this.setState({selection:n},this.rebuildLoadedElements)}else r.isLeaf()||(this.props.openCollection?this.props.openCollection(r):this.props.dataModel.setSelectedNodes([r]))},doubleClickRow:function(e,t){var r;r=e.props?e.props.data.node:e,this.props.entryHandleClicks&&this.props.entryHandleClicks(r,To.CLICK_TYPE_DOUBLE,t)},onColumnSort:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this.props,a=i.node,c=i.pydio,s=i.defaultSortingInfo,u=i.sortingPreferenceKey,l=c.user,f=a.getMetadata(),p=f.get("paginationData");if(e.remoteSortAttribute&&p&&p.get("total")>1){var d=f.get("remoteOrder")||new Map,h="asc"===d.get("order_direction")?"desc":"asc";if(d.get("order_column")===e.remoteSortAttribute&&("asc"===h&&n||o))f.delete("remoteOrder"),this.setState({sortingInfo:null},(function(){return t.sortingInfoChange({})}));else{var y=new Map;y.set("order_column",e.remoteSortAttribute),y.set("order_direction",h),f.set("remoteOrder",y)}this.props.dataModel.requireContextChange(a,!0)}else{f.has("remoteOrder")&&f.delete("remoteOrder");var m,v=e.sortAttribute?e.sortAttribute:e.name,b=this.state.sortingInfo,g=b.attribute,w=b.direction;g===v&&w?(console.log(w,n,o,e),m=o||"desc"===w&&n?s||{}:{attribute:v,sortType:e.sortType,direction:"asc"===w?"desc":"asc"}):m={attribute:v,sortType:e.sortType,direction:"asc"},this.setState({sortingInfo:m},(function(){if(t.rebuildLoadedElements(),null!==r&&r instanceof Function&&r(),u){var e=l.getActiveRepositoryObject().getSlug(),n=l.getGUIPreference(u)||{};n[e]=m,l.setGUIPreference(u,n,!0)}t.sortingInfoChange(m)}))}},computeSelectionFromCurrentPlusTargetNode:function(e,t){var r,n,o=!1;if(!this.indexedElements)return[];for(var i=e[0],a=e[e.length-1],c=[],s=0;s<this.indexedElements.length;s++){if(void 0!==r&&c.push(this.indexedElements[s].node),this.indexedElements[s].node===t){if(void 0!==r&&void 0===n){n=s;break}r=s,o=!0,c.push(this.indexedElements[s].node)}if(this.indexedElements[s].node===i&&void 0===r&&(r=s,c.push(this.indexedElements[s].node)),this.indexedElements[s].node===a&&o){n=s;break}}return c},onKeyDown:function(e){var t,r,n=this.dm,o=this.props.elementsPerLine||1,i=e.shiftKey,a=e.key;if(!n.isEmpty()&&this.indexedElements){i&&["ArrowDown","ArrowRight","PageDown","End"].indexOf(a);var c=n.getSelectedNodes(),s=c[0],u=c[c.length-1];if("Enter"!==a){if("Delete"!==a||!z().getInstance().Controller.fireActionByKey("key_delete")){for(var l=0;l<this.indexedElements.length;l++)if(this.indexedElements[l].node===s&&(t=l),this.indexedElements[l].node===u){r=l;break}var f,p=this.indexedElements.length-1,d="PageDown"===a||"PageUp"===a?10:1;if("ArrowDown"===a||"PageDown"===a?f=Math.min(r+o*d,p):"ArrowUp"===a||"PageUp"===a?f=Math.max(t-o*d,0):"Home"===a?f=0:"End"===a&&(f=p),o>1&&("ArrowRight"===a?f=r+1:"ArrowLeft"===a&&(f=t-1)),i&&void 0!==f){var h=Math.min(t,r,f),y=Math.max(t,r,f);if(h!==y){for(var m=[],v=h;v<y+1;v++)this.indexedElements[v]&&m.push(this.indexedElements[v].node);n.setSelectedNodes(m)}}else this.indexedElements[f]&&this.indexedElements[f].node&&n.setSelectedNodes([this.indexedElements[f].node])}}else this.doubleClickRow(s)}},getInitialState:function(){this.actionsCache={multiple:new Map};var e=this.props,t=e.skipInternalDataModel,r=e.dataModel,n=e.node,o=e.infiniteSliceCount,i=e.defaultSortingInfo,a=e.pydio,c=e.sortingPreferenceKey;t?this.dm=r:(this.dm=new jo,this.dm.setRootNode(r.getContextNode()),this.dm.setContextNode(r.getContextNode()));var s=i||null;if(c&&a.user.getGUIPreference(c)){var u=a.user.getActiveRepositoryObject().getSlug(),l=a.user.getGUIPreference(c)||{};l[u]&&!l[u].remote&&(s=l[u])}var f={loaded:n.isLoaded(),loading:!n.isLoaded(),showSelector:!1,elements:n.isLoaded()?this.buildElements(0,o):[],sortingInfo:s,infiniteLoadBeginBottomOffset:200};return this.sortingInfoChange(s),f},componentWillReceiveProps:function(e){this.indexedElements=null;var t=e.infiniteSliceCount,r=e.defaultSortingInfo,n=e.node,o=e.sortingPreferenceKey,i=e.pydio,a=e.autoRefresh,c=e.elementsPerLine,s=Math.max(this.state.elements.length,t),u=this.state.sortingInfo,l=void 0===u?r:u,f=this.remoteSortingInfo(n,l);if(-1===f)l={};else if(f instanceof Object)l=f;else if(n!==this.props.node&&o&&i.user.getGUIPreference(o)){var p=i.user.getActiveRepositoryObject().getSlug(),d=i.user.getGUIPreference(o)||{};d[p]&&(l=d[p])}this.sortingInfoChange(l),this.setState({loaded:n.isLoaded(),loading:!n.isLoaded(),showSelector:!1,elements:n.isLoaded()?this.buildElements(0,s,n,e):[],infiniteLoadBeginBottomOffset:200,sortingInfo:l}),!a&&this.refreshInterval?(window.clearInterval(this.refreshInterval),this.refreshInterval=null):a&&!this.refreshInterval&&(this.refreshInterval=window.setInterval(this.reload,a)),this.patchInfiniteGrid(c),this.props.node&&n!==this.props.node&&this.observeNodeChildren(this.props.node,!0),this._manualScrollPe&&(this._manualScrollPe.stop(),this._manualScrollPe=null)},sortingInfoChange:function(e){var t=this,r=this.props,n=r.defaultSortingInfo,o=r.onSortingInfoChange;o&&(e!==n&&e.attribute?o(Po(Po({},e),{},{toggle:function(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=t.props.sortKeys,o=e.remote?{remoteSortAttribute:e.attribute}:n[e.attribute];console.log("TOGGLE",o,r),t.onColumnSort(o,null,!1,r)}})):o({}))},observeNodeChildren:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&!this._childrenObserver||(this._childrenObserver||(this._childrenObserver=function(){this.indexedElements=null,this.rebuildLoadedElements()}.bind(this)),t?(e.stopObserving("child_added",this._childrenObserver),e.stopObserving("child_removed",this._childrenObserver),e.stopObserving("child_replaced",this._childrenObserver)):(e.observe("child_added",this._childrenObserver),e.observe("child_removed",this._childrenObserver),e.observe("child_replaced",this._childrenObserver)))},_loadNodeIfNotLoaded:function(){var e=this.props.node;e.isLoaded()?this.observeNodeChildren(e):(e.observeOnce("loaded",function(){this.props.node===e&&(this.observeNodeChildren(e),this.setState({loaded:!0,loading:!1,elements:this.buildElements(0,this.props.infiniteSliceCount)}))}.bind(this)),e.load())},_loadingListener:function(){this.observeNodeChildren(this.props.node,!0),this.setState({loaded:!1,loading:!0}),this.indexedElements=null},_loadedListener:function(){var e=Math.max(this.state.elements.length,this.props.infiniteSliceCount);this.setState({loading:!1,elements:this.buildElements(0,e)}),this.observeNodeChildren(this.props.node)},reload:function(){this.props.reloadAtCursor&&this._currentCursor?this.loadStartingAtCursor():(this.props.clearSelectionOnReload&&this.props.dataModel.setSelectedNodes([]),this._loadingListener(),this.props.node.observeOnce("loaded",this._loadedListener),this.props.node.reload())},loadStartingAtCursor:function(){this._loadingListener();var e=this.props.node,t=e.getChildren(),r=[];e.observeOnce("loaded",function(){var n=new Map;r.map((function(e){n.set(e.getPath(),e)})),t.forEach((function(e){n.set(e.getPath(),e)})),e._children=n,this._loadedListener()}.bind(this)),e.setLoaded(!1),e.observe("child_added",(function(t){r.push(e._children.get(t))})),this.props.node.load(null,{cursor:this._currentCursor})},wireReloadListeners:function(){this.wrappedLoading=this._loadingListener,this.wrappedLoaded=this._loadedListener,this.props.node.observe("loading",this.wrappedLoading),this.props.node.observe("loaded",this.wrappedLoaded)},stopReloadListeners:function(){this.props.node.stopObserving("loading",this.wrappedLoading),this.props.node.stopObserving("loaded",this.wrappedLoaded)},toggleSelector:function(){this.setState({showSelector:!this.state.showSelector,selection:new Map,bulkSelectorChecked:!1},this.rebuildLoadedElements)},toggleSelection:function(e){var t=this.state.selection||new Map;t.get(e)?t.delete(e):t.set(e,!0),this.setState({selection:t,bulkSelectorChecked:!1},this.rebuildLoadedElements)},selectAll:function(e){if(e){var t=new Map;this.props.node.getChildren().forEach(function(e){this.props.filterNodes&&!this.props.filterNodes(e)||e.isLeaf()&&t.set(e,!0)}.bind(this)),this.setState({selection:t,bulkSelectorChecked:!0},this.rebuildLoadedElements)}else this.setState({selection:new Map,bulkSelectorChecked:!1},this.rebuildLoadedElements)},applyMultipleAction:function(e){if(this.state.selection&&this.state.selection.size){var t=e.currentTarget.getAttribute("data-action"),r=this.dm||new jo;r.setContextNode(this.props.node);var n=[];this.state.selection.forEach((function(e,t){n.push(t)})),r.setSelectedNodes(n);var o=this.props.pydio.Controller.getActionByName(t);o.fireContextChange(r,!0,this.props.pydio.user),o.apply([r]),e.stopPropagation(),e.preventDefault()}},getActionsForNode:function(e,t){var r=this.props,n=r.computeActionsForNode,o=r.pydio;if(!n)return[];var i=t.isLeaf()?"file-"+t.getAjxpMime():"folder",a=t.isLeaf()?"file":"dir",c=[];return this.actionsCache[i]?c=this.actionsCache[i]:(e.setSelectedNodes([t]),o.Controller.actions.forEach(function(r){r.fireContextChange(e,!0,o.user),!(r.context.selection&&r.context.actionBar&&r.selectionContext[a]&&!r.deny&&r.options.icon_class)||this.props.actionBarGroups&&-1===this.props.actionBarGroups.indexOf(r.context.actionBarGroup)||r.selectionContext.allowedMimes.length&&-1===r.selectionContext.allowedMimes.indexOf(t.getAjxpMime())||(c.push(r),t.isLeaf()&&!1===r.selectionContext.unique&&this.actionsCache.multiple.set(r.options.name,r))}.bind(this)),this.actionsCache[i]=c),c},patchInfiniteGrid:function(e){this.infinite.current&&e>1&&(this.infinite.current.state.infiniteComputer.__proto__.getDisplayIndexStart=function(t){return e*Math.floor(t/this.heightData/e)},this.infinite.current.state.infiniteComputer.__proto__.getDisplayIndexEnd=function(t){return e*Math.ceil(t/this.heightData/e)})},componentWillMount:function(){this.infinite=(0,e.createRef)()},componentDidMount:function(){var e=this;this.props.delayInitialLoad?setTimeout((function(){e._loadNodeIfNotLoaded()}),this.props.delayInitialLoad):this._loadNodeIfNotLoaded(),this.patchInfiniteGrid(this.props.elementsPerLine),this.props.autoRefresh&&(this.refreshInterval=window.setInterval(this.reload,this.props.autoRefresh)),this.props.observeNodeReload&&this.wireReloadListeners(),this.props.dataModel.observe("root_node_changed",(function(t){e.rootNodeChangedFlag=!0})),this.props.dataModel.observe("selection_changed",function(){var e=this;if(this.isMounted()){var t=new Map,r=this.props.dataModel.getSelectedNodes();r.map((function(e){t.set(e,!0)})),this.setState({selection:t},(function(){e.rebuildLoadedElements(),1===r.length&&e.scrollToView(r[0])}))}}.bind(this));var t=new Map,r=this.props.dataModel.getSelectedNodes();r.length&&(r.map((function(e){t.set(e,!0)})),this.setState({selection:t},(function(){setTimeout((function(){e.scrollToView(r[0])}),500)})))},componentWillUnmount:function(){this.refreshInterval&&window.clearInterval(this.refreshInterval),this.props.observeNodeReload&&this.stopReloadListeners(),this.props.node&&this.observeNodeChildren(this.props.node,!0)},componentDidUpdate:function(e,t){!this.rootNodeChangedFlag&&e.node&&this.props.node&&e.node.getPath()===this.props.node.getPath()||(this._loadNodeIfNotLoaded(),this.rootNodeChangedFlag=!1)},onScroll:function(e){if(this.props.onScroll&&this.props.onScroll(e),this.props.passScrollingStateToChildren){this.state.scrollTimeout&&clearTimeout(this.state.scrollTimeout);var t=this,r=setTimeout((function(){t.setState({isScrolling:!1,scrollTimeout:void 0})}),150);this.setState({isScrolling:!0,scrollTimeout:r})}},scrollToLast:function(){this.indexedElements&&this.indexedElements[this.indexedElements.length-1].node&&this.scrollToView(this.indexedElements[this.indexedElements.length-1].node)},scrollToView:function(e){var t=this;if(this.indexedElements&&this.infinite.current&&this.infinite.current.scrollable){var r=n().findDOMNode(this.infinite.current),o=this.infinite.current.scrollable,i=o.scrollTop+this.props.elementHeight/2,a=o.scrollTop+r.clientHeight-this.props.elementHeight/2,c=this.indexedElements.length*this.props.elementHeight-r.clientHeight,s=-1;if(this.indexedElements.forEach((function(t,r){t.node&&t.node===e&&(s=r)})),-1!==s){var u=this.props.elementHeight,l=s*u;l>i&&l<a||(l>=a&&(l-=r.clientHeight-2*u),l=Math.min(l,c),o.scrollTop=l,this._manualScrollPe&&this._manualScrollPe.stop(),o.scrollHeight<l&&(this._manualScrollPe=new xo((function(){o.scrollTop=l,o.scrollHeight>=l&&(t._manualScrollPe.stop(),t._manualScrollPe=null)}),.25)))}}},buildElementsFromNodeEntries:function(e,r){var n=[],o=e.length,i=this.props,a=i.entriesProps,c=i.elementStyle,s=i.tableKeys,u=i.passScrollingStateToChildren;return a=Po(Po({},a),{},{style:c}),u&&(a.parentIsScrolling=this.state.isScrolling),e.forEach(function(e,i){var c;if(e.parent)c=Po({node:e.node,key:i+":"+e.node.getPath(),id:e.node.getPath(),mainIcon:To.PARENT_FOLDER_ICON,firstLine:"..",className:"list-parent-node",secondLine:this.getMessage("react.1"),onClick:this.clickRow.bind(this),onDoubleClick:this.doubleClickRow.bind(this),showSelector:!1,selectorDisabled:!0,noHover:!1},a),this.props.entryRenderParentIcon&&!this.props.tableKeys?c.iconCell=this.props.entryRenderParentIcon(e.node,e):c.mainIcon=To.PARENT_FOLDER_ICON,s&&(c.onClick=c.onDoubleClick),n.push(t().createElement(se,c));else if(e.groupHeader){var u=e.groupHeader,l=e.groupHeaderLabel;this.props.entryRenderGroupHeader&&(l=this.props.entryRenderGroupHeader(u,l)),c=Po({node:null,key:i+":"+u,id:u,mainIcon:null,firstLine:l,className:"list-group-header",onClick:null,showSelector:!1,selectorDisabled:!0,noHover:!0},a),e.groupFill&&(c.style=Po(Po({},c.style),{},{visibility:"hidden"})),n.push(t().createElement(se,c))}else(c=Po({node:e.node,onClick:this.clickRow.bind(this),onDoubleClick:this.doubleClickRow.bind(this),onSelect:this.toggleSelection.bind(this),key:i+":"+e.node.getPath(),id:e.node.getPath(),renderIcon:this.props.entryRenderIcon,renderFirstLine:this.props.entryRenderFirstLine,renderSecondLine:this.props.entryRenderSecondLine,renderThirdLine:this.props.entryRenderThirdLine,renderActions:this.props.entryRenderActions,showSelector:r,selected:!(!this.state||!this.state.selection)&&this.state.selection.get(e.node),actions:t().createElement(Wn,{node:e.node,actions:e.actions,dataModel:this.dm}),selectorDisabled:!(this.props.entryEnableSelector?this.props.entryEnableSelector(e.node):e.node.isLeaf())},a)).isFirst=0===i,c.isLast=i===o-1,i++,this.props.renderCustomEntry?n.push(this.props.renderCustomEntry(c)):s?(this.props.defaultGroupBy?(c.tableKeys=Po({},s),delete c.tableKeys[this.props.defaultGroupBy]):c.tableKeys=s,n.push(t().createElement(Cr,c))):!e.node.isLeaf()||e.node.getMetadata().has("local:dropFunc")?n.push(t().createElement(Mn,c)):n.push(t().createElement(Ln,c))}.bind(this)),n},prepareSortFunction:function(){var e=(this.state||{}).sortingInfo;if(!e)return null;var t,r=e.attribute,n=e.direction,o=e.sortType;return t="file-natural"===o?ho:function(e,t,r){return function(n,o){if(n.getMetadata().has("local:pinSort")&&!o.getMetadata().has("local:pinSort"))return-1;if(o.getMetadata().has("local:pinSort")&&!n.getMetadata().has("local:pinSort"))return 1;var i;if("number"===t){var a=n.getMetadata().get(e)||0,c=o.getMetadata().get(e)||0;a=parseFloat(a),c=parseFloat(c),i="asc"===r?a-c:c-a}else if("string"===t){var s=n.getMetadata().get(e)||"",u=o.getMetadata().get(e)||"";i="asc"===r?s.localeCompare(u):u.localeCompare(s)}if(0===i){var l=n.getLabel().localeCompare(o.getLabel(),void 0,{numeric:!0});i="asc"===r?l:-l}return i}}(r,o,n),function(e,r){return e.parent?-1:r.parent?1:t(e.node,r.node)}},buildElements:function(e,t,r){var n,o,i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,c=r||this.props.node,s=a||this.props,u=this.prepareSortFunction();if(!this.indexedElements||this.indexedElements.length!==c.getChildren().size){this.indexedElements=[];var l,f,p,d,h=s.defaultGroupBy,y=s.groupByLabel,m=void 0!==y&&y;h&&(l={},f=[],p={}),s.skipParentNavigation||!c.getParent()||s.dataModel.getContextNode()===c&&!s.skipInternalDataModel||(o=!0,this.indexedElements.push({node:c.getParent(),parent:!0,actions:null})),c.getChildren().forEach(function(e){if(e.getMetadata().has("cursor")){var t=parseInt(e.getMetadata().get("cursor"));this._currentCursor=Math.max(this._currentCursor?this._currentCursor:0,t)}if(!s.filterNodes||s.filterNodes(e)){var r,n=this.getActionsForNode(this.dm,e);h?(r=s.groupByValueFunc?s.groupByValueFunc(e.getMetadata().get(h))||"N/A":e.getMetadata().get(h)||"N/A",l[r]||(l[r]=[],f.push(r)),m&&e.getMetadata().has(m)&&!p[r]&&(p[r]=e.getMetadata().get(m)),l[r].push({node:e,parent:!1,actions:n})):this.indexedElements.push({node:e,parent:!1,actions:n})}}.bind(this)),h&&(s.groupSkipUnique&&1===f.length?(d=this.indexedElements).push.apply(d,function(e){if(Array.isArray(e))return Eo(e)}(i=l[f[0]])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||_o(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):(n=!0,(f=f.sort()).map(function(e,t){var r=e;if(p[e]?r=p[e]:s.renderGroupLabels&&(r=s.renderGroupLabels(h,e)),this.indexedElements.push({node:null,groupHeader:e,groupHeaderLabel:r,parent:!1,actions:null}),u&&l[e].sort(u),this.indexedElements=this.indexedElements.concat(l[e]),s.elementsPerLine>1){var n=s.elementsPerLine-l[e].length%s.elementsPerLine-1;0===t&&o&&(n-=1);for(var i=0;i<n;i++)this.indexedElements.push({node:null,groupHeader:Math.random(),groupFill:!0,parent:!1,actions:null})}}.bind(this))))}return!n&&u&&this.indexedElements.sort(u),this.indexedElements.slice(e,t)},rebuildLoadedElements:function(){var e=this.buildElements(0,Math.max(this.state.elements.length,this.props.infiniteSliceCount)),t=e.length?200:0;this.setState({elements:e,infiniteLoadBeginBottomOffset:t})},handleInfiniteLoad:function(){var e=this.state.elements.length,t=this.buildElements(e,e+this.props.infiniteSliceCount),r=t.length?200:0;this.setState({isInfiniteLoading:!1,elements:this.state.elements.concat(t),infiniteLoadBeginBottomOffset:r})},remoteSortingInfo:function(e){if(!e)return null;var t=e.getMetadata(),r=t.get("paginationData")||new Map,n=t.get("remoteOrder")||new Map;return r.get("total")>1?n.has("order_column")&&n.has("order_direction")?{remote:!0,attribute:n.get("order_column"),direction:n.get("order_direction")}:-1:0},renderToolbar:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.state.sortingInfo;if(r)return this.props.sortKeys?t().createElement(cn,{displayMode:"hidden",tableKeys:this.props.sortKeys,columnClicked:this.onColumnSort,sortingInfo:n}):null;var o,i,a=[t().createElement(v.FontIcon,{key:1,tooltip:"Reload",className:"mdi mdi-reload"+(this.state.loading?" rotating":""),onClick:this.reload})],c=2;if(this.props.sortKeys&&(a.push(t().createElement(cn,{key:c,displayMode:"menu",tableKeys:this.props.sortKeys,columnClicked:this.onColumnSort,sortingInfo:n})),c++),this.props.additionalActions&&a.push(this.props.additionalActions),this.props.node.getMetadata().get("paginationData")&&this.props.node.getMetadata().get("paginationData").get("total")>1&&(i=t().createElement(mn,{dataModel:this.dm,node:this.props.node})),this.props.listTitle&&(o=t().createElement(v.ToolbarGroup,{key:0,float:"left"},t().createElement("div",{className:"list-title"},this.props.listTitle))),this.props.searchResultData)o=t().createElement(v.ToolbarGroup,{key:0,float:"left"},t().createElement("div",{style:{fontSize:12,fontWeight:500,color:"#9e9e9e"}},this.getMessage("searchengine.topbar.title")+" "+this.props.searchResultData.term)),a=t().createElement(v.RaisedButton,{key:1,label:this.getMessage("86"),primary:!0,onClick:this.props.searchResultData.toggleState,style:{marginRight:-10}});else if(this.actionsCache.multiple.size||this.props.multipleActions){var s=this.getMessage("react.2"),u={transform:"translateX(-80px)"},l=Po({width:24},u),f=Po({},u),p=this.state,d=p.showSelector,h=p.selection,y=p.bulkSelectorChecked;d&&(l={width:24,transform:"translateX(-12px)"},f={transform:"translateX(-40px)"}),h&&d&&(s+=" ("+h.size+")"),o=t().createElement(v.ToolbarGroup,{key:0,float:"left",className:"hide-on-vertical-layout"},t().createElement(v.Checkbox,{checked:y,onCheck:function(t,r){return e.selectAll(r)},style:l}),t().createElement(v.FlatButton,{label:s,onClick:function(){return e.toggleSelector()},style:f})),d&&(a=[],(this.props.multipleActions||this.actionsCache.multiple).forEach(function(e){a.push(t().createElement(v.RaisedButton,{key:0,label:e.options.text,"data-action":e.options.name,onClick:this.applyMultipleAction,primary:!0,disabled:!h||!h.size,style:{marginLeft:5}}))}.bind(this)),a=t().createElement("span",null,a))}return t().createElement(v.Toolbar,{style:this.props.toolbarStyle},o,t().createElement(v.ToolbarGroup,{key:1,float:"right"},i,a))},render:function(){var e,r,n,o=this,i="material-list vertical-layout layout-fill",a=this.props,c=a.className,s=a.showSelector,u=a.tableKeys,l=a.defaultGroupBy,f=a.dataModel,p=a.node,d=a.additionalActions,h=a.customToolbar,y=a.hideToolbar,m=a.emptyStateProps,v=a.entryHandleClicks;if(c&&(i+=" "+c),s&&(i+=" list-show-selectors"),u&&(i+=" table-mode"),u){var b;l?delete(b=Po({},u))[l]:b=this.props.tableKeys;var g=this.state,w=g.sortingInfo,S=g.loading;e=t().createElement(On,{tableKeys:b,loading:S,reload:this.reload,ref:"loading_indicator",dm:f,node:p,additionalActions:d,onHeaderClick:this.onColumnSort,sortingInfo:w})}else e=h||(y?null:this.renderToolbar()),(y||h)&&(r=this.renderToolbar(!0));if(m&&p.isLoaded()&&!p.isLoading()&&(!this.state.elements.length||1===this.state.elements.length&&this.state.elements[0].parent)){var O={};if(1===this.state.elements.length&&this.state.elements[0].parent){var P=this.state.elements[0].node;O={actionLabelId:"react.1",actionIconClassName:To.PARENT_FOLDER_ICON,actionCallback:function(e){v&&v(P,To.CLICK_TYPE_DOUBLE,e)}}}n=t().createElement(co,So({},m,O))}else m&&m.checkEmptyState&&m.checkEmptyState(p)&&(n=t().createElement(co,m));var k,_,E=this.buildElementsFromNodeEntries(this.state.elements,this.state.showSelector),j=this.props,x=j.verticalScroller,C=j.usePlaceHolder,T=E;if(!E.length&&C&&(T=t().createElement(po,this.props)),n)T=n;else if(x)k=function(e){return t().createElement(Z(),{speed:.8,horizontalScroll:!1,style:{height:e},verticalScrollbarStyle:{borderRadius:10,width:6},verticalContainerStyle:{width:8}},t().createElement("div",null,T))};else{if(u)return t().createElement("div",{className:i,tabIndex:"0",onKeyDown:this.onKeyDown,style:Po(Po({},this.props.style),{},{overflowX:"auto"})},r,t().createElement("div",{style:{display:"flex",flexDirection:"column",flex:1,height:"100%",width:"100%",minWidth:"fit-content"}},e,t().createElement(Co,{className:n?"layout-fill vertical_layout":"layout-fill"},(function(e){return t().createElement(q(),{elementHeight:o.state.elementHeight?o.state.elementHeight:o.props.elementHeight,containerHeight:e||1,infiniteLoadBeginEdgeOffset:o.state.infiniteLoadBeginBottomOffset,onInfiniteLoad:o.handleInfiniteLoad,handleScroll:o.onScroll,ref:o.infinite},T)}))));_=function(e){return t().createElement(q(),{elementHeight:o.state.elementHeight?o.state.elementHeight:o.props.elementHeight,containerHeight:e||1,infiniteLoadBeginEdgeOffset:o.state.infiniteLoadBeginBottomOffset,onInfiniteLoad:o.handleInfiniteLoad,handleScroll:o.onScroll,ref:o.infinite},k?k(e):T)}}return t().createElement("div",{className:i,tabIndex:"0",onKeyDown:this.onKeyDown,style:this.props.style},e,r,t().createElement(Co,{className:n?"layout-fill vertical_layout":"layout-fill"},_||function(e){return T}))}});function Ro(e){return Ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ro(e)}function Io(){return Io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Io.apply(this,arguments)}function Lo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Mo(n.key),n)}}function Mo(e){var t=function(e,t){if("object"!==Ro(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ro(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ro(t)?t:String(t)}function Ao(e,t){return Ao=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ao(e,t)}function Do(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function No(e){return No=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},No(e)}var Uo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ao(e,t)}(c,e);var r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=No(o);if(i){var r=No(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ro(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Do(e)}(this,e)});function c(e){var t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),r=(t=a.call(this,e)).props.presetDataModel?t.props.presetDataModel:PydioDataModel.RemoteDataModelFactory(t.props.nodeProviderProperties);var n=t.props.presetRootNode||r.getRootNode();return t.props.nodeClicked&&(t.openEditor=function(e){return this.props.nodeClicked(e),!1}.bind(Do(t)),t._selObserver=function(e){var r=e.memo.getSelectedNodes();r.length&&(t.props.nodeClicked(r[0]),e.memo.setSelectedNodes([]))},r.observe("selection_changed",t._selObserver)),t.props.reloadOnServerMessage&&t.props.pydio&&(t._smObs=function(e){XMLUtils.XPathSelectSingleNode(e,this.props.reloadOnServerMessage)&&this.reload()}.bind(Do(t)),t.props.pydio.observe("server_message",t._smObs),t.props.pydio.observe("server_message:"+t.props.reloadOnServerMessage,t.reload)),t.state={node:n,dataModel:r},t}return r=c,(n=[{key:"reload",value:function(){this.refs.list&&this.isMounted()&&this.refs.list.reload()}},{key:"componentWillUnmount",value:function(){this._smObs&&(this.props.pydio.stopObserving("server_message",this._smObs),this.props.pydio.stopObserving("server_message:"+this.props.reloadOnServerMessage,this.reload)),this._selObserver&&this.state.dataModel.stopObserving("selection_changed",this._selObserver)}},{key:"componentWillReceiveProps",value:function(e){if(this.props.nodeProviderProperties&&this.props.nodeProviderProperties!==e.nodeProviderProperties){var t=this.state,r=t.dataModel,n=t.node,o=new RemoteNodeProvider(e.nodeProviderProperties);r.setAjxpNodeProvider(o),n.updateProvider(o),this.setState({dataModel:r,node:n})}else this.props.presetDataModel!==e.presetDataModel&&this.setState({dataModel:e.presetDataModel,node:e.presetRootNode||e.presetDataModel.getRootNode()})}},{key:"render",value:function(){return t().createElement("div",{className:this.props.heightAutoWithMax?"":"layout-fill vertical-layout",style:this.props.containerStyle},t().createElement(To,Io({},this.props,{openEditor:this.openEditor,ref:"list",style:Object.assign({height:"100%"},this.props.style||{}),node:this.state.node,dataModel:this.state.dataModel,actionBarGroups:this.props.actionBarGroups,skipParentNavigation:!0,observeNodeReload:!0,hideToolbar:!0})))}}])&&Lo(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(t().Component);function Bo(){return Bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bo.apply(this,arguments)}function zo(e,t){return zo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zo(e,t)}function Fo(e){return Fo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fo(e)}function qo(e){return qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qo(e)}function Wo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Go(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zo(Object(r),!0).forEach((function(t){Ho(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ho(e,t,r){return(t=$o(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$o(n.key),n)}}function Ko(e,t,r){return t&&Jo(e.prototype,t),r&&Jo(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $o(e){var t=function(e,t){if("object"!==qo(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==qo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===qo(t)?t:String(t)}var Yo=z().requireLib("boot").moment,Xo=z().requireLib("hoc").ThemedModernStyles,Qo=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Vo(this,e),this.state=Go({},t),!t.sortCol&&n&&(this.state.sortCol=n,this.state.sortDir=o||"asc"),this.onSort=r}return Ko(e,[{key:"renderHeader",value:function(e,r){var n=this,o=this.state,i=o.sortCol,a=o.sortDir,c={cursor:"pointer",position:"relative"},s={left:-17,position:"absolute"};if(i!==e||""===a)return t().createElement("span",{onClick:function(){n.onSort(e,"asc")},style:c},r);var u=r;return"asc"===a?u=t().createElement("span",{onClick:function(){n.onSort(e,"desc")},style:c},r," ",t().createElement("span",{style:s,className:"mdi mdi-arrow-up"})):"desc"===a&&(u=t().createElement("span",{onClick:function(){n.onSort(e,"")},style:c},r," ",t().createElement("span",{style:s,className:"mdi mdi-arrow-down"}))),u}},{key:"setData",value:function(e,t){this.columns=e,this.data=t}},{key:"sorted",value:function(){var e=this.state,t=e.sortCol,r=e.sortDir;if(!t||!r)return this.data;var n,o=function(e){if(Array.isArray(e))return Wo(e)}(n=this.data)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return Wo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Wo(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=this.columns.filter((function(e){return e.name===t}))[0],a=i.sorter;return a?(o.sort((function(e,n){var o,c;return a.value?(o=a.value(e),c=a.value(n)):i.renderCell?(o=i.renderCell(e),c=i.renderCell(n)):(o=e[t],c=n[t]),"string"===a.type?(o||(o=""),c||(c=""),o=o.toLowerCase(),c=c.toLowerCase()):"number"===a.type&&(o=parseInt(o),c=parseInt(c)),"asc"===r?o>c?1:o<c?-1:0:o<c?1:o>c?-1:0})),o):this.data}}]),e}(),ei=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zo(e,t)}(i,e);var r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Fo(r);if(n){var o=Fo(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===qo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function i(e){var t;return Vo(this,i),(t=o.call(this,e)).state={},t}return Ko(i,[{key:"onRowSelection",value:function(e){var t=this.props,r=t.data,n=t.onSelectRows;if(n)if("none"===e)n([]);else if("all"===e)n(r);else{var o=r,i=this.computeSorter();i&&(o=i.sorted());var a=this.computePagination();a.use&&(o=o.slice(a.sliceStart,a.sliceEnd));var c=[];e.map((function(e){var t=o.slice(0,e).filter((function(e){return e.expandedRow})).length;t&&(e-=t),c.push(o[e])})),n(c)}}},{key:"loadStoredValue",value:function(){var e=this.props,t=e.storageKey,r=e.columns;if(!t)return null;if(!localStorage.getItem(t+".sort"))return null;try{var n=JSON.parse(localStorage.getItem(t+".sort")),o=n.col,i=n.dir;return 0===r.filter((function(e){return e.name===o})).length||-1===["asc","desc",""].indexOf(i)?null:{col:o,dir:i}}catch(e){return null}}},{key:"computeSorter",value:function(){var e,t=this,r=this.props,n=r.columns,o=r.data,i=r.storageKey,a=n.filter((function(e){return e.sorter}));if(a.length){var c,s=a[0].name,u=a.filter((function(e){return e.sorter.default})),l=this.loadStoredValue();l?(s=l.col,c=l.dir):u.length&&(s=u[0].name,u[0].sorter.defaultDir&&(c=u[0].sorter.defaultDir)),(e=new Qo(this.state,(function(e,r){t.setState({sortCol:e,sortDir:r}),i&&localStorage.setItem(i+".sort",JSON.stringify({col:e,dir:r}))}),s,c)).setData(n,o)}return e}},{key:"computePagination",value:function(){var e=this.props,t=e.data,r=e.paginate,n=e.defaultPageSize,o=e.pagination;if(o)return Go(Go({},o),{},{use:!0});if(!r||!t||!t.length)return{use:!1};var i=this.state.pageSize||n||r[0];if(t.length<=i)return{use:!1};for(var a=this.state.page,c=void 0===a?1:a,s=Math.ceil(t.length/i),u=(c-1)*i,l=Math.min(c*i,t.length),f=[],p=1;p<=s;p++)f.push(p);return{use:!0,sliceStart:u,sliceEnd:l,pages:f,page:c,pageSize:i,pageSizes:r}}},{key:"renderPagination",value:function(e){var r=this,n=this.props,o=n.data,i=n.muiTheme,a=e.page,c=e.pageSize,s=e.pages,u=e.pageSizes,l=e.sliceStart,f=e.sliceEnd,p=e.nextDisabled,d=e.prevDisabled,h=e.onPageNext,y=e.onPagePrev,m=e.onPageSizeChange;return t().createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",color:"#757575"}},u.length>1&&t().createElement("div",{style:{paddingRight:10}},z().getMessages()["material.paginator.rows"]," :"),u.length>1&&t().createElement("div",{style:{width:90}},t().createElement(v.SelectField,Bo({},Xo(i).selectField,{fullWidth:!0,value:c,onChange:function(e,t,n){m?m(n):r.setState({page:1,pageSize:n})}}),u.map((function(e){return t().createElement(v.MenuItem,{value:e,primaryText:e})})))),y&&t().createElement(v.IconButton,{iconClassName:"mdi mdi-chevron-left",disabled:d,onClick:function(){return y()}}),!y&&t().createElement(v.IconButton,{iconClassName:"mdi mdi-chevron-left",disabled:1===a,onClick:function(){return r.setState({page:a-1})}}),(l||f)&&t().createElement("div",null,l+1,"-",f," ",z().getMessages()["material.paginator.of"]," ",o.length),h&&t().createElement(v.IconButton,{iconClassName:"mdi mdi-chevron-right",disabled:p,onClick:function(){return h()}}),!h&&t().createElement(v.IconButton,{iconClassName:"mdi mdi-chevron-right",disabled:a===s.length,onClick:function(){return r.setState({page:a+1})}}))}},{key:"render",value:function(){var e=this.props,r=e.columns,n=e.deselectOnClickAway,o=e.emptyStateString,i=e.masterStyles,a=void 0===i?{}:i,c=e.emptyStateStyle,s=e.onSelectRows,u=e.computeRowStyle,l=this.props,f=l.actions,p=l.hideHeaders,d=this.props,h=d.data,y=d.showCheckboxes,m=a.actionsColor||"rgba(0,0,0,.33)",b=this.computeSorter();b&&(h=b.sorted());var g,w=this.computePagination();w.use&&(h=h.slice(w.sliceStart,w.sliceEnd),g=this.renderPagination(w));var S,O=0;f&&f.length&&(S=!0,O=1);var P=[];h.map((function(e){var n;if(u&&(n=u(e)),e.Subheader){var o=Go({fontSize:12,color:"#616161",backgroundColor:"#FAFAFA",fontWeight:500},e.style);P.push(t().createElement(v.TableRow,{className:"media-small-hide",style:Go({},a.row)},t().createElement(v.TableRowColumn,{colSpan:r.length+O,style:o},e.Subheader)))}else if(e.colSpan)P.push(t().createElement(v.TableRow,{style:Go(Go({},e.rowStyle),a.row)},t().createElement(v.TableRowColumn,{colSpan:r.length+O,style:Go({height:"auto",paddingLeft:0,paddingRight:0,backgroundColor:"transparent"},e.cellStyle)},e.element)));else{var i=Go(Go({},n),a.row);e.expandedRow&&(i=Go(Go({},i),a.expanderRow)),P.push(t().createElement(v.TableRow,{selectable:void 0!==s,style:i},r.map((function(r){var n=e[r.name],o=n;return r.useMoment&&n?o=n=Yo(new Date(1e3*parseInt(n))).fromNow():r.renderCell&&(n=r.renderCell(e))&&"object"===qo(n)&&n.element&&n.text&&(o=n.text,n=n.element),t().createElement(v.TableRowColumn,{style:r.style||{},title:"object"===qo(o)?null:o,className:r.hideSmall?"media-small-hide":null},n)})),S&&t().createElement(v.TableRowColumn,{style:{overflow:"visible",textOverflow:"none",width:48*f.length+32}},f.map((function(r){var n=!!r.disable&&r.disable(e);return t().createElement(v.IconButton,{style:{padding:14,opacity:n?.5:null},iconStyle:{fontSize:20,color:m},onClick:function(t){t.stopPropagation(),r.onClick(e)},iconClassName:r.iconClassName,tooltip:r.tooltip,disabled:n})}))))),e.expandedRow&&P.push(t().createElement(v.TableRow,{selectable:!1,style:Go(Go({},a.row),a.expandedRow)},t().createElement(v.TableRowColumn,{colSpan:r.length+O,style:Go({height:"auto",paddingLeft:0,paddingRight:0,backgroundColor:"transparent"},e.cellStyle)},e.expandedRow)))}}));var k=r.map((function(e){var r=e.label;return b&&e.sorter&&(r=b.renderHeader(e.name,e.label)),t().createElement(v.TableHeaderColumn,{style:Go(Go({},e.headerStyle),{},{height:48,backgroundColor:"#F5F5F5",fontWeight:500},a.head),className:e.hideSmall?"media-small-hide":null},r)}));return S&&k.push(t().createElement(v.TableHeaderColumn,{style:Go({width:48*f.length+32,height:48,backgroundColor:"#F5F5F5"},a.head)})),o&&!P.length&&(y=!1,P=[t().createElement(v.TableRow,null,t().createElement(v.TableRowColumn,{colSpan:r.length,style:c},o))]),(h.length&&h[0].Subheader||o&&!P.length)&&P.unshift(t().createElement(v.TableRow,{style:Go({borderBottom:"none",height:0},a.row)},r.map((function(e){var r=e.style||{};return t().createElement(v.TableRowColumn,{style:Go(Go({},r),{},{height:0}),className:e.hideSmall?"media-small-hide":null})})))),t().createElement(v.Table,{onRowSelection:this.onRowSelection.bind(this),multiSelectable:y},!p&&t().createElement(v.TableHeader,{displaySelectAll:y,adjustForCheckbox:y,enableSelectAll:y},t().createElement(v.TableRow,{style:a.row},k)),t().createElement(v.TableBody,{deselectOnClickaway:n,displayRowCheckbox:y},P),g&&t().createElement(v.TableFooter,null,t().createElement(v.TableRow,{style:{backgroundColor:"#fafafa"}},t().createElement(v.TableRowColumn,{colSpan:r.length},g))))}}]),i}(t().Component);(ei=(0,V.muiThemeable)()(ei)).PropTypes={data:U().array,columns:U().array,onSelectRows:U().func,emptyStateString:U().string};const ti=t()["undefined"!=typeof document&&void 0!==document.createElement?"useLayoutEffect":"useEffect"],ri=function(t,r,n,o){var i=e.useRef(n),a=e.useRef(o);ti((function(){i.current=n,a.current=o})),ti((function(){var e=t&&"current"in t?t.current:t;if(e){var n=0;e.addEventListener(r,c);var o=a.current;return function(){n=1,e.removeEventListener(r,c),o&&o()}}function c(){if(!n){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i.current.apply(this,t)}}}),[t,r])};function ni(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oi(e){return oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oi(e)}var ii="undefined",ai=("undefined"==typeof window?"undefined":oi(window))!==ii?window:{},ci=("undefined"==typeof performance?"undefined":oi(performance))!==ii?performance:Date,si=function(){return ci.now()},ui="AnimationFrame",li="cancel"+ui,fi="request"+ui,pi=ai[fi]&&ai[fi].bind(ai),di=ai[li]&&ai[li].bind(ai);if(!pi||!di){var hi=0;pi=function(e){var t=si(),r=Math.max(hi+1e3/60,t);return setTimeout((function(){e(hi=r)}),r-t)},di=function(e){return clearTimeout(e)}}var yi=function(e){di(e.v||-1)},mi=function(e,t){var r=si(),n={};return n.v=pi((function o(){si()-r>=t?e.call(null):n.v=pi(o)})),n};const vi=function(t){var r=e.useRef(t);return e.useEffect((function(){r.current=t})),r};var bi="undefined"!=typeof performance?performance:Date,gi=function(){return bi.now()};function wi(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=vi(t),i=1e3/r,a=e.useRef(0),c=e.useRef(),s=function(){return c.current&&clearTimeout(c.current)},u=[r,n,o];function l(){a.current=0,s()}return e.useEffect((function(){return l}),u),e.useCallback((function(){var e=arguments,t=gi(),r=function(){a.current=t,s(),o.current.apply(null,e)},u=a.current;if(n&&0===u)return r();if(t-u>i){if(u>0)return r();a.current=t}s(),c.current=setTimeout((function(){r(),a.current=0}),i)}),u)}function Si(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Oi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Oi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Pi=0,ki=1,_i=0,Ei=1,ji={low:0,max:0,high:0,C:2,P:void 0,R:void 0,L:void 0,list:void 0};function xi(e){var t=e.high;e.L===ji&&e.R===ji?e.max=t:e.L===ji?e.max=Math.max(e.R.max,t):e.R===ji?e.max=Math.max(e.L.max,t):e.max=Math.max(Math.max(e.L.max,e.R.max),t)}function Ci(e){for(var t=e;t.P!==ji;)xi(t.P),t=t.P}function Ti(e,t){if(t.R!==ji){var r=t.R;t.R=r.L,r.L!==ji&&(r.L.P=t),r.P=t.P,t.P===ji?e.root=r:t===t.P.L?t.P.L=r:t.P.R=r,r.L=t,t.P=r,xi(t),xi(r)}}function Ri(e,t){if(t.L!==ji){var r=t.L;t.L=r.R,r.R!==ji&&(r.R.P=t),r.P=t.P,t.P===ji?e.root=r:t===t.P.R?t.P.R=r:t.P.L=r,r.R=t,t.P=r,xi(t),xi(r)}}function Ii(e,t,r){t.P===ji?e.root=r:t===t.P.L?t.P.L=r:t.P.R=r,r.P=t.P}function Li(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}ji.P=ji,ji.L=ji,ji.R=ji;var Mi=function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=function(){var e={root:ji,size:0},t={};return{insert:function(r,n,o){for(var i=e.root,a=ji;i!==ji&&r!==(a=i).low;)i=r<i.low?i.L:i.R;if(r===a.low&&a!==ji){if(!function(e,t,r){for(var n,o=e.list;o;){if(o.index===r)return!1;if(t>o.high)break;n=o,o=o.next}return n||(e.list={index:r,high:t,next:o}),n&&(n.next={index:r,high:t,next:n.next}),!0}(a,n,o))return;return a.high=Math.max(a.high,n),xi(a),Ci(a),t[o]=a,void e.size++}var c={low:r,high:n,max:n,C:Pi,P:a,L:ji,R:ji,list:{index:o,high:n,next:null}};a===ji?e.root=c:(c.low<a.low?a.L=c:a.R=c,Ci(c)),function(e,t){for(var r;t.P.C===Pi;)t.P===t.P.P.L?(r=t.P.P.R).C===Pi?(t.P.C=ki,r.C=ki,t.P.P.C=Pi,t=t.P.P):(t===t.P.R&&Ti(e,t=t.P),t.P.C=ki,t.P.P.C=Pi,Ri(e,t.P.P)):(r=t.P.P.L).C===Pi?(t.P.C=ki,r.C=ki,t.P.P.C=Pi,t=t.P.P):(t===t.P.L&&Ri(e,t=t.P),t.P.C=ki,t.P.P.C=Pi,Ti(e,t.P.P));e.root.C=ki}(e,c),t[o]=c,e.size++},remove:function(r){var n=t[r];if(void 0!==n){delete t[r];var o=function(e,t){var r=e.list;if(r.index===t)return null===r.next?_i:(e.list=r.next,Ei);var n=r;for(r=r.next;null!==r;){if(r.index===t)return n.next=r.next,Ei;n=r,r=r.next}}(n,r);if(void 0!==o){if(o===Ei)return n.high=n.list.high,xi(n),Ci(n),void e.size--;var i,a=n,c=a.C;n.L===ji?(i=n.R,Ii(e,n,n.R)):n.R===ji?(i=n.L,Ii(e,n,n.L)):(a=function(e){for(;e.L!==ji;)e=e.L;return e}(n.R),c=a.C,i=a.R,a.P===n?i.P=a:(Ii(e,a,a.R),a.R=n.R,a.R.P=a),Ii(e,n,a),a.L=n.L,a.L.P=a,a.C=n.C),xi(i),Ci(i),c===ki&&function(e,t){for(var r;t!==ji&&t.C===ki;)t===t.P.L?((r=t.P.R).C===Pi&&(r.C=ki,t.P.C=Pi,Ti(e,t.P),r=t.P.R),r.L.C===ki&&r.R.C===ki?(r.C=Pi,t=t.P):(r.R.C===ki&&(r.L.C=ki,r.C=Pi,Ri(e,r),r=t.P.R),r.C=t.P.C,t.P.C=ki,r.R.C=ki,Ti(e,t.P),t=e.root)):((r=t.P.L).C===Pi&&(r.C=ki,t.P.C=Pi,Ri(e,t.P),r=t.P.L),r.R.C===ki&&r.L.C===ki?(r.C=Pi,t=t.P):(r.L.C===ki&&(r.R.C=ki,r.C=Pi,Ti(e,r),r=t.P.L),r.C=t.P.C,t.P.C=ki,r.L.C=ki,Ri(e,t.P),t=e.root));t.C=ki}(e,i),e.size--}}},search:function(t,r,n){for(var o=[e.root];0!==o.length;){var i=o.pop();if(!(i===ji||t>i.max)&&(i.L!==ji&&o.push(i.L),i.R!==ji&&o.push(i.R),i.low<=r&&i.high>=t))for(var a=i.list;null!==a;)a.high>=t&&n(a.index,i.low),a=a.next}},get size(){return e.size}}}(),o=new Array(e),i=[],a=new Array(e),c=0;c<e;c++)o[c]=0,a[c]=[];return{columnCount:e,columnWidth:t,set:function(e){for(var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=0,u=1;u<o.length;u++)o[u]<o[s]&&(s=u);var l=o[s]||0;o[s]=l+c+r,a[s].push(e),i[e]={left:s*(t+r),top:l,height:c,column:s},n.insert(l,l+c,e)},get:function(e){return i[e]},update:function(t){for(var c=new Array(e),s=0,u=0;s<t.length-1;s++){var l=t[s],f=i[l];f.height=t[++s],n.remove(l),n.insert(f.top,f.top+f.height,l),c[f.column]=void 0===c[f.column]?l:Math.min(l,c[f.column])}for(s=0;s<c.length;s++)if(void 0!==c[s]){var p=a[s],d=Ai(p,c[s]),h=a[s][d],y=i[h];for(o[s]=y.top+y.height+r,u=d+1;u<p.length;u++){var m=p[u],v=i[m];v.top=o[s],o[s]=v.top+v.height+r,n.remove(m),n.insert(v.top,v.top+v.height,m)}}},range:function(e,t,r){return n.search(e,t,(function(e,t){return r(e,i[e].left,t)}))},estimateHeight:function(t,r){var i=Math.max(0,Math.max.apply(null,o));return t===n.size?i:i+Math.ceil((t-n.size)/e)*r},shortestColumn:function(){return o.length>1?Math.min.apply(null,o):o[0]||0},size:function(){return n.size}}},Ai=function(e,t){for(var r=0,n=e.length-1;r<=n;){var o=r+n>>>1,i=e[o];if(i===t)return o;i<=t?r=o+1:n=o-1}return-1},Di=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,n=arguments.length>3?arguments[3]:void 0;return n=n||Math.floor(e/(t+r))||1,[Math.floor((e-r*(n-1))/n),n]},Ni=[],Ui=function(e){try{return new e}catch(e){var t={};return{set:function(e,r){t[e]=r},get:function(e){return t[e]}}}};const Bi=function(e,t){var r,n,o,i,a,c,s,u,l,f=(s=(n=e).length,u=Ui(n[0]),l=1===s,s<3?{g:function(e){return void 0===(o=u.get(e[0]))||l?o:o.get(e[1])},s:function(e,t){return l?u.set(e[0],t):void 0===(o=u.get(e[0]))?((i=Ui(n[1])).set(e[1],t),u.set(e[0],i)):o.set(e[1],t),t}}:{g:function(e){for(c=u,a=0;a<s;a++)if(void 0===(c=c.get(e[a])))return;return c},s:function(e,t){for(c=u,a=0;a<s-1;a++)void 0===(i=c.get(e[a]))?(i=Ui(n[a+1]),c.set(e[a],i),c=i):c=i;return c.set(e[s-1],t),t}}),p=f.g,d=f.s;return function(){return void 0===(r=p(arguments))?d(arguments,t.apply(null,arguments)):r}};var zi=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var r=-1;return e.some((function(e,n){return e[0]===t&&(r=n,!0)})),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var r=e(this.__entries__,t),n=this.__entries__[r];return n&&n[1]},t.prototype.set=function(t,r){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=r:this.__entries__.push([t,r])},t.prototype.delete=function(t){var r=this.__entries__,n=e(r,t);~n&&r.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var r=0,n=this.__entries__;r<n.length;r++){var o=n[r];e.call(t,o[1],o[0])}},t}()}(),Fi="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,qi=void 0!==__webpack_require__.g&&__webpack_require__.g.Math===Math?__webpack_require__.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),Wi="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(qi):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},Zi=2,Gi=20,Hi=["top","right","bottom","left","width","height","size","weight"],Vi="undefined"!=typeof MutationObserver,Ji=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var r=!1,n=!1,o=0;function i(){r&&(r=!1,e()),n&&c()}function a(){Wi(i)}function c(){var e=Date.now();if(r){if(e-o<Zi)return;n=!0}else r=!0,n=!1,setTimeout(a,t);o=e}return c}(this.refresh.bind(this),Gi)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){Fi&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Vi?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){Fi&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=void 0===t?"":t,n=Hi.some((function(e){return!!~r.indexOf(e)}));n&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Ki=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var o=n[r];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},$i=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||qi},Yi=ra(0,0,0,0);function Xi(e){return parseFloat(e)||0}function Qi(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce((function(t,r){return t+Xi(e["border-"+r+"-width"])}),0)}var ea="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof $i(e).SVGGraphicsElement}:function(e){return e instanceof $i(e).SVGElement&&"function"==typeof e.getBBox};function ta(e){return Fi?ea(e)?function(e){var t=e.getBBox();return ra(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return Yi;var n=$i(e).getComputedStyle(e),o=function(e){for(var t={},r=0,n=["top","right","bottom","left"];r<n.length;r++){var o=n[r],i=e["padding-"+o];t[o]=Xi(i)}return t}(n),i=o.left+o.right,a=o.top+o.bottom,c=Xi(n.width),s=Xi(n.height);if("border-box"===n.boxSizing&&(Math.round(c+i)!==t&&(c-=Qi(n,"left","right")+i),Math.round(s+a)!==r&&(s-=Qi(n,"top","bottom")+a)),!function(e){return e===$i(e).document.documentElement}(e)){var u=Math.round(c+i)-t,l=Math.round(s+a)-r;1!==Math.abs(u)&&(c-=u),1!==Math.abs(l)&&(s-=l)}return ra(o.left,o.top,c,s)}(e):Yi}function ra(e,t,r,n){return{x:e,y:t,width:r,height:n}}var na=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=ra(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=ta(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),oa=function(e,t){var r,n,o,i,a,c,s,u=(n=(r=t).x,o=r.y,i=r.width,a=r.height,c="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(c.prototype),Ki(s,{x:n,y:o,width:i,height:a,top:o,right:n+i,bottom:a+o,left:n}),s);Ki(this,{target:e,contentRect:u})},ia=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new zi,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof $i(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new na(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof $i(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new oa(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),aa="undefined"!=typeof WeakMap?new WeakMap:new zi,ca=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=Ji.getInstance(),n=new ia(t,r,this);aa.set(this,n)};["observe","unobserve","disconnect"].forEach((function(e){ca.prototype[e]=function(){var t;return(t=aa.get(this))[e].apply(t,arguments)}}));const sa=void 0!==qi.ResizeObserver?qi.ResizeObserver:ca;var ua=new WeakMap;function la(){var t=e.useState(fa)[1];return e.useRef((function(){return t({})})).current}var fa={},pa=Bi([WeakMap],(function(e,t){var r,n,o,i,a=(r=function(r){for(var n=[],o=0;o<r.length;o++){var i=r[o],a=i.target.offsetHeight;if(a>0){var c=ua.get(i.target);if(void 0!==c){var s=e.get(c);void 0!==s&&a!==s.height&&n.push(c,a)}}}n.length>0&&(e.update(n),t(n))},n=[],o=null,i=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];n=t,o||(o=requestAnimationFrame((function(){o=null,r.apply(void 0,n)})))},i.cancel=function(){o&&(cancelAnimationFrame(o),o=null)},i),c=new sa(a),s=c.disconnect.bind(c);return c.disconnect=function(){s(),a.cancel()},c}));function da(e){return da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},da(e)}function ha(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ma(n.key),n)}}function ya(e,t,r){return t&&ha(e.prototype,t),r&&ha(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ma(e){var t=function(e,t){if("object"!==da(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==da(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===da(t)?t:String(t)}var va=ya((function e(){var t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.set=void 0,this.get=void 0,this.get=function(e){return e===t?r:void 0},this.set=function(e,n){t=e,r=n}}));const ba=va,ga=function(e,t){var r,n,o=t||wa;return function(){return r&&o(arguments,r)?n:n=e.apply(null,r=arguments)}};var wa=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]};function Sa(e){return Sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sa(e)}var Oa=e.createElement,Pa="0",ka=Bi([ba,{},WeakMap,ba],(function(e,t,r,n){return Oa(e,{index:t,data:r,width:n})})),_a=ga((function(e,t){return{position:"relative",width:"100%",maxWidth:"100%",height:Math.ceil(t),maxHeight:Math.ceil(t),willChange:e?"contents":void 0,pointerEvents:e?"none":void 0}})),Ea=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ja=ga((function(e,t){return Object.assign({},e,t)}),Ea);function xa(e,t){return t}var Ca=ga((function(e){return{width:e,zIndex:-1e3,visibility:"hidden",position:"absolute",writingMode:"horizontal-tb"}}),(function(e,t){return e[0]===t[0]})),Ta=ga((function(e,t){return function(r){return function(n){null!==n&&(t&&(t.observe(n),ua.set(n,r)),void 0===e.get(r)&&e.set(r,n.offsetHeight))}}}),Ea);function Ra(e){return Ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ra(e)}function Ia(){return Ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ia.apply(this,arguments)}function La(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ma(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?La(Object(r),!0).forEach((function(t){Aa(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):La(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Aa(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ra(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ra(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ra(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Da(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Na(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Na(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Na(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ua=z().requireLib("hoc").useImagePreview,Ba={2:{scaleX:-1,scaleY:1},3:{rotate:"180deg"},4:{rotate:"180deg",scaleX:-1,scaleY:1},5:{rotate:"90deg",scaleX:1,scaleY:-1,tX:-1,tY:1},6:{rotate:"90deg",tX:-1,tY:-1},7:{rotate:"270deg",scaleX:1,scaleY:-1,tX:1,tY:-1},8:{rotate:"270deg",tX:1,tY:1}};function za(e){var t=[];return e.rotate&&t.push("rotate(".concat(e.rotate,")")),e.scaleX&&t.push("scale(".concat(e.scaleX,", ").concat(e.scaleY,")")),e.translateX&&t.push("translate(".concat(e.translateX,"px,").concat(e.translateY,"px)")),t.join(" ")}var Fa=(0,Mr.debounce)((function(){window.dispatchEvent(new Event("resize"))}),500),qa=Er((function(r){var n=r.width,o=r.data,i=o.node,a=o.parent,c=o.dataModel,s=o.entryProps,u=r.setInlineEditionAnchor,l=function(e){var t=.5;if(e.getMetadata().has("ImageDimensions")){var r=e.getMetadata().get("ImageDimensions");t=r.Height/r.Width}return{ratio:t,src:Ua(e).src}}(i),f=l.ratio,p=l.src,d=Da((0,e.useState)(c.getSelectedNodes().indexOf(i)>-1),2),h=d[0],y=d[1],m=Da((0,e.useState)(!1),2),v=m[0],b=m[1];(0,e.useEffect)((function(){var e=function(){y(c.getSelectedNodes().indexOf(i)>-1)};return c.observe("selection_changed",e),function(){c.stopObserving("selection_changed",e)}}),[h,i]);var g=s.handleClicks,w=s.renderIcon,S=s.renderActions,O=z().getMessages()["react.1"],P={};if(p&&f&&i.getMetadata().get("image_exif_orientation")){var k=parseInt(i.getMetadata().get("image_exif_orientation"));if(Ba[k]){var _=Ma({},Ba[k]);if(k<5)P={transform:za(_)};else{var E=n*(f=1/f),j=(n-E)/2;_.translateX=j*_.tX,_.translateY=j*_.tY,P={transform:za(_),width:E}}}}var x=["masonry-card"];v&&x.push("hover"),h&&x.push("selected"),p&&x.push("has-src");var C=(0,e.useRef)(null);return(0,e.useEffect)((function(){u&&C.current&&u(C.current)}),[i]),t().createElement(ue,{node:i,style:{width:n,height:n*f,position:"relative"},className:x.join(" "),onClick:function(e){return g(i,a?To.CLICK_TYPE_DOUBLE:To.CLICK_TYPE_SIMPLE,e)},onDoubleClick:function(e){return g(i,To.CLICK_TYPE_DOUBLE,e)},onMouseOver:function(){return b(!0)},onMouseOut:function(){return b(!1)}},p&&t().createElement(Wa,{className:"masonry-image",src:p,alt:i.getPath(),style:Ma({width:n},P)}),a&&t().createElement("div",{className:"mimefont-container"},t().createElement("div",{className:"mimefont mdi mdi-chevron-left"})),!a&&!p&&w(i),!a&&t().createElement("div",{style:{position:"absolute",top:0,left:0}},S(i)),p&&t().createElement("div",{className:"masonry-label-overlay",style:{position:"absolute",bottom:0,left:0,right:0,height:50}}),t().createElement("div",{className:"masonry-label",ref:C,style:Ma({display:v||h||!p?"block":"none"},{position:"absolute",bottom:0,left:0,right:0,height:32,padding:"6px 10px",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",borderRadius:"0 0 2px 2px"})},a?O:i.getLabel()))}),(function(e){return e.data.node})),Wa=function(r){var n=r.src,o=r.alt,i=r.style,a=r.className,c=(0,e.useRef)(),s=function(t){var r=Da((0,e.useState)(!1),2),n=r[0],o=r[1];return(0,e.useEffect)((function(){var e=new IntersectionObserver((function(e){var t,r,n=Da(e,1)[0];if(!(n.target&&!n.rootBounds&&(t=n.target,r=t.getBoundingClientRect(),r.top>=0&&r.left>=0&&r.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&r.right<=(window.innerWidth||document.documentElement.clientWidth))))return n.isIntersecting?o(n.isIntersecting):void 0;o(!0)}),{threshold:.1,root:null});return e.observe(t.current),function(){e.disconnect()}}),[t]),n}(c),u=Ma({},i);return u.transition="opacity 550ms cubic-bezier(0.23, 1, 0.32, 1) 0ms",s||(u.opacity=0),t().createElement("img",{ref:c,alt:o,src:s?n:null,style:u,className:a})};function Za(e,t){var r=[];return e.getChildren().forEach((function(e,n){r.push(Ma({id:"item-"+n,node:e},t))})),r.sort((function(e,t){return ho(e.node,t.node)})),e.getParent()&&r.unshift(Ma({id:"item-parent",parent:!0,node:e.getParent()},t)),r}const Ga=t().memo((function(r){var n=r.className,o=r.dataModel,i=r.entryProps,a=r.emptyStateProps,c=r.containerStyle,s=void 0===c?{}:c,u=r.columnWidth,l=void 0===u?220:u,f=r.onScroll,p={dataModel:o,entryProps:i},d=function(){return Za(o.getContextNode(),p)},h=Da((0,e.useState)(d),2),y=h[0],m=h[1],v=Da((0,e.useState)(o.getContextNode()),2),b=v[0],g=v[1];(0,e.useEffect)((function(){var e=function(){var e=o.getContextNode();e.isLoaded()?g(e):e.observeOnce("loaded",(function(){return g(e)}))};return o.observe("context_changed",e),function(){o.stopObserving("context_changed",e)}})),(0,e.useEffect)((function(){m(d());var e=function(){m(Za(b,p)),Fa()},t=function(){m(Za(b,p)),window.dispatchEvent(new Event("resize")),Fa()};return b.observe("child_added",t),b.observe("child_removed",e),b.observe("child_replaced",t),function(){b.stopObserving("child_added",t),b.stopObserving("child_removed",e),b.stopObserving("child_replaced",t)}}),[b]),b.isLoaded()||(b.observeOnce("loaded",(function(){m(Za(b,p))})),b.load());var w,S,O,P,k,_,E,j,x=(0,e.useRef)(null),C=(w=x,S=function(){var e=w.current;if(e){var t=getComputedStyle(e),r=parseFloat;return{width:e.clientWidth-r(t.paddingTop)-r(t.paddingBottom),height:e.clientHeight-r(t.paddingLeft)-r(t.paddingRight)}}return{width:0,height:0}},E=e.useState(S),j=2,P=(O=function(e){if(Array.isArray(e))return e}(E)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(E,j)||function(e,t){if(e){if("string"==typeof e)return ni(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ni(e,t):void 0}}(E,j)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],k=O[1],_=function(){return k(S())},ri(window,"resize",_),ri(window,"orientationchange",_),ti((function(){k(S())}),[]),P),T=C.width,R=C.height,I=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.offset,o=void 0===n?0:n,i=r.fps,a=void 0===i?12:i,c=t&&"current"in t?t.current:t,s=function(){return c?"scrollTop"in c?c.scrollTop:c.pageYOffset||c.scrollY:0},u=Si(function(t,r,n){var o=e.useState(t);return[o[0],wi(o[1],r,void 0)]}(s,a),2),l=u[0],f=u[1],p=Si(e.useState(!1),2),d=p[0],h=p[1];function y(){h(!1)}return ti((function(){if(c){var e,t=!1,r=function(){return e&&yi(e)},n=function(){t||(f(s()),h(!0),r(),e=mi(y,1e3/a))};return c.addEventListener("scroll",n),function(){c.removeEventListener("scroll",n),r(),t=!0}}}),[c,a]),{scrollTop:Math.max(0,l-o),isScrolling:d}}(x),L=I.scrollTop,M=I.isScrolling;(0,e.useEffect)((function(){Fa()}),[s.marginLeft]),f&&(0,e.useEffect)((function(){f({scrollTop:L})}),[L]);var A=function(t){var r=t.width,n=t.columnWidth,o=void 0===n?200:n,i=t.columnGutter,a=void 0===i?0:i,c=t.columnCount,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ni,u=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Li(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Li(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Di(r,o,a,c),2),t=e[0],n=e[1];return Mi(n,t,a)},l=e.useRef();void 0===l.current&&(l.current=u());var f=e.useRef(s),p=[r,o,a,c],d=e.useRef(p),h=!p.every((function(e,t){return d.current[t]===e}));if(h||!s.every((function(e,t){return f.current[t]===e}))){var y=l.current,m=u();if(f.current=s,d.current=p,h)for(var v=y.size(),b=0;b<v;b++){var g=y.get(b);m.set(b,void 0!==g?g.height:0)}l.current=m}return l.current}({width:T,columnWidth:l,columnGutter:8},[y,l]),D=function(t){var r=la(),n=pa(t,r);function o(){return n.disconnect()}return e.useEffect((function(){return o}),[n]),n}(A),N=function(t){var r,n=t.positioner,o=t.resizeObserver,i=t.items,a=t.as,c=void 0===a?"div":a,s=t.id,u=t.className,l=t.style,f=t.role,p=void 0===f?"grid":f,d=t.tabIndex,h=void 0===d?0:d,y=t.containerRef,m=t.itemAs,v=void 0===m?"div":m,b=t.itemStyle,g=t.itemHeightEstimate,w=void 0===g?300:g,S=t.itemKey,O=void 0===S?xa:S,P=t.overscanBy,k=void 0===P?2:P,_=t.scrollTop,E=t.isScrolling,j=t.height,x=t.render,C=t.onRender,T=0,R=la(),I=Ta(n,o),L=i.length,M=n.columnWidth,A=n.columnCount,D=n.range,N=n.estimateHeight,U=n.size,B=n.shortestColumn,z=U(),F=B(),q=[],W="list"===p?"listitem":"grid"===p?"gridcell":void 0,Z=vi(C),G=_+(k*=j),H=F<G&&z<L;if(D(Math.max(0,_-k/2),G,(function(e,t,n){var o=i[e],a=O(o,e),c={top:n,left:t,width:M,writingMode:"horizontal-tb",position:"absolute"};q.push(Oa(v,{key:a,ref:I(e),role:W,style:"object"===Sa(b)&&null!==b?Object.assign({},c,b):c},ka(x,e,o,M))),void 0===r?(T=e,r=e):(T=Math.min(T,e),r=Math.max(r,e))})),H)for(var V=Math.min(L-z,Math.ceil((_+k-F)/w*A)),J=z,K=Ca(M);J<z+V;J++){var $=i[J],Y=O($,J);q.push(Oa(v,{key:Y,ref:I(J),role:W,style:"object"===Sa(b)?Object.assign({},K,b):K},ka(x,J,$,M)))}e.useEffect((function(){"function"==typeof Z.current&&void 0!==r&&Z.current(T,r,i),Pa="1"}),[T,r,i,Z]),e.useEffect((function(){H&&R()}),[H]);var X=_a(E,N(L,w));return Oa(c,{ref:y,key:Pa,id:s,role:p,className:u,tabIndex:h,style:"object"===Sa(l)?ja(X,l):X,children:q})}({positioner:A,resizeObserver:D,items:y,height:R,scrollTop:L,isScrolling:M,overscanBy:6,render:qa}),U=a&&!b.isLoading()&&(!y||!y.length);return t().createElement("div",{style:Ma({flex:1,padding:8,overflowY:"auto"},s),className:n,ref:x,onKeyDown:function(e){"Enter"===e.key&&o.getUniqueNode()?i.handleClicks(o.getUniqueNode(),To.CLICK_TYPE_DOUBLE,e):"Delete"===e.key&&z().getInstance().Controller.fireActionByKey("key_delete")}},U&&t().createElement(co,Ia({pydio:z().getInstance()},a)),!U&&N)}));function Ha(e){return Ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ha(e)}function Va(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ja(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$a(n.key),n)}}function Ka(e,t,r){return t&&Ja(e.prototype,t),r&&Ja(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $a(e){var t=function(e,t){if("object"!==Ha(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ha(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ha(t)?t:String(t)}function Ya(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xa(e,t)}function Xa(e,t){return Xa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xa(e,t)}function Qa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ec(e);if(t){var o=ec(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Ha(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function ec(e){return ec=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ec(e)}var tc=function(r){Ya(o,r);var n=Qa(o);function o(t){var r;return Va(this,o),(r=n.call(this,t)).root=(0,e.createRef)(),r}return Ka(o,[{key:"componentDidMount",value:function(){this.props.selected&&this.root.current&&this.root.current.scrollIntoView({behavior:"smooth"})}},{key:"render",value:function(){var r=this.props,n=r.item,o=r.prev,i=r.next,a=r.itemUuid,c=r.itemMoment,s=r.itemDesc,u=r.itemAnnotations,l=r.itemActions,f=r.selected,p=r.onSelect,d=r.color,h=c(n),y="tl-block",m="sep-date",v=!1;if(o){var b=c(o);h.format("L")===b.format("L")?(y+=" similar",v=!0):(y+=" newday",m+=" newday")}var g,w=u(n,o,i),S=l(n,o,i);p&&(g=function(){p(a(n))}),f&&(y+=" tl-selected");var O={fontWeight:500,color:d,cursor:"pointer",display:"inline-block",marginLeft:6};return t().createElement(e.Fragment,null,!v&&t().createElement("div",{className:m},t().createElement("div",{className:"daymonth"},h.format("DD")),t().createElement("div",{className:"dayweek"},h.format("ddd"))),t().createElement("div",{className:y,ref:this.root},t().createElement("div",{className:"tl-date"},t().createElement("div",{className:"daymonth"},h.format("DD")),t().createElement("div",{className:"dayweek"},h.format("ddd"))),t().createElement("div",{className:"tl-dot"}),t().createElement("div",{className:"tl-card"+(g?" tl-selectable":""),onClick:g},t().createElement("div",{className:"tl-desc"},t().createElement("div",{className:"desc-date"},h.format(v?"LT":"llll")),s(n,o,i)),t().createElement("div",{className:"tl-actions"},w,f&&S&&t().createElement("div",null,S.map((function(e){return t().createElement("a",{onClick:e.onClick,style:O},e.label)})))))))}}]),o}(e.Component),rc=function(e){Ya(n,e);var r=Qa(n);function n(e){var t;return Va(this,n),(t=r.call(this,e)).state={},t}return Ka(n,[{key:"makeStyle",value:function(e){var r=e.palette.mui3["on-surface"],n=e.palette.mui3.tertiary,o=e.palette.mui3["outline-variant"],i=e.palette.mui3.surface,a="0px 1px 3px "+e.palette.mui3["outline-variant"],c="\n        .timeline{\n            color: ".concat(r,";\n        }\n        .timeline .tl-line {\n            border-right: 3px dashed ").concat(o,"; \n        }\n        .timeline .tl-timeline .tl-block .tl-dot{\n            background-color: ").concat(n,";\n            box-shadow: ").concat(n," 0px 0px 4px;\n        }\n        .timeline .tl-timeline .tl-block .tl-dot:before{\n            border-color: ").concat(n,"\n        }\n        .timeline .tl-timeline .tl-block .tl-card.tl-selectable:hover, \n        .timeline .tl-timeline .tl-block.tl-selected .tl-card {\n            box-shadow: ").concat(a,"\n        }\n        .timeline .tl-timeline .daymonth{\n            color: ").concat(n,"\n        }\n        .timeline .tl-card{\n            background-color: ").concat(i,";\n        }\n        ");return t().createElement("style",{type:"text/css"},c)}},{key:"render",value:function(){var e,r=this,n=this.props.muiTheme,o=this.props,i=o.items,a=o.className,c=void 0===a?"":a,s=o.useSelection,u=void 0!==s&&s,l=o.preSelection,f=this.props,p=f.itemUuid,d=f.itemMoment,h=f.itemActions,y=f.itemAnnotations,m=f.itemDesc,v=f.onItemSelect,b=this.props,g=b.loadMoreAction,w=b.loadMoreLabel,S=b.loadMoreDisabled,O=this.state.selection,P=void 0===O?l:O;return n.palette.mui3.tertiary,v?e=v:u&&(e=function(e){r.setState({selection:e})}),t().createElement("div",{className:"timeline "+c},t().createElement("div",{className:"tl-line"}),t().createElement("div",{className:"tl-timeline"},i.map((function(r,o){return t().createElement(tc,{item:r,prev:o>0?i[o-1]:null,next:o<i.length-1?i[o+1]:null,selected:!!u&&p(r)===P,onSelect:e,itemUuid:p,itemMoment:d,itemActions:h,itemAnnotations:y,itemDesc:m,color:n.palette.mui3.primary})})),g&&t().createElement("div",{className:"tl-block tl-more"},t().createElement("div",{className:"tl-date"}),t().createElement("div",{className:"tl-dot"}),t().createElement("div",{className:"tl-card tl-selectable",style:{color:n.palette.mui3.primary},onClick:S?null:g},w))),this.makeStyle(n))}}]),n}(e.Component);const nc=rc=(0,V.muiThemeable)()(rc);function oc(e){return oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(e)}function ic(){return ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ic.apply(this,arguments)}function ac(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vc(n.key),n)}}function sc(e,t,r){return t&&cc(e.prototype,t),r&&cc(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lc(e,t)}function lc(e,t){return lc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lc(e,t)}function fc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=dc(e);if(t){var o=dc(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===oc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pc(e)}(this,r)}}function pc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dc(e){return dc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dc(e)}function hc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hc(Object(r),!0).forEach((function(t){mc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mc(e,t,r){return(t=vc(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vc(e){var t=function(e,t){if("object"!==oc(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==oc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===oc(t)?t:String(t)}var bc=z().requireLib("hoc").withContextMenu,gc=function(e){return t().createElement("div",e)};gc=bc(gc);var wc=D()({displayName:"SimpleTreeNode",propTypes:{collapse:U().bool,forceExpand:U().bool,childrenOnly:U().bool,depth:U().number,onNodeSelect:U().func,node:U().instanceOf(AjxpNode),dataModel:U().instanceOf(PydioDataModel),forceLabel:U().string,nodeIsSelected:U().func,showLoader:U().bool,checkboxes:U().array,checkboxesValues:U().object,checkboxesComputeStatus:U().func,onCheckboxCheck:U().func,paddingOffset:U().number,offsetSize:U().number},getDefaultProps:function(){return{collapse:!1,childrenOnly:!1,depth:0,paddingOffset:0,offsetSize:20,onNodeSelect:function(e){}}},listenToNode:function(e){this._childrenListener=function(){this.isMounted()&&this.setState({children:this._nodeToChildren(e)})}.bind(this),this._nodeListener=function(){this.isMounted()&&this.forceUpdate()}.bind(this),e.observe("child_added",this._childrenListener),e.observe("child_removed",this._childrenListener),e.observe("loaded",this._childrenListener),e.observe("loading",this._nodeListener),e.observe("node_replaced",this._nodeListener)},stopListening:function(e){e.stopObserving("child_added",this._childrenListener),e.stopObserving("child_removed",this._childrenListener),e.stopObserving("loaded",this._childrenListener),e.stopObserving("loading",this._nodeListener),e.stopObserving("node_replaced",this._nodeListener)},componentDidMount:function(){this.listenToNode(this.props.node)},componentWillUnmount:function(){this.stopListening(this.props.node)},componentWillReceiveProps:function(e){var t=this.props.node,r=e.node;if(r===t&&r.getMetadata().get("paginationData")){var n=this.state.children.map((function(e){return e.setParent(r),e})),o=this.state.children.map((function(e){return e.getPath()}));this._nodeToChildren(r).forEach((function(e){-1===o.indexOf(e.getPath())&&n.push(e)})),this.setState({children:n})}else this.setState({children:this._nodeToChildren(r)});r!==t&&(this.stopListening(t),this.listenToNode(r))},getInitialState:function(){return{showChildren:!this.props.collapse||this.props.forceExpand,children:this._nodeToChildren(this.props.node)}},_nodeToChildren:function(){var e=[];return this.props.node.getChildren().forEach((function(t){t.isLeaf()&&"ajxp_browsable_archive"!==t.getAjxpMime()||e.push(t)})),e.sort((function(e,t){return e.isRecycle()?1:t.isRecycle()?-1:e.getLabel().localeCompare(t.getLabel(),void 0,{numeric:!0})})),e},onNodeSelect:function(e){this.props.onNodeSelect&&this.props.onNodeSelect(this.props.node),e.preventDefault(),e.stopPropagation()},onChildDisplayToggle:function(e){this.props.node.getChildren().size&&this.setState({showChildren:!this.state.showChildren}),e.preventDefault(),e.stopPropagation()},nodeIsSelected:function(e){return this.props.nodeIsSelected?this.props.nodeIsSelected(e):-1!==this.props.dataModel.getSelectedNodes().indexOf(e)},render:function(){var e,r=this.props,o=r.node,i=r.dataModel,a=r.childrenOnly,c=r.canDrop,s=r.isOverCurrent,u=r.checkboxes,l=r.checkboxesComputeStatus,f=r.checkboxesValues,p=r.onCheckboxCheck,d=r.depth,h=r.paddingOffset,y=r.offsetSize,m=r.forceExpand,b=r.selectedItemStyle,w=r.getItemStyle,S=r.getRightIcon,O=r.forceLabel,P=r.showLoader,k=r.noPaginator;if(this.state.children.length)e=t().createElement("span",{onClick:this.onChildDisplayToggle},this.state.showChildren||m?t().createElement("span",{className:"tree-icon mdi mdi-menu-down"}):t().createElement("span",{className:"tree-icon mdi mdi-menu-right"}));else{var _="tree-icon mdi mdi-menu-right";o.isLoaded()&&(_+=" no-folder-children"),e=t().createElement("span",{className:_})}var E,j=this.nodeIsSelected(o)?"mui-menu-item mui-is-selected":"mui-menu-item";if(!a){var x;if(c&&s&&(j+=" droppable-active"),u){var C={},T=!1,R={},I="";if(l){var L=l(o);C=L.VALUES,T=L.INHERITED,R=L.DISABLED,L.CLASSNAME&&(I=" "+L.CLASSNAME)}else f&&f[o.getPath()]&&(C=f[o.getPath()]);var M=[];x=u.map(function(e){var r=void 0!==C[e]&&C[e],n=function(t,r){p(o,e,r)}.bind(this);return r&&M.push(e),t().createElement(v.Checkbox,{name:e,key:e+"-"+(r?"true":"false"),checked:r,onCheck:n,disabled:R[e],className:"cbox-"+e,style:{width:44}})}.bind(this)),j+=T?" inherited ":"",j+=M.length?" checkbox-values-"+M.join("-"):" checkbox-values-empty",x=t().createElement("div",{style:{display:"flex",alignItems:"center"},className:"tree-checkboxes"+I},x)}var A,D={paddingLeft:h+d*y};this.nodeIsSelected(o)&&b&&(D=yc(yc({},D),b)),w&&(D=yc(yc({},D),w(o))),S&&(A=S(o));var N,U="mdi mdi-folder",B=o.getAjxpMime();"ajxp_browsable_archive"===B?U="mdi mdi-archive":"ajxp_recycle"===B&&(U="mdi mdi-delete"),P&&o.isLoading()&&(N=t().createElement(v.CircularProgress,{size:14,style:{marginLeft:7},thickness:1})),E=t().createElement(gc,{node:o,className:"tree-item "+j+(x?" has-checkboxes":""),style:D},t().createElement("div",{className:"tree-item-label",style:{display:"flex",alignItems:"center"},onClick:this.onNodeSelect,title:o.getLabel(),"data-id":o.getPath()},e,t().createElement("span",{className:"tree-icon "+U}),t().createElement("span",{style:{flex:1}},O||o.getLabel()),N,A),x)}var z=[],F=function(e){return e},q=!1;if(g()&&this.props.connectDropTarget&&this.props.connectDragSource){var W=this.props.connectDragSource,Z=this.props.connectDropTarget;F=function(e){W(n().findDOMNode(e)),Z(n().findDOMNode(e))},q=!0}return(this.state.showChildren||m)&&(z=this.state.children.map(function(e){var r=yc(yc({},this.props),{},{forceLabel:null,childrenOnly:!1,key:e.getPath(),node:e,depth:d+1});return t().createElement(q?Sc:wc,r)}.bind(this))),t().createElement("li",{ref:F,className:"treenode"+o.getPath().replace(/\//g,"_")},E,t().createElement("ul",null,!k&&o.getMetadata().has("paginationData")&&parseInt(o.getMetadata().get("paginationData").get("total"))>1&&t().createElement(Oc,{node:o,dataModel:i,depth:d+1,paddingOffset:h}),z))}}),Sc=wc;g()&&(Sc=g().flow(g().DragSource(l.NODE_PROVIDER,y,f),g().DropTarget(l.NODE_PROVIDER,m,p))(wc));var Oc=function(e){uc(n,e);var r=fc(n);function n(){return ac(this,n),r.apply(this,arguments)}return sc(n,[{key:"goTo",value:function(e){var t=this.props,r=t.dataModel,n=t.node;n.getMetadata().get("paginationData").set("new_page",e),r.requireContextChange(n)}},{key:"render",value:function(){var e=this,r=this.props,n=r.node,o=r.depth,i=r.paddingOffset,a=r.offsetSize,c=(r.muiTheme,{style:{width:24,height:24,padding:0}}),s=n.getMetadata().get("paginationData"),u=s.get("current"),l=s.get("total"),f=z().getMessages()[331]+" "+u+" / "+l;return t().createElement("li",null,t().createElement("div",{style:{paddingLeft:i+o*a,paddingTop:5,paddingBottom:5,display:"flex",alignItems:"center"}},t().createElement("div",{style:{paddingLeft:14,paddingRight:6},className:"mdi mdi-format-list-bulleted"}),t().createElement("div",{style:{display:"flex",alignItems:"center",borderRadius:3,marginRight:10}},t().createElement(v.IconButton,ic({iconClassName:"mdi mdi-chevron-left",onClick:function(){e.goTo(u-1)},disabled:1===u},c)),t().createElement("div",{style:{padding:"0 20px",flex:1,textAlign:"center",fontSize:13}},f),t().createElement(v.IconButton,ic({iconClassName:"mdi mdi-chevron-right",onClick:function(){e.goTo(u+1)},disabled:u===l},c)))))}}]),n}(t().Component);Oc=(0,V.muiThemeable)()(Oc);var Pc=function(e){uc(n,e);var r=fc(n);function n(){var e;ac(this,n);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return mc(pc(e=r.call.apply(r,[this].concat(o))),"onNodeSelect",(function(t){e.props.onNodeSelect?e.props.onNodeSelect(t):e.props.dataModel.setSelectedNodes([t])})),e}return sc(n,[{key:"render",value:function(){return t().createElement("ul",{className:this.props.className},t().createElement(Sc,{childrenOnly:!this.props.showRoot,forceExpand:this.props.forceExpand,node:this.props.node?this.props.node:this.props.dataModel.getRootNode(),dataModel:this.props.dataModel,onNodeSelect:this.onNodeSelect,nodeIsSelected:this.props.nodeIsSelected,forceLabel:this.props.rootLabel,checkboxes:this.props.checkboxes,checkboxesValues:this.props.checkboxesValues,checkboxesComputeStatus:this.props.checkboxesComputeStatus,onCheckboxCheck:this.props.onCheckboxCheck,selectedItemStyle:this.props.selectedItemStyle,getItemStyle:this.props.getItemStyle,getRightIcon:this.props.getRightIcon,paddingOffset:this.props.paddingOffset,offsetSize:this.props.offsetSize,noPaginator:this.props.noPaginator,showLoader:this.props.showLoader}))}}]),n}(t().Component);mc(Pc,"propTypes",{showRoot:U().bool,rootLabel:U().string,onNodeSelect:U().func,node:U().instanceOf(AjxpNode).isRequired,dataModel:U().instanceOf(PydioDataModel).isRequired,selectable:U().bool,selectableMultiple:U().bool,initialSelectionModel:U().array,onSelectionChange:U().func,forceExpand:U().bool,nodeIsSelected:U().func,showLoader:U().bool,checkboxes:U().array,checkboxesValues:U().object,checkboxesComputeStatus:U().func,onCheckboxCheck:U().func,paddingOffset:U().number,offsetSize:U().number}),mc(Pc,"defaultProps",{showRoot:!0,onNodeSelect:Pc.onNodeSelect});var kc=function(e){uc(n,e);var r=fc(n);function n(){var e;ac(this,n);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return mc(pc(e=r.call.apply(r,[this].concat(o))),"onNodeSelect",(function(t){e.props.onNodeSelect?e.props.onNodeSelect(t):e.props.dataModel.setSelectedNodes([t])})),e}return sc(n,[{key:"render",value:function(){return t().createElement("ul",{className:this.props.className},t().createElement(wc,{childrenOnly:!this.props.showRoot,forceExpand:this.props.forceExpand,node:this.props.node?this.props.node:this.props.dataModel.getRootNode(),dataModel:this.props.dataModel,onNodeSelect:this.onNodeSelect,nodeIsSelected:this.props.nodeIsSelected,forceLabel:this.props.rootLabel,checkboxes:this.props.checkboxes,checkboxesValues:this.props.checkboxesValues,checkboxesComputeStatus:this.props.checkboxesComputeStatus,onCheckboxCheck:this.props.onCheckboxCheck,selectedItemStyle:this.props.selectedItemStyle,getItemStyle:this.props.getItemStyle,getRightIcon:this.props.getRightIcon,paddingOffset:this.props.paddingOffset,offsetSize:this.props.offsetSize,showLoader:this.props.showLoader}))}}]),n}(t().Component);mc(kc,"propTypes",{showRoot:U().bool,rootLabel:U().string,onNodeSelect:U().func,node:U().instanceOf(AjxpNode).isRequired,dataModel:U().instanceOf(PydioDataModel).isRequired,selectable:U().bool,selectableMultiple:U().bool,initialSelectionModel:U().array,onSelectionChange:U().func,forceExpand:U().bool,nodeIsSelected:U().func,showLoader:U().bool,checkboxes:U().array,checkboxesValues:U().object,checkboxesComputeStatus:U().func,onCheckboxCheck:U().func,paddingOffset:U().number,offsetSize:U().number}),mc(kc,"defaultProps",{showRoot:!0,onNodeSelect:kc.onNodeSelect});var _c=function(e){uc(n,e);var r=fc(n);function n(){var e;ac(this,n);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return mc(pc(e=r.call.apply(r,[this].concat(o))),"nodeObserver",(function(){var t=e.props.dataModel.getRootNode();t.isLoaded()?e.forceUpdate():t.observeOnce("loaded",function(){this.forceUpdate()}.bind(pc(e)))})),mc(pc(e),"treeNodeSelected",(function(t){e.props.onNodeSelected?e.props.onNodeSelected(t):e.props.dataModel.requireContextChange(t)})),mc(pc(e),"nodeIsSelected",(function(t){return t===e.props.dataModel.getContextNode()})),e}return sc(n,[{key:"componentDidMount",value:function(){var e=this.props.dataModel;this._dmObs=this.nodeObserver,e.observe("context_changed",this._dmObs),e.observe("root_node_changed",this._dmObs),this.nodeObserver()}},{key:"componentWillUnmount",value:function(){if(this._dmObs){var e=this.props.dataModel;e.stopObserving("context_changed",this._dmObs),e.stopObserving("root_node_changed",this._dmObs)}}},{key:"render",value:function(){return this.props.draggable?t().createElement(Pc,{onNodeSelect:this.treeNodeSelected,nodeIsSelected:this.nodeIsSelected,dataModel:this.props.dataModel,node:this.props.rootNode||this.props.dataModel.getRootNode(),showRoot:!!this.props.showRoot,selectedItemStyle:this.props.selectedItemStyle,getItemStyle:this.props.getItemStyle,getRightIcon:this.props.getRightIcon,rootLabel:this.props.rootLabel,noPaginator:this.props.noPaginator,paddingOffset:this.props.paddingOffset,offsetSize:this.props.offsetSize,className:"folders-tree"+(this.props.className?" "+this.props.className:"")}):t().createElement(kc,{onNodeSelect:this.treeNodeSelected,nodeIsSelected:this.nodeIsSelected,dataModel:this.props.dataModel,node:this.props.rootNode||this.props.dataModel.getRootNode(),selectedItemStyle:this.props.selectedItemStyle,getItemStyle:this.props.getItemStyle,getRightIcon:this.props.getRightIcon,showRoot:!!this.props.showRoot,rootLabel:this.props.rootLabel,noPaginator:this.props.noPaginator,paddingOffset:this.props.paddingOffset,offsetSize:this.props.offsetSize,className:"folders-tree"+(this.props.className?" "+this.props.className:"")})}}]),n}(t().Component);function Ec(e){return Ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(e)}function jc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jc(Object(r),!0).forEach((function(t){Cc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Cc(e,t,r){return(t=Rc(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rc(n.key),n)}}function Rc(e){var t=function(e,t){if("object"!==Ec(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ec(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ec(t)?t:String(t)}function Ic(e,t){return Ic=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ic(e,t)}function Lc(e){return Lc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Lc(e)}mc(_c,"propTypes",{pydio:U().instanceOf(z()).isRequired,dataModel:U().instanceOf(PydioDataModel).isRequired,className:U().string,onNodeSelected:U().func,draggable:U().bool,rootLabel:U().string});var Mc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ic(e,t)}(c,e);var r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Lc(o);if(i){var r=Lc(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ec(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).state={show:!1},t}return r=c,(n=[{key:"show",value:function(){this.setState({show:!0})}},{key:"hide",value:function(){this.setState({show:!1})}},{key:"render",value:function(){if(this.props.tooltip){var e,r={};this.props.label||this.props.labelElement?this.state.show&&(r={bottom:-10,top:"inherit"}):r={position:"relative"},this.props.label?e=t().createElement("span",{className:"ellipsis-label"},this.props.label):this.props.labelElement&&(e=this.props.labelElement);var n=this.props.style||{position:"relative"};return t().createElement("span",{onMouseEnter:this.show.bind(this),onMouseLeave:this.hide.bind(this),style:n,className:this.props.className},e,this.props.children,t().createElement("div",{label:this.props.tooltip,style:xc(xc({},r),{},{display:this.state.show?"block":"none"}),className:this.props.tooltipClassName}))}return this.props.label?t().createElement("span",null,this.props.label):this.props.labelElement?this.props.labelElement:t().createElement("span",null,this.props.children)}}])&&Tc(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(t().Component);function Ac(e){return Ac="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(e)}function Dc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Nc(e,t,r){return(t=Bc(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bc(n.key),n)}}function Bc(e){var t=function(e,t){if("object"!==Ac(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ac(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ac(t)?t:String(t)}function zc(e,t){return zc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zc(e,t)}function Fc(e){return Fc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fc(e)}var qc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zc(e,t)}(c,e);var r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Fc(o);if(i){var r=Fc(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ac(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),a.call(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dc(Object(r),!0).forEach((function(t){Nc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({colorIndicator:""},e))}return r=c,(n=[{key:"render",value:function(){return t().createElement(v.Paper,{style:{display:"inline-block",marginLeft:16}},t().createElement("div",{className:"figure-badge",style:this.props.colorIndicator?{borderLeftColor:this.props.colorIndicator}:{}},t().createElement("div",{className:"figure"},this.props.figure),t().createElement("div",{className:"legend"},this.props.legend)))}}])&&Uc(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(t().Component);const Wc=require("clipboard");var Zc=__webpack_require__.n(Wc);function Gc(e){return Gc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(e)}function Hc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vc(e,t,r){return(t=Kc(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kc(n.key),n)}}function Kc(e){var t=function(e,t){if("object"!==Gc(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Gc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Gc(t)?t:String(t)}function $c(e,t){return $c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$c(e,t)}function Yc(e){return Yc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yc(e)}var Xc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$c(e,t)}(c,e);var r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Yc(o);if(i){var r=Yc(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Gc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).state={copyMessage:null},t}return r=c,n=[{key:"componentDidMount",value:function(){this.attachClipboard()}},{key:"componentDidUpdate",value:function(){this.attachClipboard()}},{key:"attachClipboard",value:function(){this._clip&&this._clip.destroy(),this.refs["copy-button"]&&(this._clip=new(Zc())(this.refs["copy-button"],{text:function(e){return this.props.inputValue}.bind(this)}),this._clip.on("success",function(){this.setState({copyMessage:this.props.getMessage(this.props.inputCopyMessage||"192")},this.clearCopyMessage.bind(this))}.bind(this)),this._clip.on("error",function(){var e;e=0===__webpack_require__.g.navigator.platform.indexOf("Mac")?this.props.getMessage("144"):this.props.getMessage("143"),this.refs.input.focus(),this.setState({copyMessage:e},this.clearCopyMessage.bind(this))}.bind(this)))}},{key:"clearCopyMessage",value:function(){__webpack_require__.g.setTimeout(function(){this.setState({copyMessage:""})}.bind(this),3e3)}},{key:"render",value:function(){var e=null;if(this.state.copyMessage){var r=function(){return{__html:this.state.copyMessage}}.bind(this);e=t().createElement("div",{style:{color:"rgba(0,0,0,0.23)"},className:"copy-message",dangerouslySetInnerHTML:r()})}var n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hc(Object(r),!0).forEach((function(t){Vc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({position:"absolute",right:-8,bottom:13,fontSize:15,color:this.props.buttonColor||"rgba(0, 150, 136, 0.52)",height:26,width:26,lineHeight:"28px",textAlign:"center",cursor:"pointer",borderRadius:"50%"},this.props.buttonStyle);return t().createElement("div",null,t().createElement("div",{style:{position:"relative"}},t().createElement(v.TextField,{fullWidth:!0,ref:"input",floatingLabelText:this.props.floatingLabelText,floatingLabelStyle:{whiteSpace:"nowrap"},underlineShow:this.props.underlineShow,defaultValue:this.props.inputValue,className:this.props.inputClassName,multiLine:this.props.multiLine,rows:this.props.rows,rowsMax:this.props.rowsMax,readOnly:!0,onClick:function(e){e.currentTarget.select()},style:{marginTop:-10,width:"92%",fontSize:14}}),t().createElement("span",{ref:"copy-button",style:n,title:this.props.getMessage("191"),className:"copy-button mdi mdi-content-copy"})),e)}}],n&&Jc(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(t().Component);function Qc(e){return Qc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(e)}function es(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ts(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?es(Object(r),!0).forEach((function(t){rs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):es(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rs(e,t,r){return(t=as(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ns(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function os(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,as(n.key),n)}}function is(e,t,r){return t&&os(e.prototype,t),r&&os(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function as(e){var t=function(e,t){if("object"!==Qc(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Qc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Qc(t)?t:String(t)}function cs(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ss(e,t)}function ss(e,t){return ss=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ss(e,t)}function us(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ls(e);if(t){var o=ls(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Qc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function ls(e){return ls=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ls(e)}var fs=z().requireLib("hoc"),ps=fs.PlaceHolder,ds=fs.PhRoundShape,hs=fs.PhTextRow,ys=function(e){cs(n,e);var r=us(n);function n(){return ns(this,n),r.apply(this,arguments)}return is(n,[{key:"render",value:function(){var e=this.props,r=e.iconClassName,n=e.legend,o=e.data,i=e.dataStyle,a=e.legendStyle,c=e.iconStyle,s=e.placeHolder,u=e.placeHolderReady,l=e.muiTheme,f={icon:ts({margin:"16px 20px 0"},c),legend:ts({fontSize:12,color:l.palette.mui3["on-surface"],fontWeight:500},a),data:ts({fontSize:14,paddingRight:6,overflow:"hidden",textOverflow:"ellipsis"},i)},p=t().createElement("div",{style:ts({display:"flex",marginBottom:8,overflow:"hidden"},this.props.style)},t().createElement("div",{style:{width:64}},t().createElement(v.FontIcon,{color:l.palette.mui3.secondary||"#aaaaaa",className:r,style:f.icon})),t().createElement("div",{style:{flex:1}},t().createElement("div",{style:f.legend},n),t().createElement("div",{style:f.data},o)));if(s){var d=t().createElement("div",{style:ts({display:"flex",marginBottom:16,overflow:"hidden"},this.props.style)},t().createElement("div",{style:{width:64}},t().createElement(ds,{style:{width:35,height:35,margin:"10px 15px 0"}})),t().createElement("div",{style:{flex:1}},t().createElement("div",{style:ts(ts({},f.legend),{},{maxWidth:100})},t().createElement(hs,null)),t().createElement("div",{style:ts(ts({},f.data),{},{marginRight:24})},t().createElement(hs,{style:{height:"1.3em",marginTop:"0.4em"}}))));return t().createElement(ps,{ready:u,showLoadingAnimation:!0,customPlaceholder:d},p)}return p}}]),n}(t().Component);ys=(0,V.muiThemeable)()(ys);var ms=function(e){cs(n,e);var r=us(n);function n(){return ns(this,n),r.apply(this,arguments)}return is(n,[{key:"render",value:function(){var e=this.props,r=e.title,n=e.onDismissAction,o=e.onEditAction,i=e.onDeleteAction,a=e.otherActions,c=e.moreMenuItems,s=e.children,u=e.muiTheme,l=e.style,f=e.headerSmall,p=e.editTooltip,d=e.deleteTooltip,h=u.palette.mui3["secondary-container"],y=u.palette.mui3["on-secondary-container"],m=u.palette.mui3.primary,b={headerHeight:"auto",buttonBarHeight:60,headerBg:h,headerColor:y,buttonBar:{display:"flex",height:60},fabTop:80,button:{style:{},iconStyle:{color:m}}};return f&&(b={headerHeight:"auto",headerBg:h,headerColor:y,buttonBar:{display:"flex",alignItems:"center",height:42,padding:"0 7px 0 16px"},fabTop:60,button:{style:{width:38,height:38,padding:9},iconStyle:{color:m,fontSize:18}}}),t().createElement("div",{style:ts({width:"100%",position:"relative"},l)},t().createElement(v.Paper,{zDepth:0,style:{backgroundColor:b.headerBg,color:b.headerColor,height:b.headerHeight,borderRadius:"2px 2px 0 0"}},t().createElement("div",{style:b.buttonBar},f&&t().createElement("span",{style:{flex:1,fontSize:14,fontWeight:500}},r),!f&&t().createElement("span",{style:{flex:1}}),a,o&&f&&t().createElement(v.IconButton,{style:b.button.style,iconStyle:b.button.iconStyle,iconClassName:"mdi mdi-pencil",onClick:o,tooltip:p,tooltipPosition:"bottom-left"}),i&&t().createElement(v.IconButton,{style:b.button.style,iconStyle:b.button.iconStyle,iconClassName:"mdi mdi-delete",onClick:i,tooltip:d,tooltipPosition:"bottom-left"}),c&&c.length>0&&t().createElement(v.IconMenu,{anchorOrigin:{vertical:"top",horizontal:f?"right":"left"},targetOrigin:{vertical:"top",horizontal:f?"right":"left"},iconButtonElement:t().createElement(v.IconButton,{style:b.button.style,iconStyle:b.button.iconStyle,iconClassName:"mdi mdi-dots-vertical"})},c),n&&t().createElement(v.IconButton,{style:b.button.style,iconStyle:b.button.iconStyle,iconClassName:"mdi mdi-close",onClick:n})),!f&&t().createElement("div",{style:{paddingLeft:o?64:20,fontSize:20,lineHeight:"26px",paddingBottom:16}},r)),t().createElement("div",{style:{paddingTop:12,paddingBottom:8,position:"relative"}},o&&!f&&t().createElement(v.FloatingActionButton,{onClick:o,backgroundColor:u.palette.mui3.tertiary,mini:!0,style:{position:"absolute",top:-20,left:10}},t().createElement(v.FontIcon,{className:"mdi mdi-pencil",style:{color:u.palette.mui3["on-tertiary"]}})),s))}}]),n}(t().Component);function vs(e){return vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vs(e)}function bs(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gs(n.key),n)}}function gs(e){var t=function(e,t){if("object"!==vs(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==vs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===vs(t)?t:String(t)}function ws(e,t){return ws=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ws(e,t)}function Ss(e){return Ss=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ss(e)}ms=(0,V.muiThemeable)()(ms);var Os=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ws(e,t)}(c,e);var r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ss(o);if(i){var r=Ss(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===vs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),a.apply(this,arguments)}return r=c,(n=[{key:"render",value:function(){var e=this.props.node,r=parseInt(e.getMetadata().get("ws_quota_usage")),n=parseInt(e.getMetadata().get("ws_quota"));r=Math.min(r,n);var o=Math.round(r/n*100),i="#4caf50";o>90?i="#e53935":o>60&&(i="#ff9800");var a=z().getMessages()["workspace.quota-usage"]+" ("+pe().roundFileSize(n)+")",c=t().createElement("div",{style:{borderRadius:4,display:"flex",marginRight:25,alignItems:"center",marginTop:5,backgroundColor:"#f5f5f5",padding:"7px 8px"}},t().createElement("div",{style:{flex:1,paddingRight:12}},t().createElement(v.LinearProgress,{mode:"determinate",min:0,max:n,value:r,color:i})),t().createElement("div",{style:{color:"#bdbdbd",fontWeight:500,fontSize:18}},o,"%"));return t().createElement(ys,{iconClassName:"mdi mdi-gauge",legend:a,data:c,iconStyle:{marginTop:30}})}}])&&bs(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(t().Component);function Ps(e){return Ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ps(e)}var ks=["style","titleStyle","iconStyleRight","iconStyleLeft"];function _s(){return _s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_s.apply(this,arguments)}function Es(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function js(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Es(Object(r),!0).forEach((function(t){xs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Es(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xs(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ps(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ps(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ps(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cs(e){return Cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cs(e)}function Ts(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rs(n.key),n)}}function Rs(e){var t=function(e,t){if("object"!==Cs(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Cs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Cs(t)?t:String(t)}function Is(e,t){return Is=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Is(e,t)}function Ls(e){return Ls=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ls(e)}var Ms={node:U().instanceOf(AjxpNode).isRequired,registry:U().instanceOf(Registry).isRequired,editorData:U().object.isRequired,icon:U().bool},As=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Is(e,t)}(c,e);var r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ls(o);if(i){var r=Ls(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Cs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).state={ready:!1},t}return r=c,(n=[{key:"componentDidMount",value:function(){var e=this,t=this.props,r=t.editorData;t.registry.loadEditorResources(r.resourcesManager,(function(){return e.setState({ready:!0})}))}},{key:"render",value:function(){var e,r=this.props.editorData;return this.state.ready?(e=FuncUtils.getFunctionByName(r.editorClass,window))?t().createElement(e.Editor,this.props):t().createElement("div",null,"Cannot find editor component ("+r.editorClass+")!"):null}}])&&Ts(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(t().Component);As.propTypes=Ms,As.defaultProps={icon:!1};const Ds=As;var Ns=__webpack_require__(62610),Us=__webpack_require__.n(Ns),Bs=__webpack_require__(13674),zs=__webpack_require__.n(Bs);function Fs(e){return Fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fs(e)}function qs(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ws(n.key),n)}}function Ws(e){var t=function(e,t){if("object"!==Fs(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Fs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Fs(t)?t:String(t)}function Zs(e,t){return Zs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zs(e,t)}function Gs(e){return Gs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Gs(e)}var Hs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zs(e,t)}(a,Observable);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Gs(n);if(o){var r=Gs(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Fs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e,t,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this))._namespace=e,n._pydio=r,n._cards=n.getUserPreference("Cards"),n._cards||(n._cards=t),n}return t=a,r=[{key:"getUserPreference",value:function(e){var t=this._namespace+e,r=this._pydio.user.getPreference("gui_preferences",!0);return r&&r[t]?r[t]:null}},{key:"saveUserPreference",value:function(e,t){var r=this._namespace+e,n=this._pydio.user.getPreference("gui_preferences",!0);n||(n={}),n[r]=t,this._pydio.user.setPreference("gui_preferences",n,!0),this._pydio.user.savePreference("gui_preferences")}},{key:"saveCards",value:function(e){this.saveUserPreference("Cards",e)}},{key:"resetCards",value:function(){this.saveUserPreference("Cards",null)}},{key:"setCards",value:function(e){this._cards=e,this.notify("cards",this._cards),this.saveCards(e)}},{key:"getCards",value:function(){return this._cards}},{key:"removeCard",value:function(e){var t,r=-1,n=this.getCards();n.map((function(t,n){t.id==e&&(r=n)})),-1!=r?(t=0==r?n.slice(1):r==n.length-1?n.slice(0,-1):n.slice(0,r).concat(n.slice(r+1)),this.setCards(t)):console.warn("Card ID not found, this is strange.",e)}},{key:"createCardId",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=LangUtils.computeStringSlug(e.title);t&&(r+="-"+Math.round(100*Math.random()+10));var n=!1;return this._cards.map(function(e){e.id==r&&(n=!0)}.bind(this)),n&&(r=this.createCardId(e,!0)),r}},{key:"addCard",value:function(e){e.id=this.createCardId(e),this.setCards(this._cards.concat([e]))}}],r&&qs(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}();function Vs(e){return Vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vs(e)}function Js(){return Js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Js.apply(this,arguments)}function Ks(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$s(n.key),n)}}function $s(e){var t=function(e,t){if("object"!==Vs(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Vs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Vs(t)?t:String(t)}function Ys(e,t){return Ys=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ys(e,t)}function Xs(e){return Xs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xs(e)}var Qs=__webpack_require__(16689),eu=__webpack_require__(10757).requireLib("boot"),tu=eu.PydioContextConsumer,ru=eu.AsyncComponent,nu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ys(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Xs(n);if(o){var r=Xs(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Vs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={selectedIndex:0,availableWidgets:t.listAvailableWidgets()},t}return t=a,r=[{key:"listAvailableWidgets",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[],r=[];return this.props.namespaces.map((function(e){if(__webpack_require__.g[e]){for(var n in __webpack_require__.g[e])if(__webpack_require__.g[e].hasOwnProperty(n)){var o=__webpack_require__.g[e][n];o.hasBuilderFields&&o.hasBuilderFields()&&t.push({reactClass:o,fullName:e+"."+o.displayName})}}else r.push(e)})),r.length&&!e&&ResourcesManager.loadClassesAndApply(r,function(){this.setState({availableWidgets:this.listAvailableWidgets(!0)})}.bind(this)),t}},{key:"onDropDownChange",value:function(e,t,r){var n={};0!=t&&r.payload.reactClass.getBuilderFields().map((function(e){e.default&&(n[e.name]=e.default)})),this.props.onEditStatusChange&&this.props.onEditStatusChange(0!=t),this.setState({selectedIndex:t,selectedWidget:r.payload,currentFormValues:n})}},{key:"cancel",value:function(){this.props.onEditStatusChange&&this.props.onEditStatusChange(!1),this.setState({selectedIndex:0})}},{key:"onFormValueChange",value:function(e){this.setState({currentFormValues:e})}},{key:"onFormSubmit",value:function(){var e=this.state.currentFormValues,t=this.state.selectedWidget,r=e.title?e.title:e.legend;r||(r=this.state.selectedWidget.reactClass.builderDisplayName),this.props.onCreateCard({componentClass:t.fullName,title:r,props:e}),this.cancel()}},{key:"resetLayout",value:function(){window.confirm(this.props.getMessage("home.51"))&&this.props.onResetLayout()}},{key:"render",value:function(){var e,t,r=this.props.getMessage,n=([{payload:0,text:r("home.50")}].concat(this.state.availableWidgets.map((function(e,t){return{payload:e,text:e.reactClass.builderDisplayName}}))),Qs.createElement("div",null,"DropDownMenu (to be re-implemented)"));if(0!==this.state.selectedIndex){var o=this.state.selectedWidget.reactClass.getBuilderFields(),i={};o.map((function(e){e.default&&(i[e.name]=e.default)})),this.state.currentFormValues&&(i=LangUtils.mergeObjectsRecursive(i,this.state.currentFormValues)),e=Qs.createElement(ru,{namespace:"PydioForm",componentName:"FormPanel",parameters:o,depth:-1,values:i,onChange:this.onFormValueChange}),t=Qs.createElement("div",{style:{textAlign:"center",paddingBottom:100}},Qs.createElement(v.RaisedButton,{label:r("home.52"),onClick:this.onFormSubmit})," ",Qs.createElement(v.RaisedButton,{label:r("54",""),onClick:this.cancel}))}return Qs.createElement(v.Paper,Js({},this.props,{zDepth:3}),Qs.createElement("h3",null,r("home.53")),Qs.createElement("div",{className:"legend"},r("home.54"),Qs.createElement("br",null),r("home.55")),n,e,t,Qs.createElement("div",{style:{position:"absolute",bottom:30,left:10}},Qs.createElement(v.FlatButton,{disabled:0!=this.state.selectedIndex,label:r("home.56"),secondary:!0,onClick:this.resetLayout})))}}],r&&Ks(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(Qs.Component);function ou(e){return ou="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(e)}function iu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function au(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?iu(Object(r),!0).forEach((function(t){cu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cu(e,t,r){return(t=fu(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function su(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fu(n.key),n)}}function lu(e,t,r){return t&&uu(e.prototype,t),r&&uu(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fu(e){var t=function(e,t){if("object"!==ou(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ou(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ou(t)?t:String(t)}function pu(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&du(e,t)}function du(e,t){return du=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},du(e,t)}function hu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=mu(e);if(t){var o=mu(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===ou(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yu(e)}(this,r)}}function yu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mu(e){return mu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mu(e)}nu=tu(nu);var vu=__webpack_require__(16689),bu=__webpack_require__(10757).requireLib("boot").PydioContextConsumer,gu=function(e){pu(r,e);var t=hu(r);function r(e,n){var o;return su(this,r),(o=t.call(this,e,n))._storeObserver=function(t){var r=this;this._forceUpdate=!0,this.setState({cards:e.store.getCards()},(function(){r._forceUpdate=!1}))}.bind(yu(o)),e.store.observe("cards",o._storeObserver),o.state={cards:e.store.getCards()},o.requests=[],o.throttle=kn().getThrottler({concurrent:6}),o.restClient=kn().getRestClient({silent:!0,plugins:[o.throttle.plugin(),function(e){return o.requests.push(e),e}]}),__webpack_require__.e(597).then(__webpack_require__.t.bind(__webpack_require__,25993,23)).then((function(e){o.setState({rgl:e.default})})),o}return lu(r,[{key:"saveFullLayouts",value:function(e){var t={};Object.keys(e).forEach((function(r){t[r]=e[r].map((function(e){return{i:e.i,h:e.h,w:e.w,x:e.x,y:e.y}}))}));var r=this.props.store.getUserPreference("Layout");zs()(r,t)||this.props.store.saveUserPreference("Layout",t)}},{key:"onLayoutChange",value:function(e,t){this._blockLayoutSave||this.saveFullLayouts(t)}},{key:"componentWillUnmount",value:function(){this.props.store.stopObserving("cards",this._storeObserver),this.throttle.options({active:!1}),this.requests.filter((function(e){return e.xhr})).map((function(e){return e.xhr.abort()}))}},{key:"componentWillReceiveProps",value:function(e){this.props&&e.editMode!==this.props.editMode&&Object.keys(this.refs).forEach(function(t){this.refs[t].toggleEditMode(e.editMode)}.bind(this))}},{key:"shouldComponentUpdate",value:function(e,t){return this._forceUpdate||t.rgl!==this.state.rgl||!1}},{key:"removeCard",value:function(e){this.props.removeCard(e)}},{key:"buildCards",value:function(e){var t=this,r=0,n={lg:[],md:[],sm:[],xs:[],xxs:[]},o=[],i=[],a=(Math.random(),this.props.store.getUserPreference("Layout")),c=function(e,t,r,n,o){var i=e.getGridLayout(n,o);return i.handle="h4",r.gridHandle&&(i.handle=r.gridHandle),i.i=t,i};return e.map((function(e){var s,u=e.componentClass.split("."),l=u[0],f=u[1];if(__webpack_require__.g[l]&&__webpack_require__.g[l][f]){s=__webpack_require__.g[l][f];var p=au({},e.props),d=p.key=e.id||"item_"+r;p.ref=d,p.restClient=t.restClient,p.pydio=t.props.pydio,p.onCloseAction=function(){t.removeCard(d)},p.preferencesProvider=t.props.store;var h=0,y=0;e.defaultPosition&&(h=e.defaultPosition.x,y=e.defaultPosition.y);var m=c(s,d,e,h,y);for(var v in n)if(n.hasOwnProperty(v)){var b,g=n[v];if(a&&a[v]&&a[v].map((function(e){e.i===d&&e.h===m.h&&(b=e)})),b)g.push(b);else if(e.defaultLayouts&&e.defaultLayouts[v]){var w=c(s,d,e,e.defaultLayouts[v].x,e.defaultLayouts[v].y);g.push(w)}else g.push(m)}r++,o.push(vu.createElement(s,p))}else __webpack_require__.g[l]||i.push(l)})),i.length&&(this._blockLayoutSave=!0,Us().loadClassesAndApply(i,function(){this.setState({additionalNamespacesLoaded:i},function(){this._blockLayoutSave=!1}.bind(this))}.bind(this))),{cards:o,layouts:n}}},{key:"render",value:function(){var e=this.state.rgl;if(!e)return null;var t=this.buildCards(this.state.cards),r=t.cards,n=t.layouts,o=e.Responsive,i=(0,e.WidthProvider)(o);return vu.createElement(i,{className:"dashboard-layout",cols:this.props.cols||{lg:10,md:8,sm:8,xs:4,xxs:2},layouts:n,rowHeight:5,onLayoutChange:this.onLayoutChange.bind(this),isDraggable:!this.props.disableDrag,style:this.props.style,autoSize:!1},r)}}]),r}(vu.Component),wu=function(e){pu(r,e);var t=hu(r);function r(e){var n;su(this,r),n=t.call(this,e);var o=new Hs(e.storeNamespace,e.defaultCards,e.pydio);return n.state={editMode:!1,store:o},n}return lu(r,[{key:"removeCard",value:function(e){this.state.store.removeCard(e)}},{key:"addCard",value:function(e){this.state.store.addCard(e)}},{key:"resetCardsAndLayout",value:function(){this.state.store.saveUserPreference("Layout",null),this.state.store.setCards(this.props.defaultCards)}},{key:"toggleEditMode",value:function(){this.setState({editMode:!this.state.editMode})}},{key:"render",value:function(){var e,t=this,r=function(e){this.setState({widgetEditing:e})}.bind(this);this.props.builderNamespaces&&this.state.editMode&&(e=vu.createElement(nu,{className:"admin-helper-panel",namespaces:this.props.builderNamespaces,onCreateCard:this.addCard.bind(this),onResetLayout:this.resetCardsAndLayout.bind(this),onEditStatusChange:r,getMessage:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ajxp_admin";return t.props.getMessage(e,r)}}));var n=this.props.rglStyle||{};return vu.createElement("div",{style:au(au({},this.props.style),{},{width:"100%",flex:"1"}),className:this.state.editMode?"builder-open":""},!this.props.disableEdit&&vu.createElement("div",{style:{position:"absolute",bottom:30,right:18,zIndex:11}},vu.createElement(v.FloatingActionButton,{tooltip:this.props.getMessage("home.49"),onClick:this.toggleEditMode.bind(this),iconClassName:this.state.editMode?"mdi mdi-check":"mdi mdi-pencil",mini:this.state.editMode,disabled:this.state.editMode&&this.state.widgetEditing})),e,vu.createElement("div",{className:"home-dashboard",style:{height:"100%"}},vu.createElement(gu,{disableDrag:this.props.disableDrag,cols:this.props.cols,store:this.state.store,style:n,pydio:this.props.pydio,editMode:this.state.editMode,removeCard:this.removeCard.bind(this)})))}}]),r}(vu.Component);function Su(e){return Su="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(e)}function Ou(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ou(Object(r),!0).forEach((function(t){ku(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ou(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ku(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Su(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Su(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Su(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}wu=bu(wu);const _u={propTypes:{showCloseAction:U().bool,onCloseAction:U().func},focusItem:function(){this.setState({focus:!0})},blurItem:function(){this.setState({focus:!1})},mergeStyleWithFocus:function(){return Pu(Pu({},this.props.style),{},{zIndex:this.state.focus?1:null})},getInitialSate:function(){return{focus:!1,showCloseAction:!1}},toggleEditMode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;void 0===e?this.setState({showCloseAction:!(this.state&&this.state.showCloseAction)}):this.setState({showCloseAction:e})},getCloseButton:function(){if(this.state&&this.state.showCloseAction){var e=this.props.onCloseAction||function(){};return React.createElement("div",{style:{position:"absolute",backgroundColor:"rgba(0,0,0,0.53)",zIndex:10,top:0,left:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center"}},React.createElement(v.FlatButton,{label:z().getInstance().MessageHash["ajxp_admin.home.48"],className:"card-close-button",onClick:e,style:{color:"white"}}))}return null},statics:{getGridLayout:function(e,t){return{x:e||0,y:t||0,w:this.gridWidth||4,h:this.gridHeight||12,isResizable:!1}},hasBuilderFields:function(){return!!this.builderFields},getBuilderFields:function(){return this.builderFields}}};function Eu(e){return Eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(e)}function ju(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ju(Object(r),!0).forEach((function(t){Cu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ju(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Cu(e,t,r){return(t=Ru(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ru(n.key),n)}}function Ru(e){var t=function(e,t){if("object"!==Eu(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Eu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Eu(t)?t:String(t)}function Iu(e,t){return Iu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Iu(e,t)}function Lu(e){return Lu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Lu(e)}var Mu=__webpack_require__(580),Au=__webpack_require__(16689).Component,Du=__webpack_require__(39455).FlatButton,Nu=__webpack_require__(13173).muiThemeable;function Uu(e){return Uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(e)}function Bu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zu(Object(r),!0).forEach((function(t){qu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qu(e,t,r){return(t=Zu(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zu(n.key),n)}}function Zu(e){var t=function(e,t){if("object"!==Uu(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Uu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Uu(t)?t:String(t)}function Gu(e,t){return Gu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Gu(e,t)}function Hu(e){return Hu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hu(e)}var Vu=z().requireLib("boot").PydioContextConsumer,Ju=z().requireLib("hoc").ModernSelectField,Ku=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gu(e,t)}(c,e);var r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Hu(o);if(i){var r=Hu(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Uu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),a.apply(this,arguments)}return r=c,n=[{key:"render",value:function(){var e,r,n,o=this.props,i=o.item,a=o.paginatorCallback,c=o.paginatorType,s=o.style,u=o.getMessage,l=o.paginatorLabel,f=o.muiTheme,p=(0,V.getMuiTheme)(Fu(Fu({},f),{},{zIndex:{layer:3e3,popover:3001}}));if(i.pagination){for(var d=i.pagination,h=d.start,y=d.max,m=d.interval,b=Math.ceil(y/m),g=Math.ceil(h/m),w=[],S=0;S<b;S++)w.push(S);e=t().createElement(v.MuiThemeProvider,{muiTheme:p},t().createElement(Ju,{floatingLabelText:u(331),style:{width:60},dropDownMenuProps:{anchorOrigin:{vertical:"center",horizontal:"right"}},fullWidth:!0,value:g,onChange:function(e,t,r){a(r*m+"-"+(r+1)*m)}},w.map((function(e){return t().createElement(v.MenuItem,{value:e,key:e,primaryText:e+1})}))))}if("alpha"===c){var O="abcdefghijklmnopqrstuvwxyz0123456789".split("");O=[-1].concat(function(e){if(Array.isArray(e))return Bu(e)}(n=O)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return Bu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bu(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var P=i.currentParams&&i.currentParams.alpha_pages&&i.currentParams.value||-1;r=t().createElement(v.MuiThemeProvider,{muiTheme:p},t().createElement(Ju,{floatingLabelText:u(625),style:{width:60,marginLeft:8},dropDownMenuProps:{anchorOrigin:{vertical:"center",horizontal:"right"}},fullWidth:!0,value:P,onChange:function(e,t,r){a(r)}},O.map((function(e){return t().createElement(v.MenuItem,{value:e,key:e,primaryText:-1===e?u(597,""):e})}))))}return t().createElement("div",{style:Fu(Fu({},s),{},{display:"flex",paddingRight:8,alignItems:"center"})},t().createElement("div",{style:{flex:1,height:20}},l||u(249,"")),e,r)}}],n&&Wu(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(e.Component);Ku.propTypes={item:U().object,paginatorCallback:U().func.isRequired,pydio:U().instanceOf(z()),mode:U().oneOf(["book","selector","popover"]).isRequired},Ku=Vu(Ku),Ku=(0,V.muiThemeable)()(Ku);var $u=__webpack_require__(4305),Yu=__webpack_require__.n($u);function Xu(e){return Xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(e)}function Qu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function el(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qu(Object(r),!0).forEach((function(t){il(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,al(n.key),n)}}function rl(e,t){return rl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rl(e,t)}function nl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ol(e){return ol=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ol(e)}function il(e,t,r){return(t=al(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function al(e){var t=function(e,t){if("object"!==Xu(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Xu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Xu(t)?t:String(t)}var cl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rl(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ol(n);if(o){var r=ol(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Xu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return nl(e)}(this,e)});function a(e,t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),il(nl(r=i.call(this,e,t)),"state",{});var n=e.onSearch;return e.setSearchTerm||(r.state={value:""},r.search=Yu()((function(){n(r.state.value)}),300)),r}return t=a,r=[{key:"onChange",value:function(e,t){var r=this.props.setSearchTerm;r?r(t):(this.setState({value:t}),this.search())}},{key:"render",value:function(){var e=this,t=this.props,r=t.underlineShow,n=t.searchLabel,o=t.style,i=t.inputStyle,a=t.underlineStyle,c=t.underlineFocusStyle,s=t.hintStyle,u=t.searchTerm,l=this.state.value;return React.createElement("div",{style:el({minWidth:320},o)},React.createElement(v.TextField,{fullWidth:!0,value:l||u,onChange:function(t,r){return e.onChange(t,r)},hintText:n,inputStyle:i,hintStyle:s,underlineStyle:a,underlineFocusStyle:c,underlineShow:void 0===r||r}))}}],r&&tl(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(e.Component);cl.propTypes={searchLabel:U().string.isRequired,onSearch:U().func.isRequired,style:U().object,underlineShow:U().bool};const sl=require("pydio/model/idm-object-helper");var ul=__webpack_require__.n(sl);const ll=require("pydio/model/cell");var fl=__webpack_require__.n(ll);function pl(e){return pl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(e)}function dl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hl(n.key),n)}}function hl(e){var t=function(e,t){if("object"!==pl(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==pl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===pl(t)?t:String(t)}const yl=function(){function e(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props={pydio:t,cellModel:r,acl:n,addressBookItem:o}}var t,r;return t=e,(r=[{key:"createCell",value:function(){var e,t=this.props,r=t.addressBookItem,n=t.pydio,o=n.MessageHash;r.IdmUser?e=r.IdmUser:r.IdmRole&&(e=r.IdmRole),e&&n.user.getIdmUser().then((function(t){var i=ul().extractLabelFromIdmObject(t),a=ul().extractLabelFromIdmObject(r.IdmUser||r.IdmRole),c=new(fl());c.setLabel(i+", "+a),c.setDescription("Created by "+i),c.addUser(e),c.save().then((function(e){n.UI.displayMessage("SUCCESS",o[643].replace("%s",a))})).catch((function(e){n.UI.displayMessage("ERROR",o[644].replace("%s",e.message))}))}))}},{key:"addToCell",value:function(){var e,t=this.props,r=t.addressBookItem,n=t.cellModel;r.IdmUser?e=r.IdmUser:r.IdmRole&&(e=r.IdmRole),e&&(n.addUser(e),n.save())}},{key:"removeFromCell",value:function(){var e=this.props,t=e.acl,r=e.cellModel;r.removeUser(t.RoleId),r.save()}},{key:"renderItems",value:function(){var e,t,r,n=this.props,o=n.pydio,i=n.cellModel,a=n.acl,c=n.addressBookItem,s=o.MessageHash,u=[];if(a?a.User&&a.User.Login===o.user.id:"user"===t&&o.user.id===e)return u;if(c&&(e=c.id,"group"===(t=c.type)&&c.IdmRole&&(e=c.IdmRole.Uuid,t="team")),r=a?ul().extractLabel(o,a):c.label,!0===i)return o.getPluginConfigs("auth").get("USER_CREATE_CELLS")?[React.createElement(v.MenuItem,{primaryText:s[640].replace("%s",r),onClick:this.createCell.bind(this)})]:[];var l,f=i.isEditable(),p=i.getAcls();return Object.keys(p).map((function(r){var n=p[r];(a?a.RoleId===n.RoleId:"user"===t&&n.User&&n.User.Login===e||"group"===t&&n.Group&&n.Group.Uuid===e||"team"===t&&n.Role&&n.Role.Uuid===e)&&(l=!0)})),l?u.push(React.createElement(v.MenuItem,{primaryText:s[641],disabled:!f,onClick:this.removeFromCell.bind(this)})):u.push(React.createElement(v.MenuItem,{primaryText:s[642],disabled:!f,onClick:this.addToCell.bind(this)})),o.getPluginConfigs("auth").get("USER_CREATE_CELLS")&&u.push(React.createElement(v.Divider,null),React.createElement(v.MenuItem,{primaryText:s[640].replace("%s",r),onClick:this.createCell.bind(this)})),u}}])&&dl(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),ml={list:{},listItem:{style:{fontSize:13},innerDivStyle:{padding:"10px 56px 10px 62px"}},avatar:{avatarSize:26,style:{top:5}},iconMenu:{style:{top:4,right:8}},iconButton:{style:{width:26,height:26,padding:5,right:8},iconStyle:{color:"rgba(0,0,0,.33)",fontSize:20}},divider:{style:{marginLeft:62}},className:"compact"},vl=require("pydio/lang/observable");var bl=__webpack_require__.n(vl);function gl(e){return gl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(e)}function wl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Sl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wl(Object(r),!0).forEach((function(t){Ol(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ol(e,t,r){return(t=El(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return kl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,El(n.key),n)}}function El(e){var t=function(e,t){if("object"!==gl(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==gl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===gl(t)?t:String(t)}var jl=kn().getRestClient().getIdmApi(),xl=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"childrenAsPromise",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.childrenLoader,n=e.itemsLoader,o=e.leafLoaded,i=e.collectionsLoaded,a=e.leafs,c=e.collections,s=t?n:r,u=t?o:i;return new Promise((function(r,n){!u&&s?s(e,(function(n){t?(e.leafs=n,e.leafLoaded=!0):(e.collections=n,e.collectionsLoaded=!0),r(n)})):r((t?a:c)||[])}))}},{key:"computePagination",value:function(e){var t;return e.Users?t=e.Users.length:e.Groups?t=e.Groups.length:e.Teams&&(t=e.Teams.length),e.Total>t?{start:e.Offset,end:e.Offset+e.Limit,max:e.Total,interval:e.Limit}:null}},{key:"prepareIdmUser",value:function(e){var t;if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){var r=[];r.push(z().getMessages()[e.Attributes&&"shared"===e.Attributes.profile?"589":"590"]),"/"!==e.GroupPath&&r.push(e.GroupPath),t=r.join(" - ")}return{id:e.Login,label:e.Attributes&&e.Attributes.displayName?e.Attributes.displayName:e.Login,avatar:e.Attributes&&e.Attributes.avatar?e.Attributes.avatar:void 0,type:"user",IdmUser:e,secondaryText:t}}},{key:"prepareIdmGroup",value:function(e){var t;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(t=e.GroupPath+e.GroupLabel),{id:e.Uuid,label:e.Attributes&&e.Attributes.displayName?e.Attributes.displayName:e.GroupLabel,type:"group",icon:"mdi mdi-account-multiple",secondaryText:t,IdmUser:e}}},{key:"prepareTeam",value:function(t){var r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(r=z().getMessages()[603]),{id:t.Uuid,label:t.Label,type:"team",icon:"mdi mdi-account-multiple-outline",itemsLoader:e.loadTeamUsers,_notSelectable:!0,secondaryText:r,IdmRole:t}}},{key:"loadTeams",value:function(t,r){var n=0,o=50;if(t.range){var i=Pl(t.range.split("-"),2),a=i[0],c=i[1];n=parseInt(a),o=(c=parseInt(c))-n}var s={};z().getInstance().getController().actions.has("user_team_create")&&(s={type:"team",remove:"574",multiple:!0}),jl.listTeams("",n,o).then((function(n){t.pagination=e.computePagination(n);var o=n.Teams.map((function(r){return Sl(Sl({_parent:t},e.prepareTeam(r)),{},{actions:s})}));r(o)}))}},{key:"loadGroups",value:function(t,r){var n="/",o="";t.IdmUser&&(n=H().trimRight(t.IdmUser.GroupPath,"/")+"/"+t.IdmUser.GroupLabel),t.currentParams&&t.currentParams.has_search&&(o=t.currentParams.value),jl.listGroups(n,o,!1,0,1e3).then((function(n){var o=n.Groups.map((function(r){return Sl(Sl({_parent:t},e.prepareIdmGroup(r)),{},{childrenLoader:t.childrenLoader?e.loadGroups:null,itemsLoader:t.itemsLoader?e.loadGroupUsers:null,currentParams:t.currentParams&&t.currentParams.alpha_pages?Sl({},t.currentParams):{}})}));r(o)}))}},{key:"loadExternalUsers",value:function(t,r){var n="",o=0,i=50;if(t.currentParams&&t.currentParams.alpha_pages&&(n=t.currentParams.value),t.range){var a=Pl(t.range.split("-"),2),c=a[0],s=a[1];o=parseInt(c),i=(s=parseInt(s))-o}var u=kn().getClient().getPydioObject();jl.listUsers("/",n,!0,o,i,"shared").then((function(n){t.pagination=e.computePagination(n);var o=n.Users.filter((function(e){return e.Login!==u.user.id})).map((function(r){return Sl(Sl({_parent:t},e.prepareIdmUser(r)),{},{external:!0})}));r(o)}))}},{key:"loadGroupUsers",value:function(t,r){var n="/",o="",i=0,a=50;if(t.IdmUser&&(n=H().trimRight(t.IdmUser.GroupPath,"/")+"/"+t.IdmUser.GroupLabel),t.currentParams&&(t.currentParams.alpha_pages||t.currentParams.has_search)&&(o=t.currentParams.value),t.range){var c=Pl(t.range.split("-"),2),s=c[0],u=c[1];i=parseInt(s),a=(u=parseInt(u))-i}var l=kn().getClient().getPydioObject();jl.listUsers(n,o,!1,i,a,"!shared").then((function(n){t.pagination=e.computePagination(n);var o=n.Users.filter((function(e){return e.Login!==l.user.id&&"pydio.anon.user"!==e.Login})).map((function(r){return Sl({_parent:t},e.prepareIdmUser(r))}));r(o)}))}},{key:"loadTeamUsers",value:function(t,r){var n=0,o=50,i="";if(t.range){var a=Pl(t.range.split("-"),2),c=a[0],s=a[1];n=parseInt(c),o=(s=parseInt(s))-n}t.currentParams&&(t.currentParams.alpha_pages||t.currentParams.has_search)&&(i=t.currentParams.value),jl.listUsersWithRole(t.IdmRole.Uuid,n,o,i).then((function(n){t.pagination=e.computePagination(n);var o=n.Users.map((function(r){return Sl({_parent:t},e.prepareIdmUser(r))}));r(o)}))}},{key:"globalSearch",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],c=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];t="*"+t;var s=kn().getClient().getPydioObject(),u=[];if(i||a){var l=i?a?"":"shared":"!shared",f=jl.listUsers("/",t,!0,n,o,l).then((function(t){return t.Users.filter((function(e){return e.Login!==s.user.id&&"pydio.anon.user"!==e.Login})).map((function(t){return Sl(Sl({},e.prepareIdmUser(t,!0)),{},{external:t.Attributes&&"shared"===t.Attributes.profile})}))})).then((function(e){return{users:e}}));u.push(f);var p=jl.listGroups("/",t,!0,n,o).then((function(t){return t.Groups.map((function(t){return Sl(Sl({},e.prepareIdmGroup(t,!0)),{},{childrenLoader:e.loadGroups,itemsLoader:e.loadGroupUsers})}))})).then((function(e){return{groups:e}}));u.push(p)}if(c){var d=jl.listTeams(t,n,o).then((function(t){return t.Teams.map((function(t){return Sl({},e.prepareTeam(t,!0))}))})).then((function(e){return{teams:e}}));u.push(d)}return Promise.all(u).then((function(e){var t=e.reduce((function(e,t){return Sl(Sl({},e),t)}),{});return r(t),t}))}}],null&&_l(t.prototype,null),r&&_l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Cl=__webpack_require__(82702);function Tl(e){return Tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(e)}function Rl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Il(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rl(Object(r),!0).forEach((function(t){Bl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ll(e){return function(e){if(Array.isArray(e))return Ml(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ml(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ml(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ml(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Al(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zl(n.key),n)}}function Dl(e,t){return Dl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dl(e,t)}function Nl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ul(e){return Ul=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ul(e)}function Bl(e,t,r){return(t=zl(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zl(e){var t=function(e,t){if("object"!==Tl(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Tl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Tl(t)?t:String(t)}var Fl=(0,Mr.debounce)(xl.globalSearch,350),ql=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dl(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ul(n);if(o){var r=Ul(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Tl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Nl(e)}(this,e)});function a(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"local",c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Bl(Nl(r=i.call(this)),"pydio",null),Bl(Nl(r),"mode","book"),Bl(Nl(r),"teamsOnly",!1),Bl(Nl(r),"usersOnly",!1),Bl(Nl(r),"usersFrom","local"),Bl(Nl(r),"loading",!1),Bl(Nl(r),"root",null),Bl(Nl(r),"selectedItem",null),Bl(Nl(r),"rightPanelItem",null),Bl(Nl(r),"onItemSelected",null),Bl(Nl(r),"pendingCreateItem",null),Bl(Nl(r),"searchTerm",""),Bl(Nl(r),"searchMode",!1),Bl(Nl(r),"searchItem",null),Bl(Nl(r),"selectionMode",!1),Bl(Nl(r),"multipleSelection",[]),Bl(Nl(r),"reloadCurrentAtPage",(function(e){var t=r.selectedItem;t.leafLoaded=!1,t.collectionsLoaded=!1,-1===e?t.currentParams=null:-1!==e.indexOf("-")?t.range=e:(t.range=null,t.currentParams={alpha_pages:"true",value:e}),r.setContext(t)})),Bl(Nl(r),"reloadCurrentWithSearch",(function(e){if(e){var t=r.selectedItem;t.leafLoaded=!1,t.collectionsLoaded=!1,t.currentParams={has_search:!0,value:e,existing_only:!0},r.setContext(t)}else r.reloadCurrentAtPage(-1)})),Bl(Nl(r),"deleteItems",(function(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||confirm(r.m(278)))switch(e.actions.type){case"users":Promise.all(t.map((function(e){return r.rightPanelItem===e&&(r.rightPanelItem=null),kn().getRestClient().getIdmApi().deleteIdmUser(e.IdmUser)}))).then((function(){r.reloadContext()}));break;case"teams":Promise.all(t.map((function(e){return r.rightPanelItem===e&&(r.rightPanelItem=null),kn().getRestClient().getIdmApi().deleteRole(e.IdmRole.Uuid)}))).then((function(){r.reloadContext()}));break;case"team":Promise.all(t.map((function(t){return kn().getRestClient().getIdmApi().removeUserFromTeam(e.IdmRole.Uuid,t.IdmUser.Login)}))).then((function(){r.reloadContext()}))}})),r.pydio=e,r.mode=t,r.teamsOnly=c,r.usersOnly=n,r.usersFrom=o,r.onItemSelected=s;var u=r.pydio.getPluginConfigs("core.auth");return r._teamsEditable=r.pydio.getController().actions.has("user_team_create"),r._externalsAllowed=u.get("USER_CREATE_USERS"),r}return t=a,r=[{key:"getRoot",value:function(){return this.searchMode&&this.searchItem?this.searchItem:this.root}},{key:"contextItem",value:function(){return this.selectedItem}},{key:"setContext",value:function(e,t){var r=this;return"selector"===this.mode&&e.IdmRole&&e.IdmRole.IsTeam?(this.leafItemClicked(e),Promise.resolve()):(this.loading=!0,this.notify("update"),xl.childrenAsPromise(e,!1).then((function(){xl.childrenAsPromise(e,!0).then((function(){r.selectedItem=e,r.loading=!1,r.notify("update")})).then((function(){t&&t()}))})))}},{key:"contextIsGroup",value:function(){return this.selectedItem&&(this.selectedItem.IdmUser&&this.selectedItem.IdmUser.IsGroup||"PYDIO_GRP_/"===this.selectedItem.id)}},{key:"contextIsTeam",value:function(){return this.selectedItem&&this.selectedItem.IdmRole&&this.selectedItem.IdmRole.IsTeam}},{key:"reloadContext",value:function(){var e=this;return this.selectedItem?(this.selectedItem.leafLoaded=!1,this.selectedItem.collectionsLoaded=!1,this.setContext(this.selectedItem,(function(){if(e.rightPanelItem){var t=e.rightPanelItem.id,r=null,n=e.selectedItem.leafs||[],o=e.selectedItem.collections||[];[].concat(Ll(n),Ll(o)).forEach((function(e){e.id===t&&(r=e)})),e.rightPanelItem=r,e.notify("update")}}))):Promise.resolve}},{key:"setGlobalSearch",value:function(e,t){var r=this;e!==this.searchMode&&(e?(this.searchItem||(this.searchItem={id:"search",label:this.m("583"),type:"root"}),this.savedContext=this.contextItem(),this.searchItem.collections=[],this.setContext(this.searchItem)):(this.searchItem.collections=[],this.setContext(this.savedContext))),this.searchMode=e,this.searchTerm=t,this.searchTerm&&Fl(t,(function(e){r.searchItem.collections=[];var t,n,o=r.prepareTopFolders(r.searchItem);e.users&&(t=e.users.filter((function(e){return e.external})),n=e.users.filter((function(e){return!e.external}))),void 0!==t&&r.searchItem.collections.push(Il(Il({},o.shared),{},{leafs:t})),e.teams&&r.searchItem.collections.push(Il(Il({},o.teams),{},{collections:e.teams})),(void 0!==n||e.groups)&&(n&&n.length,e.groups&&e.groups.length,r.searchItem.collections.push(Il(Il({},o.directory),{},{collections:e.groups,leafs:n})));var i=Il({},o.results);r.searchItem.collections.forEach((function(e){var t,r;(t=i.collections).push.apply(t,Ll(e.collections.map((function(t){return t._parent=e,Il(Il({},t),{},{_parent:i})})))),(r=i.leafs).push.apply(r,Ll(e.leafs.map((function(t){return t._parent=e,Il(Il({},t),{},{_parent:i})})))),e.notExpandable=!0,e.label+=" (".concat(e.collections.length+e.leafs.length,")")})),i.label+=" (".concat(i.collections.length+i.leafs.length,")"),r.searchItem.collections.unshift(i),r.setContext(i),r.notify("update")}),0,50,this._externalsAllowed),this.notify("update")}},{key:"getSearchStatus",value:function(){return{searchMode:this.searchMode,searchTerm:this.searchTerm}}},{key:"rightItem",value:function(){return this.rightPanelItem}},{key:"leafItemClicked",value:function(e){if(this.onItemSelected){var t=new Cl.User(e.id,e.label,e.type,e.group,e.avatar,e.temporary,e.external);return e.trusted_server_id&&(t.trustedServerId=e.trusted_server_id,t.trustedServerLabel=e.trusted_server_label),t._uuid=e.uuid,e.IdmUser&&(t.IdmUser=e.IdmUser),e.IdmRole&&(t.IdmRole=e.IdmRole),void this.onItemSelected(t)}this.rightPanelItem=e,this.notify("update")}},{key:"clearRightItem",value:function(){this.rightPanelItem=null,this.notify("update")}},{key:"teamsEditable",value:function(){return this._teamsEditable}},{key:"deleteMultipleSelection",value:function(){this.selectionMode=!1,this.deleteItems(this.selectedItem,this.multipleSelection)}},{key:"setCreateItem",value:function(){this.pendingCreateItem=this.selectedItem,this.notify("update")}},{key:"clearCreateItem",value:function(){this.pendingCreateItem=null,this.notify("update")}},{key:"createItem",value:function(){return this.pendingCreateItem}},{key:"setSelectionMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.selectionMode=void 0===e?!this.selectionMode:e,this.multipleSelection=[],this.notify("update")}},{key:"getSelectionMode",value:function(){return this.selectionMode}},{key:"setMultipleSelection",value:function(e){this.multipleSelection=e,this.notify("update")}},{key:"getMultipleSelection",value:function(){return this.multipleSelection}},{key:"initTree",value:function(){var e={};if(this._teamsEditable&&(e={type:"teams",create:"+ "+this.m(569),remove:this.m(570),multiple:!0}),this.teamsOnly)return this.root=Il(Il({},this.prepareTopFolders(null).teams),{},{childrenLoader:xl.loadTeams,actions:e}),void(this.selectedItem=this.root);this.root={id:"root",label:this.m(592),type:"root",collections:[]};var t=this.prepareTopFolders(this.root);"remote"!==this.usersFrom&&(this._externalsAllowed&&this.root.collections.push(Il(Il({},t.shared),{},{itemsLoader:xl.loadExternalUsers,actions:{type:"users",create:"+ "+this.m(484),remove:this.m(582),multiple:!0}})),this.usersOnly||this.root.collections.push(Il(Il({},t.teams),{},{childrenLoader:xl.loadTeams,actions:e})),this.root.collections.push(Il(Il({},t.directory),{},{childrenLoader:xl.loadGroups,itemsLoader:xl.loadGroupUsers}))),this.selectedItem="selector"===this.mode?this.root:this.root.collections[0]}},{key:"prepareTopFolders",value:function(e){return{shared:{id:"ext",label:this.m(593),icon:"mdi mdi-account-network",_parent:e,_notSelectable:!0,collections:[],leafs:[]},teams:{id:"teams",label:this.m(568),icon:"mdi mdi-account-multiple",_parent:e,_notSelectable:!0,collections:[],leafs:[]},directory:{id:"PYDIO_GRP_/",label:this.m(584),icon:"mdi mdi-account-box",_parent:e,_notSelectable:!0,collections:[],leafs:[]},results:{id:"results",label:this.m("599-a"),icon:"mdi mdi-magnify",_parent:e,notExpandable:!0,collections:[],leafs:[]}}}},{key:"m",value:function(e){return this.pydio.MessageHash[e]||e}}],r&&Al(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(bl());const Wl=ql;function Zl(e){return Zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(e)}function Gl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Hl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gl(Object(r),!0).forEach((function(t){Vl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vl(e,t,r){return(t=Xl(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jl(e){return function(e){if(Array.isArray(e))return Kl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Kl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Kl(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$l.apply(this,arguments)}function Yl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xl(n.key),n)}}function Xl(e){var t=function(e,t){if("object"!==Zl(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Zl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Zl(t)?t:String(t)}function Ql(e,t){return Ql=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ql(e,t)}function ef(e){return ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ef(e)}var tf=__webpack_require__(10757).requireLib("boot"),rf=tf.Loader,nf=tf.PydioContextConsumer,of=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ql(e,t)}(c,e);var r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ef(o);if(i){var r=ef(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Zl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),a.call(this,e,t)}return r=c,(n=[{key:"render",value:function(){var e=this.props,r=e.pydio,n=e.item,o=e.mode,i=e.loading,a=e.showAllParents,c=e.enableSearch,s=e.searchLabel,u=e.onSearch,l=e.getMessage,f=e.bookColumn,p=e.toolbar,d=e.style,h=this.props.model;h||(h=new Wl(r,"inner"));var y=h.getMultipleSelection(),m=h.getSelectionMode(),b=this.props.listStyles,g=void 0===b?{}:b;"selector"!==o&&"inner"!==o||(g=ml);var w,S,O,P=g.className,k=g.avatar?g.avatar.avatarSize:36,_=n.collections||[],E=n.leafs||[],j=[],x=[],C={};"teams"===n.id?(C={paginatorFolder:n.pagination?"numeric":null,paginatorLabel:n.label,paginatorCallback:function(e){return h.reloadCurrentAtPage(e)}},h.teamsEditable()?(w=l(571,""),S=l(572,"")):(w=l("571.readonly",""),S=l("572.readonly",""))):"ext"===n.id?(w=l(585,""),S=l(586,""),n.pagination&&(O=!0,C={paginatorType:"alpha",paginatorCallback:function(e){return h.reloadCurrentAtPage(e)}})):(h.contextIsGroup()||h.contextIsTeam())&&(O=!0,C={paginatorType:!(n.currentParams&&n.currentParams.has_search)&&"alpha",paginatorCallback:function(e){return h.reloadCurrentAtPage(e)}}),C.paginatorFolder?j.push({subheader:t().createElement(Ku,$l({},this.props,C,{style:{lineHeight:"20px",padding:"14px 0"}}))}):_.length&&(E.length||O)&&j.push({subheader:l("532")}),C.paginatorType?x.push({subheader:t().createElement(Ku,$l({},this.props,C,{style:{lineHeight:"20px",padding:"14px 0"}}))}):O&&x.push({subheader:l("249")});var T,R=[].concat(j,Jl(_),x,Jl(E)),I=R.length,L=[];if("book"===o&&n._parent&&(n._parent._parent&&"teams"!==n._parent.id||a)&&(L.push(t().createElement(v.ListItem,$l({key:"__parent__",primaryText:"..",onClick:function(e){e.stopPropagation(),h.setContext(n._parent)},leftAvatar:t().createElement(v.Avatar,{icon:t().createElement(v.FontIcon,{className:"mdi mdi-arrow-up"}),size:k})},g.listItem))),I&&L.push(t().createElement(v.Divider,{inset:!0,key:"parent-divider"}))),R.forEach(function(e,n){var i=this;if(e.subheader)L.push(t().createElement(v.Subheader,{key:e.subheader},e.subheader));else{var a,c=t().createElement(Hf,{avatarSize:k,pydio:this.props.pydio||r,userId:e.id,userLabel:e.label,avatar:e.avatar,icon:e.icon,idmUser:e.IdmUser,userType:e.type||"group",avatarOnly:!0,useDefaultAvatar:!0,style:g.avatar?g.avatar.style:{}}),s=function(t){t.stopPropagation(),i.props.onItemClicked(e)};if(_.indexOf(e)>-1?(s=function(t){t.stopPropagation(),h.setContext(e)},"selector"!==o||e._notSelectable||this.props.usersOnly||(a=t().createElement(v.IconButton,$l({iconClassName:"mdi mdi-account-multiple-plus",tooltip:l("addressbook.pick.group"),tooltipPosition:"top-left",iconStyle:{color:"rgba(0,0,0,0.33)"},onClick:function(){i.props.onItemClicked(e)}},g.iconButton)))):"inner"===o&&this.props.onDeleteAction&&(a=t().createElement(v.IconButton,$l({iconClassName:"mdi mdi-delete",tooltip:l(257),tooltipPosition:"top-left",iconStyle:{color:"rgba(0,0,0,0.13)",hoverColor:"rgba(0,0,0,0.53)"},onClick:function(){i.props.onDeleteAction(i.props.item,[e])}},g.iconButton))),f&&this.props.actionsForCell&&e.type){var u=new yl(r,this.props.actionsForCell,null,e).renderItems();a=u.length?t().createElement(v.IconMenu,$l({},g.iconMenu,{iconButtonElement:t().createElement(v.IconButton,$l({iconClassName:"mdi mdi-dots-vertical",iconStyle:{color:"rgba(0,0,0,.33)"}},g.iconButton)),targetOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"top"},desktop:!0}),u):null}var p,d={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"};e.secondaryText&&(d.fontWeight=500,p=t().createElement("span",{style:{fontSize:13,color:"var(--md-sys-color-on-surface-variant)"}},e.secondaryText)),L.push(t().createElement(v.ListItem,$l({key:e.id,primaryText:t().createElement("div",{style:d},e.label),secondaryText:p,onClick:s,disabled:"inner"===o,leftAvatar:!m&&c,rightIconButton:a,leftCheckbox:m&&t().createElement(v.Checkbox,{checked:y.indexOf(e)>-1,onCheck:function(t,r){if(r)h.setMultipleSelection([].concat(Jl(y),[e]));else{var n=[].concat(Jl(y.slice(0,y.indexOf(e))),Jl(y.slice(y.indexOf(e)+1)));h.setMultipleSelection(n)}}})},g.listItem))),"inner"!==o&&n<I-1&&L.push(t().createElement(v.Divider,$l({inset:!0,key:e.id+"-divider"},g.divider)))}}.bind(this)),!L.length){var M={style:{backgroundColor:"transparent",minHeight:300},iconClassName:"mdi mdi-account-off",primaryTextId:w||l(629),secondaryTextId:"book"===o&&S||null};"book"===o&&n.actions&&n.actions.create&&(M=Hl(Hl({},M),{},{actionLabelId:l(n.actions.create),actionCallback:function(){return h.setCreateItem()}})),"compact"===P&&(M=Hl(Hl({},M),{},{style:{backgroundColor:"transparent",minHeight:150},iconStyle:{fontSize:40},legendStyle:{fontSize:13}})),T=t().createElement(co,M)}return t().createElement("div",{style:Hl({flex:1,flexDirection:"column",display:"flex",width:"100%",overflowX:"hidden"},d),onClick:this.props.onClick,className:P},p,!T&&!i&&t().createElement(v.List,{style:{flex:1,overflowY:"inner"!==o?"auto":"initial"}},this.props.subHeader&&t().createElement(v.Subheader,null,this.props.subHeader),L),i&&t().createElement(rf,{style:{flex:1}}),!i&&T,"selector"===o&&c&&f&&t().createElement(cl,{searchLabel:s,onSearch:u,style:{padding:"0 20px",minWidth:null},underlineShow:!1}))}}])&&Yl(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(t().Component);function af(e){return af="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(e)}function cf(){return cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cf.apply(this,arguments)}function sf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uf(n.key),n)}}function uf(e){var t=function(e,t){if("object"!==af(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==af(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===af(t)?t:String(t)}function lf(e,t){return lf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lf(e,t)}function ff(e){return ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ff(e)}of.propTypes={item:U().object,onDeleteAction:U().func,onItemClicked:U().func,onFolderClicked:U().func,onEditLabel:U().func,mode:U().oneOf(["book","selector","inner"]),bookColumn:U().bool},of=nf(of),of=(0,V.muiThemeable)()(of);var pf=__webpack_require__(16689).Component,df=__webpack_require__(39455),hf=df.Divider,yf=df.Subheader,mf=df.List,vf=df.ListItem,bf=df.FontIcon,gf=df.Avatar,wf=__webpack_require__(56880),Sf=__webpack_require__(10757).requireLib("boot").PydioContextConsumer,Of=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lf(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ff(n);if(o){var r=ff(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===af(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"render",value:function(){var e=this,t=this.props,r=t.graph,n=t.pydio,o=t.getMessage,i=t.muiTheme,a=t.reloadAction,c=n.getController().actions.has("user_team_create"),s=[];if(r.teams&&r.teams.length){var u=null;c&&(u=function(t,r){wf.getRestClient().getIdmApi().removeUserFromTeam(r[0].id,e.props.userId,(function(e){e&&e.message&&n.UI.displayMessage("SUCCESS",e.message),a()}))}),s.push(React.createElement("div",{key:"teams"},React.createElement(of,{subHeader:o(581).replace("%s",r.teams.length),onItemClicked:function(){},item:{leafs:r.teams},mode:"inner",onDeleteAction:u})))}if(r.cells){var l=Object.values(r.cells).filter((function(e){return"ROOM"===e.Scope})),f="mui3"===i.userTheme?i.palette.mui3.tertiary:"#009688",p="mui3"===i.userTheme?i.palette.mui3["on-tertiary"]:"#fff";l.length&&s.push(React.createElement("div",null,s.length?React.createElement(hf,null):null,React.createElement(yf,null,1===l.length?o("601"):o("602").replace("%1",l.length)),React.createElement(mf,{style:{paddingTop:0}},l.map((function(e){return React.createElement(vf,cf({disabled:!0,leftAvatar:React.createElement(gf,{icon:React.createElement(bf,{className:"mdi mdi-share-variant",style:{color:p}}),backgroundColor:f,size:ml.avatar.avatarSize,style:ml.avatar.style}),primaryText:e.Label,rightIconButton:React.createElement(v.IconButton,cf({iconClassName:"mdi mdi-open-in-new",tooltip:"Go to Cell",tooltipPosition:"top-left",onClick:function(){n.triggerRepositoryChange(e.UUID)}},ml.iconButton))},ml.listItem))})))))}return React.createElement("div",null,s)}}])&&sf(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(pf);function Pf(e){return Pf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(e)}Of=Sf((0,V.muiThemeable)()(Of));var kf=["style"],_f=["style"];function Ef(){return Ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ef.apply(this,arguments)}function jf(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function xf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xf(Object(r),!0).forEach((function(t){Tf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Tf(e,t,r){return(t=If(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,If(n.key),n)}}function If(e){var t=function(e,t){if("object"!==Pf(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Pf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Pf(t)?t:String(t)}function Lf(e,t){return Lf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Lf(e,t)}function Mf(e){return Mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mf(e)}var Af=__webpack_require__(4305),Df=__webpack_require__(39105),Nf=__webpack_require__(39455),Uf=Nf.FontIcon,Bf=Nf.Paper,zf=Nf.Avatar,Ff=Nf.CardTitle,qf=__webpack_require__(13173).muiThemeable,Wf=__webpack_require__(85829),Zf=__webpack_require__(82702).UsersApi,Gf=z().requireLib("hoc").ThemedContainers.Popover,Hf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lf(e,t)}(c,e);var r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Mf(o);if(i){var r=Mf(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Pf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(r=a.call(this,e,t)).state={user:null,avatar:null,graph:null,local:!1},r}return r=c,n=[{key:"componentDidMount",value:function(){this.loadPublicData(this.props.userId,this.props.idmUser)}},{key:"componentWillReceiveProps",value:function(e){this.props.userId&&this.props.userId===e.userId&&e.graphRand===this.props.graphRand||(this.setState({label:e.userId}),this.loadPublicData(e.userId,e.idmUser))}},{key:"componentWillUnmount",value:function(){this._userLoggedObs&&this.props.pydio.stopObserving("user_logged",this._userLoggedObs)}},{key:"loadPublicData",value:function(e,t){var r=this,n=this.props,o=n.userType,i=n.richCard,a=n.pydio;"group"!==o&&"team"!==o&&Zf.getUserPromise(e,t).then((function(t){t.isLocal()&&!r._userLoggedObs&&(r._userLoggedObs=function(t){null!==t&&r.loadPublicData(e)},a.observe("user_logged",r._userLoggedObs)),r.setState({user:t,avatar:t.getAvatar(),local:t.isLocal()}),i&&!t.isNotFound()&&kn().getRestClient().getIdmApi().loadUserGraph(e).then((function(e){var t={cells:{},teams:[]};e.SharedCells&&e.SharedCells.forEach((function(r){t.cells=e.SharedCells})),e.BelongsToTeams&&e.BelongsToTeams.forEach((function(e){t.teams.push({id:e.Uuid,label:e.Label,type:"team",IdmRole:e})})),r.setState({graph:t})}))})).catch((function(e){r.setState({loadError:!0})}))}},{key:"render",value:function(){var e=this,r=this.state,n=r.user,o=r.avatar,i=r.graph,a=r.local,s=r.loadError,u=this.props,l=u.pydio,f=u.userId,p=u.userType,d=u.icon,h=u.style,y=u.labelStyle,m=u.avatarLetters,v=u.avatarStyle,b=u.avatarSize,g=u.cardStyle,w=u.cardTitleStyle,S=u.cardSubtitleStyle,O=u.className,P=u.labelMaxChars,k=u.labelClassName,_=u.avatarClassName,E=u.displayLabel,j=u.displayLocalLabel,x=u.displayLabelChevron,C=u.labelChevronStyle,T=u.displayAvatar,R=u.useDefaultAvatar,I=u.richCard,L=u.muiTheme,M=u.noActionsPanel;if(!f)return t().createElement("div",null,"ERROR : empty userId ! ");var A,D,N,U,B,z,F,q,W,Z,G,H,V=this.state.label,J=s,K=!1;if(n?(V=n.getLabel(),J=n.isNotFound(),n.isPublic()&&(V=l.MessageHash.public_link_user,K=!0)):V||(V=this.props.userLabel||this.props.userId),a&&j&&(V=l.MessageHash[634]),P&&V&&V.length>P&&(V.split(" ").length>1?(A=V,V=V.split(" ").map((function(e){return e[0]})).join("")):V.split("@").length>1&&(A=V,V=V.split("@")[0].split(".").length>1?V.split("@")[0].split(".").map((function(e){return e[0]})).join(""):V.split("@")[0])),I&&(T=!0,R=!0,E=!0),T&&!o&&V&&(!E||R)){var $,Y=L.palette.avatarsColor;switch("group"!==p&&"team"!==p&&0!==f.indexOf("PYDIO_GRP_/")&&0!==f.indexOf("/USER_TEAM/")||(Y=Df(Y).darken(.2).toString()),p){case"group":$="mdi mdi-account-multiple",D="289",z="folder-avatar";break;case"team":$="mdi mdi-account-multiple-outline",D="603",z="folder-avatar";break;case"remote":$="mdi mdi-account-network",D="604",z="folder-avatar";break;default:$="mdi mdi-account",n?n.getExternal()?(D="589",n.isPublic()&&(D="589",V=l.MessageHash.public_link_user,$="mdi mdi-link")):D="590":D="288"}d&&($=d),D&&(D=l.MessageHash[D]),I?(B=t().createElement(Uf,{className:$,style:{color:Y}}),U="#f5f5f5"):(U=Y,$&&!m?B=t().createElement(Uf,{className:$}):(N=V.split(" ").map((function(e){return e[0]})).join("").substring(0,2)).length<2&&(N=V.substring(0,2)))}if(I){T=!0,h=Cf(Cf({},h),{},{flexDirection:"column"}),void 0===b&&(b=50),v=Cf({position:"absolute",right:16,top:12},v);var X=function(){Wf.getInstance().deleteKey("user_public_data-graph",e.props.userId),e.loadPublicData(e.props.userId,e.props.idmUser)};F=function(){X(),e.props.reloadAction&&e.props.reloadAction()},q=function(){X(),e.props.onEditAction&&e.props.onEditAction()}}else if(a||J||K||!this.props.richOnHover){if(!a&&!J&&!K&&this.props.richOnClick){Z=Af(Z=function(){e.lockedBySubPopover||e.setState({showPopover:!1})},350),G=function(t){e.setState({showPopover:!0,popoverAnchor:t.currentTarget}),Z.cancel()};var Q=function(t){e.setState({showPopover:!0}),Z.cancel()},ee=this.props,te=(ee.style,jf(ee,_f));H=t().createElement(Gf,{open:this.state.showPopover,anchorEl:this.state.popoverAnchor,onRequestClose:function(t){"clickAway"===t&&e.lockedBySubPopover||e.setState({showPopover:!1})},anchorOrigin:{horizontal:"left",vertical:"bottom"},targetOrigin:{horizontal:"left",vertical:"top"},useLayerForClickAway:!1},t().createElement(Bf,{zDepth:2,style:{width:220,height:320,overflowY:"auto"},onMouseOver:Q,onMouseOut:Z},t().createElement(c,Ef({},te,{richCard:!0,richOnHover:!1,cardSize:220,lockOnSubPopoverOpen:function(t){e.lockedBySubPopover=t,Q()}}))))}}else{Z=Af(Z=function(){e.lockedBySubPopover||e.setState({showPopover:!1})},350),W=function(t){e.setState({showPopover:!0,popoverAnchor:t.currentTarget}),Z.cancel()};var re=function(t){e.setState({showPopover:!0}),Z.cancel()},ne=this.props,oe=(ne.style,jf(ne,kf));H=t().createElement(Gf,{open:this.state.showPopover,anchorEl:this.state.popoverAnchor,onRequestClose:function(t){"clickAway"===t&&e.lockedBySubPopover||e.setState({showPopover:!1})},anchorOrigin:{horizontal:"left",vertical:"center"},targetOrigin:{horizontal:"right",vertical:"center"},useLayerForClickAway:!1},t().createElement(Bf,{zDepth:2,style:{width:220,height:320,overflowY:"auto"},onMouseOver:re,onMouseOut:Z},t().createElement(c,Ef({},oe,{richCard:!0,richOnHover:!1,cardSize:220,lockOnSubPopoverOpen:function(t){e.lockedBySubPopover=t,re()}}))))}if(o){var ie=o;ie.indexOf("?")>=0?ie+="&dim="+b:ie+="?dim="+b,B=t().createElement(Uf,{style:{backgroundImage:"url("+ie+")",backgroundSize:"cover",margin:0,width:"100%",height:"100%",borderRadius:"50%",backgroundPosition:"center"}})}var ae,ce=t().createElement(zf,{icon:B,size:b,style:this.props.avatarOnly?this.props.style:v,backgroundColor:U,className:z||_},N);return this.props.avatarOnly?ce:(I?ce=t().createElement("div",{style:{textAlign:"center"}},ce):J&&(V=l.MessageHash["user.unknown"]),E&&x&&(ae=t().createElement("span",{className:"mdi mdi-chevron-down",style:Cf(Cf({},C),{},{marginLeft:4,fontSize:"0.8em"})})),t().createElement("div",{className:O,style:h,onMouseOver:W,onMouseOut:Z,onClick:G},T&&(o||N||B)&&ce,E&&!I&&t().createElement("div",{title:A,className:k,style:y},V),ae,E&&I&&t().createElement(Ff,{style:Cf({textAlign:"center"},g),title:V,subtitle:D,titleStyle:Cf({},w),subtitleStyle:Cf({},S)}),I&&n&&this.props.actionsPanel,I&&i&&!M&&t().createElement(Of,Ef({graph:i},this.props,{userLabel:V,reloadAction:F,onEditAction:q})),this.props.children,H))}}],n&&Rf(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(t().Component);Hf.propTypes={userId:U().string.isRequired,pydio:U().instanceOf(z()),userLabel:U().string,userType:U().oneOf(["user","group","remote","team"]),icon:U().string,richCard:U().bool,richOnHover:U().bool,richOnClick:U().bool,userEditable:U().bool,onEditAction:U().func,onDeleteAction:U().func,reloadAction:U().func,displayLabel:U().bool,displayLocalLabel:U().bool,displayAvatar:U().bool,avatarOnly:U().bool,useDefaultAvatar:U().bool,avatarSize:U().number,avatarLetters:U().bool,noActionsPanel:U().bool,className:U().string,labelClassName:U().string,avatarClassName:U().string,style:U().object,labelStyle:U().object,avatarStyle:U().object},Hf.defaultProps={displayLabel:!0,displayAvatar:!0,avatarSize:40,userType:"user",className:"user-avatar-widget",labelClassName:"user-label"},Hf=qf()(Hf);var Vf=__webpack_require__(7180),Jf=__webpack_require__.n(Vf);const Kf=require("pydio/util/pass");var $f=__webpack_require__.n(Kf);const Yf=require("pydio/http/policies");var Xf=__webpack_require__.n(Yf);const Qf=require("cells-sdk");function ep(e){return ep="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ep(e)}function tp(e){return function(e){if(Array.isArray(e))return rp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return rp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rp(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function np(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function op(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?np(Object(r),!0).forEach((function(t){ip(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):np(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ip(e,t,r){return(t=cp(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ap(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cp(n.key),n)}}function cp(e){var t=function(e,t){if("object"!==ep(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ep(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ep(t)?t:String(t)}function sp(e,t){return sp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sp(e,t)}function up(e){return up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},up(e)}var lp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sp(e,t)}(c,e);var r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=up(o);if(i){var r=up(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ep(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var r=op({},e);return e.subjectsDisabled||(r.subjectsDisabled={READ:{},WRITE:{}}),e.cellAcls&&Object.keys(e.cellAcls).map((function(t){e.cellAcls[t].RoleId&&(r.subjectsDisabled.READ["role:"+e.cellAcls[t].RoleId]=!0)})),(t=a.call(this,r)).state={edit:!1,loading:!0,policies:[],diffPolicies:{add:{},remove:{}},hideGroups:!0===z().getInstance().getPluginConfigs("action.advanced_settings").get("DISABLE_SHARE_GROUPS")},t}return r=c,n=[{key:"componentDidMount",value:function(){this.setState({loading:!0}),this.reload()}},{key:"reload",value:function(){var e=this,t=this.props,r=t.resourceType,n=t.resourceId,o=pydio.user,i=[Xf().loadPolicies(r,n),o.getIdmUser()];"team"!==r&&i.push(kn().getRestClient().getIdmApi().listTeams()),Promise.all(i).then((function(t){var n=t[0],o=n[0].Resource,i=t[1],a=[];"team"!==r&&t[2]&&(a=t[2].Teams),e.setState({policies:n,idmUser:i,userTeams:a,loading:!1,resourceUuid:o})})).catch((function(t){e.setState({error:t.message,loading:!1})}))}},{key:"revert",value:function(){this.setState({dirtyPolicies:null,diffPolicies:{add:{},remove:{}}})}},{key:"save",value:function(){var e=this,t=this.state,r=t.dirtyPolicies,n=t.diffPolicies,o=this.props,i=o.resourceType,a=o.resourceId,c=o.onSavePolicies;Xf().savePolicies(i,a,r).then((function(t){e.setState({policies:t,dirtyPolicies:null,diffPolicies:{add:{},remove:{}}}),c&&c(n)})).catch((function(t){e.setState({error:t.message})}))}},{key:"removePolicy",value:function(e,t){var r=this.state,n=r.policies,o=r.dirtyPolicies,i=r.diffPolicies;o&&(n=o);var a=[];n.map((function(r){r.Action===e&&r.Subject===t||a.push(r)})),i.remove[e+"///"+t]=!0,i.add[e+"///"+t]&&delete i.add[e+"///"+t],this.setState({dirtyPolicies:a,diffPolicies:i})}},{key:"addPolicy",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.state,o=n.policies,i=n.dirtyPolicies,a=n.resourceUuid,c=n.diffPolicies,s=tp(i||o),u=new Qf.ServiceResourcePolicy;u.Resource=a,u.Effect="allow",u.Subject=t,u.Action=e,s.push(u),c.add[e+"///"+t]=!0,c.remove[e+"///"+t]&&delete c.remove[e+"///"+t],r?this.setState({dirtyPolicies:s,diffPolicies:c,pickedUser:null,pickedLabel:null}):this.setState({dirtyPolicies:s,diffPolicies:c})}},{key:"hasOneWrite",value:function(e){var t=this.state.idmUser,r=t.Roles.map((function(e){return"role:"+e.Uuid}));r.push("user:"+t.Login);for(var n=0;n<r.length;n++)for(var o=0;o<e.length;o++)if(e[o].Subject===r[n]&&"WRITE"===e[o].Action)return!0;return!1}},{key:"findCrtUserSubject",value:function(e){var t=this.state.idmUser,r=["user:"+t.Login,"role:"+t.Uuid],n=e.filter((function(e){return r.indexOf(e.Subject)>-1}));return n.length?n[0].Subject:r[0]}},{key:"listUserRoles",value:function(e){var t=this.state,r=t.hideGroups,n=t.idmUser,o=this.findCrtUserSubject(e),i=this.hasOneWrite(e),a={};n.Roles.map((function(e){e.GroupRole&&!r&&(a["role:"+e.Uuid]=e.Label)})),(a=op(op({},this.listOtherUsersSubjects(e,o)),a))[o]="You";for(var c=Object.keys(a),s=[],u=c.length-1;u>=0;u--){var l=c[u],f=a[l];s.push(this.renderLine(l,f,e,!i||l===o))}return{groupBlocks:s,hasWrite:i}}},{key:"listUserTeams",value:function(e,t,r){var n=this;return e.map((function(e){return n.renderLine("role:"+e.Uuid,e.Label,t,r)}))}},{key:"listOtherUsersSubjects",value:function(e,t){var r=this.props,n=r.resourceId,o=r.cellAcls,i=this.state.hideGroups,a={};return e.map((function(e){if(0===e.Subject.indexOf("user:")&&e.Subject!==t&&e.Subject!=="user:"+n&&(a[e.Subject]=e.Subject.substr("user:".length)),o&&0===e.Subject.indexOf("role:")&&o[e.Subject.substr("role:".length)]){var r=e.Subject.substr("role:".length);if(o[r].User){var c=o[r].User;t!=="user:"+c.Login&&t!=="role:"+c.Uuid&&(a[e.Subject]=c.Attributes&&c.Attributes.displayName?c.Attributes.displayName:c.Login)}else if(o[r].Group&&!i){var s=o[r].Group;a[e.Subject]=s.Attributes&&s.Attributes.displayName?s.Attributes.displayName:s.GroupLabel}}})),a}},{key:"pickUser",value:function(e){var t,r;if(e.IdmUser){var n=e.IdmUser,o=n.Attributes||{};n.IsGroup?(t="role:"+n.Uuid,r=o.displayName||n.GroupLabel):(t="user:"+n.Login,r=o.displayName||n.Login)}else{var i=e.IdmRole;t="role:"+i.Uuid,r=i.Label}this.setState({pickedUser:t,pickedLabel:r})}},{key:"renderLine",value:function(e,r,n,o){var i=this,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=this.props,s=c.subjectsDisabled,u=c.subjectsHidden,l=c.readonly;if(u&&u[e])return null;var f=!1,p=!1,d=function(){i.addPolicy("READ",e,a)},h=function(){i.addPolicy("WRITE",e,a)};n.map((function(t){t.Subject===e&&("WRITE"===t.Action?(p="WRITE"===t.Action,h=function(){i.removePolicy("WRITE",e)}):"READ"===t.Action&&(f="READ"===t.Action,d=function(){i.removePolicy("READ",e)}))}));var y=o,m=o;return l?(m=!0,y=!0):(s&&s.READ&&s.READ[e]&&(m=!0),s&&s.WRITE&&s.WRITE[e]&&(y=!0)),t().createElement("div",{style:{display:"flex",margin:10,marginRight:0}},t().createElement("div",{style:{flex:1}},r),t().createElement(v.Checkbox,{checked:f,disabled:m,style:{width:40},onCheck:d}),t().createElement(v.Checkbox,{checked:p,disabled:y,style:{width:40},onCheck:h}))}},{key:"render",value:function(){var e=this,r=this.props.muiTheme,n=r.appBar,o=r.palette.mui3,i=void 0===o?{}:o,a={title:{paddingLeft:10,backgroundColor:n.color,display:"flex",alignItems:"center",fontSize:16,color:n.textColor},subheader:{margin:10,fontWeight:500,color:i["on-surface-variant"],display:"flex"},subject:{margin:10},head:{display:"inline-block",width:40,textAlign:"center",fontSize:10}},c=this.state,s=c.edit,u=c.policies,l=c.dirtyPolicies,f=c.error,p=c.idmUser,d=c.userTeams,h=c.loading,y=c.pickedUser,m=c.pickedLabel,b=this.props,g=b.onDismiss,w=b.style,S=b.skipTitle,O=b.resourceId,P=b.pydio,k=b.userListExcludes,_=void 0===k?[]:k,E=b.readonly,j=b.description,x=[],C=P.MessageHash;if(!s)return t().createElement("div",{style:w},!S&&t().createElement("div",{style:op(op({},a.title),{},{height:48})},t().createElement("span",{style:{flex:1}},C["visibility.panel.title"]),g&&t().createElement(v.IconButton,{iconClassName:"mdi mdi-close",onClick:g,iconStyle:{color:n.textColor}})),t().createElement("div",{style:{padding:20,fontWeight:500,textAlign:"justify"}},t().createElement("div",{style:{paddingBottom:20}},j),t().createElement("div",{style:{textAlign:"center"}},t().createElement(v.RaisedButton,{label:C["visibility.panel.edit"],primary:!0,onClick:function(){e.setState({edit:!0})}}))));if(!h&&!f){var T=this.listUserRoles(l||u),R=T.groupBlocks,I=T.hasWrite,L=this.listUserTeams(d,l||u,!I),M=t().createElement("div",null,t().createElement("span",{style:a.head},C["visibility.panel.right-read"]),t().createElement("span",{style:a.head},C["visibility.panel.right-edit"]));if(R.length&&(x.push(t().createElement("div",{style:a.subheader},t().createElement("span",{style:{flex:1}},C["visibility.panel.list.users"]),M)),x.push(R),x.push(t().createElement(v.Divider,null))),L.length&&(x.push(t().createElement("div",{style:a.subheader},t().createElement("span",{style:{flex:1}},C["visibility.panel.list.teams"]),M)),x.push(L),x.push(t().createElement(v.Divider,null))),y)x.push(t().createElement("div",{style:a.subheader},C["visibility.panel.setvisible"])),x.push(this.renderLine(y,m,u,!1,!0)),x.push(t().createElement("div",{style:{textAlign:"right"}},t().createElement(v.FlatButton,{label:C[54],onClick:function(){e.setState({pickedUser:null,pickedLabel:null})}}))),x.push(t().createElement(v.Divider,null));else if(!E){var A="user:"+p.Login,D=this.listOtherUsersSubjects(l||u,A),N=[];Object.keys(D).map((function(e){N.push(D[e])})),x.push(t().createElement("div",{style:a.subheader},C["visibility.panel.setvisible"])),x.push(t().createElement("div",{style:{margin:"-10px 10px 0"}},t().createElement($h,{className:"share-form-users",fieldLabel:C["visibility.panel.pickuser"],renderSuggestion:function(e){return t().createElement("div",{style:{fontSize:13}},e.getExtendedLabel())},onValueSelected:this.pickUser.bind(this),usersOnly:!1,existingOnly:!0,excludes:[O].concat(tp(_),N),pydio:P,showAddressBook:!1,usersFrom:"local"}))),x.push(t().createElement(v.Divider,null))}x.pop()}return t().createElement("div",{style:w},t().createElement("div",{style:a.title},t().createElement("span",{style:{flex:1}},S?"":C["visibility.panel.title"]),l&&t().createElement(v.IconButton,{iconClassName:"mdi mdi-undo-variant",tooltip:C["visibility.panel.revert"],onClick:this.revert.bind(this),iconStyle:{color:n.textColor}}),l&&t().createElement(v.IconButton,{iconClassName:"mdi mdi-content-save",tooltip:C["visibility.panel.save"],onClick:this.save.bind(this),iconStyle:{color:n.textColor}}),!l&&g&&t().createElement(v.IconButton,{iconClassName:"mdi mdi-close",onClick:g,iconStyle:{color:n.textColor}})),f&&t().createElement("div",null,C["visibility.panel.error"],": ",f),t().createElement("div",null,x))}}],n&&ap(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(t().Component);function fp(e){return fp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fp(e)}function pp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pp(Object(r),!0).forEach((function(t){hp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function hp(e,t,r){return(t=mp(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mp(n.key),n)}}function mp(e){var t=function(e,t){if("object"!==fp(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==fp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===fp(t)?t:String(t)}function vp(e,t){return vp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vp(e,t)}function bp(e){return bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bp(e)}lp.PropTypes={pydio:U().instanceOf(z()),resourceType:U().string.isRequired,resourceId:U().string.isRequired,description:U().string.isRequired,onSavePolicies:U().func,userListExcludes:U().array,subjectsDisabled:U().array,subjectsHidden:U().object,readonly:U().bool,cellAcls:U().object,onDismiss:U().func,style:U().object,skipTitle:U().bool},lp=(0,V.muiThemeable)()(lp);var gp=__webpack_require__(16689),wp=__webpack_require__(56880),Sp=__webpack_require__(62610),Op=__webpack_require__(85829),Pp=__webpack_require__(39455).IconButton,kp=__webpack_require__(13173).muiThemeable,_p=__webpack_require__(10757).requireLib("boot"),Ep=_p.PydioContextConsumer,jp=_p.AsyncComponent,xp=z().requireLib("hoc").ThemedContainers.Popover,Cp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vp(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=bp(n);if(o){var r=bp(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===fp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e,t)).state={showPicker:!1,pickerAnchor:null,showMailer:!1,mailerAnchor:null,showPolicies:!1,policiesAnchor:null},r}return t=a,r=[{key:"onTeamSelected",value:function(e){var t=this.props,r=t.userId,n=t.reloadAction;this.setState({showPicker:!1}),e.IdmRole&&e.IdmRole.IsTeam&&wp.getRestClient().getIdmApi().addUserToTeam(e.IdmRole.Uuid,r,(function(){Op.getInstance().deleteKey("user_public_data-graph",r),n()}))}},{key:"onUserSelected",value:function(e){var t=this.props,r=t.team,n=t.reloadAction;wp.getRestClient().getIdmApi().addUserToTeam(r.id,e.IdmUser.Login,n)}},{key:"openPicker",value:function(e){this.setState({showPicker:!0,pickerAnchor:e.currentTarget})}},{key:"openPolicies",value:function(e){this.setState({showPolicies:!0,policiesAnchor:e.currentTarget})}},{key:"openMailer",value:function(e){var t=this,r=e.currentTarget;Sp.loadClassesAndApply(["PydioMailer"],(function(){t.setState({mailerLibLoaded:!0},(function(){t.setState({showMailer:!0,mailerAnchor:r})}))}))}},{key:"componentDidUpdate",value:function(e,t){this.props.lockOnSubPopoverOpen&&(!this.state.showPicker&&!this.state.showMailer||t.showPicker||t.showMailer?this.state.showPicker||this.state.showMailer||!t.showPicker&&!t.showMailer||this.props.lockOnSubPopoverOpen(!1):this.props.lockOnSubPopoverOpen(!0))}},{key:"render",value:function(){var e,t,r=this,n=this.props,o=n.pydio,i=n.getMessage,a=n.muiTheme,c=n.userEditable,s=n.userId,u=n.style,l=n.otherPopoverMouseOver,f=n.team,p=n.user,d=n.onEditAction,h=n.onDeleteAction,y=n.buttonStyle,m=n.iconStyle,v=o.getController().actions.has("user_team_create"),b="mui3"===a.userTheme?a.palette.mui3.primary:a.palette.accent2Color,g={button:dp({border:"0px solid "+b,backgroundColor:"mui3"===a.userTheme?a.palette.mui3["primary-container"]:"transparent",borderRadius:"50%",margin:"0 4px",width:36,height:36,padding:8},y),icon:dp({fontSize:20,color:b},m)},w={},S=[];return p&&p.IdmUser&&p.IdmUser.Attributes&&(p.IdmUser.Attributes.hasEmail||p.IdmUser.Attributes.email)&&(S.push({key:"message",label:i(598),icon:"email",callback:this.openMailer.bind(this)}),w[p.IdmUser.Login]=p.IdmUser),f?(e="team",t=f.id,v&&S.push({key:"users",label:i(599),icon:"account-multiple-plus",callback:this.openPicker.bind(this)})):(e="user",t=s,v&&S.push({key:"teams",label:i(573),icon:"account-multiple-plus",callback:this.openPicker.bind(this)})),!c||f&&!v||(d&&S.push({key:"edit",label:i(f?580:600),icon:"pencil",callback:d}),S.push({key:"policies",label:"Visibility",icon:"security",callback:this.openPolicies.bind(this)}),h&&S.push({key:"delete",label:i(f?570:582),icon:"delete",callback:h})),0===S.length?null:gp.createElement("div",{style:dp({},u)},S.map((function(e){return gp.createElement(Pp,{key:e.key,style:g.button,iconStyle:g.icon,tooltip:e.label,iconClassName:"mdi mdi-"+e.icon,onClick:e.callback})})),gp.createElement(xp,{open:this.state.showPicker,anchorEl:this.state.pickerAnchor,anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"right",vertical:"top"},onRequestClose:function(){r.setState({showPicker:!1})},useLayerForClickAway:!1,style:{zIndex:2200}},gp.createElement("div",{style:{width:256,height:320}},gp.createElement(Dh,{mode:"selector",pydio:o,loaderStyle:{width:320,height:320},onItemSelected:f?this.onUserSelected.bind(this):this.onTeamSelected.bind(this),teamsOnly:!f,usersOnly:!!f}))),gp.createElement(xp,{open:this.state.showMailer,anchorEl:this.state.mailerAnchor,anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"right",vertical:"top"},useLayerForClickAway:!1,style:{zIndex:2200}},gp.createElement("div",{style:{width:256,height:320}},this.state.mailerLibLoaded&&gp.createElement(jp,{namespace:"PydioMailer",componentName:"Pane",pydio:o,zDepth:0,panelTitle:i(598),uniqueUserStyle:!0,users:w,templateId:"DM",templateData:{From:o.user.getPreference("displayName")||o.user.id},onDismiss:function(){r.setState({showMailer:!1})},onFieldFocus:l}))),gp.createElement(xp,{open:this.state.showPolicies,anchorEl:this.state.policiesAnchor,anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"right",vertical:"top"},useLayerForClickAway:!1,style:{zIndex:2e3}},gp.createElement("div",{style:{width:256,height:320}},gp.createElement(lp,{description:o.MessageHash["visibility.users.advanced"],pydio:o,resourceType:e,resourceId:t,onDismiss:function(){r.setState({showPolicies:!1})}}))))}}],r&&yp(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(gp.Component);function Tp(e){return Tp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tp(e)}Cp.propTypes={user:U().object,team:U().object,userEditable:U().bool,pydio:U().object,getMessage:U().func,userId:U().string,style:U().object,onEditAction:U().func,onDeleteAction:U().func,reloadAction:U().func},Cp=Ep(Cp),Cp=kp()(Cp);var Rp=["style"];function Ip(){return Ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ip.apply(this,arguments)}function Lp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lp(Object(r),!0).forEach((function(t){Ap(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ap(e,t,r){return(t=Np(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Np(n.key),n)}}function Np(e){var t=function(e,t){if("object"!==Tp(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Tp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Tp(t)?t:String(t)}function Up(e,t){return Up=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Up(e,t)}function Bp(e){return Bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bp(e)}var zp=__webpack_require__(39455),Fp=zp.TextField,qp=zp.FlatButton,Wp=zp.CardTitle,Zp=__webpack_require__(10757).requireLib("boot").PydioContextConsumer,Gp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Up(e,t)}(c,e);var r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Bp(o);if(i){var r=Bp(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Tp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(r=a.call(this,e,t)).state={label:r.props.item.label},r}return r=c,n=[{key:"loadMembers",value:function(e){var t=this;this.setState({loading:!0}),xl.childrenAsPromise(e,!1).then((function(r){xl.childrenAsPromise(e,!0).then((function(r){t.setState({members:e.leafs,loading:!1})}))}))}},{key:"componentWillMount",value:function(){this.loadMembers(this.props.item)}},{key:"componentWillReceiveProps",value:function(e){this.loadMembers(e.item),this.setState({label:e.item.label})}},{key:"onLabelChange",value:function(e,t){this.setState({label:t})}},{key:"updateLabel",value:function(){var e=this;this.state.label!==this.props.item.label&&kn().getRestClient().getIdmApi().updateTeamLabel(this.props.item.IdmRole.Uuid,this.state.label,(function(){e.props.onUpdateAction(e.props.item)})),(0,this.props.setEdit)(!1)}},{key:"render",value:function(){var e,r=this,n=this.props,o=n.model,i=n.item,a=n.onDeleteAction,c=n.getMessage,s=n.edit,u=n.setEdit,l=n.muiTheme,f={team:i,userEditable:this.props.item.IdmRole.PoliciesContextEditable,onDeleteAction:function(){r.props.onDeleteAction(i._parent,[i])},onEditAction:function(){u(!0)},reloadAction:function(){r.props.onUpdateAction(i)}};e=s?t().createElement("div",{style:{display:"flex",alignItems:"center",padding:12}},t().createElement(Fp,{style:{flex:1,fontSize:24},fullWidth:!0,disabled:!1,underlineShow:!1,value:this.state.label,onChange:this.onLabelChange.bind(this)}),t().createElement(qp,{secondary:!0,label:c(48),onClick:function(){r.updateLabel()}})):t().createElement(Wp,{style:{padding:"12px 16px 4px"},title:this.state.label,subtitle:i.leafs&&i.leafs.length?c(576).replace("%s",i.leafs.length):c(577)});var p=this.props,d=(p.style,function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(p,Rp)),h={};return"mui3"!==l.userTheme&&(h={borderTop:"1px solid #e0e0e0",borderBottom:"1px solid #e0e0e0"}),t().createElement("div",null,t().createElement("div",{style:{paddingBottom:4}},e,t().createElement(Cp,Ip({},d,f,{style:Mp({paddingLeft:8},h)}))),t().createElement(of,{model:o,subHeader:c(575),onItemClicked:function(){},item:i,mode:"inner",onDeleteAction:a}))}}],n&&Dp(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(t().Component);function Hp(e){return Hp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(e)}function Vp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vp(Object(r),!0).forEach((function(t){Kp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kp(e,t,r){return(t=Yp(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yp(n.key),n)}}function Yp(e){var t=function(e,t){if("object"!==Hp(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Hp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Hp(t)?t:String(t)}function Xp(e,t){return Xp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xp(e,t)}function Qp(e){return Qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qp(e)}Gp.propTypes={pydio:U().instanceOf(Pydio),item:U().object,style:U().object,onRequestClose:U().func,onDeleteAction:U().func,onUpdateAction:U().func},Gp=Zp((0,V.muiThemeable)()(Gp));var ed=z().requireLib("form"),td=ed.Manager,rd=ed.FormPanel,nd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xp(e,t)}(c,e);var r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Qp(o);if(i){var r=Qp(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Hp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e,t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var n=(r=a.call(this,e,t)).props,o=n.pydio,i=n.newUserName,s=n.editMode,u=n.userData,l=o.getPluginConfigs("action.share").get("SHARED_USERS_TMP_PREFIX");l&&!i.startsWith(l)||(l="");var f={new_password:"",send_email:o.Parameters.get("validMailer")};if(s&&u&&u.IdmUser){var p=u.IdmUser;r.getParameters().forEach((function(e){var t,r=e.name,n=e.IdmUserField,o=e.scope,i=e.pluginId;n?t=p[n]:"user"===o&&p.Attributes?t=p.Attributes[r]:i&&p.Attributes["parameter:"+i+":"+r]&&(t=JSON.parse(p.Attributes["parameter:"+i+":"+r])),void 0!==t&&(f[r]=t)}))}else f.new_user_id=l+i,f.lang=o.currentLanguage;return r.state={values:f},r}return r=c,n=[{key:"getCreateUserParameters",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[],r=this.props.pydio,n=r.MessageHash,o=r.getPluginConfigs("action.share").get("SHARED_USERS_TMP_PREFIX");t.push({IdmUserField:"Login",description:n[533],readonly:e,expose:"true",label:n[522],name:e?"existing_user_id":"new_user_id",scope:"user",type:"valid-login",mandatory:!0,default:o||""},{IdmUserField:"Password",description:n[534],editable:"true",expose:"true",label:n[523],name:"new_password",scope:"user",type:"valid-password",mandatory:!0,direction:"column"});for(var i=r.getPluginConfigs("auth").get("NEWUSERS_EDIT_PARAMETERS").split(","),a=0;a<i.length;a++)i[a]="user/preferences/pref[@exposed]|//param[@name='"+i[a]+"']";var c=i.join("|");return td.parseParameters(r.getXmlRegistry(),c).map((function(e){t.push(e)})),!e&&r.Parameters.get("validMailer")&&t.push({description:n[536],editable:"true",expose:"true",label:n[535],name:"send_email",scope:"user",type:"boolean",mandatory:!0}),t}},{key:"getDefaultProps",value:function(){return{editMode:!1}}},{key:"getParameters",value:function(){return this._parsedParameters||(this._parsedParameters=this.getCreateUserParameters(this.props.editMode)),this._parsedParameters}},{key:"getValuesForPost",value:function(e){return td.getValuesForPOST(this.getParameters(),this.state.values,e)}},{key:"onValuesChange",value:function(e){this.setState({values:e})}},{key:"changeValidStatus",value:function(e){this.setState({valid:e})}},{key:"submitCreationForm",value:function(){var e,t=this,r=this.props,n=r.editMode,o=r.userData;n&&(e=o.IdmUser),kn().getRestClient().getIdmApi().putExternalUser(this.state.values,this.getParameters(),e).then((function(e){t.props.onUserCreated(Cl.User.fromIdmUser(e))}))}},{key:"cancelCreationForm",value:function(){this.props.onCancel()}},{key:"render",value:function(){var e=this.props,r=e.pydio,n=e.editMode,o=e.formShowLegends,i=void 0===o||o,a=this.state.valid;return a||!n||this.state.values.new_password||(a=!0),t().createElement(v.Paper,{zDepth:void 0===this.props.zDepth?2:this.props.zDepth,style:Jp({minHeight:250,display:"flex",flexDirection:"column"},this.props.style)},t().createElement(rd,{className:"reset-pydio-forms",depth:-1,parameters:this.getParameters(),values:this.state.values,onChange:this.onValuesChange.bind(this),onValidStatusChange:this.changeValidStatus.bind(this),panelStyle:{overflowY:"auto",flex:1},variant:"v2",variantShowLegend:i}),t().createElement(v.Divider,{style:{flexShrink:0}}),t().createElement("div",{style:{padding:8,textAlign:"right"}},t().createElement(v.FlatButton,{label:r.MessageHash[54],onClick:this.cancelCreationForm.bind(this)}),t().createElement(v.FlatButton,{label:this.props.editMode?r.MessageHash[519]:r.MessageHash[484],primary:!0,onClick:this.submitCreationForm.bind(this),disabled:!a})))}}],n&&$p(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(t().Component);function od(e){return od="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(e)}function id(){return id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},id.apply(this,arguments)}function ad(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ad(Object(r),!0).forEach((function(t){sd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ad(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sd(e,t,r){return(t=ld(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ud(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ld(n.key),n)}}function ld(e){var t=function(e,t){if("object"!==od(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==od(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===od(t)?t:String(t)}function fd(e,t){return fd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fd(e,t)}function pd(e){return pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pd(e)}nd.propTypes={newUserName:U().string,onUserCreated:U().func.isRequired,onCancel:U().func.isRequired,editMode:U().bool,userData:U().object};var dd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fd(e,t)}(c,e);var r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=pd(o);if(i){var r=pd(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===od(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(r=a.call(this,e,t)).state={},r}return r=c,(n=[{key:"render",value:function(){var e,r=this,n=this.props,o=n.pydio,i=n.item,a=n.model,c=n.onDeleteAction,s=n.onUpdateAction,u=n.edit,l=n.setEdit,f=n.muiTheme,p=this.state.graphRand,d={avatarStyle:{zIndex:1}},h=i._parent&&"ext"===i._parent.id,y={};"mui3"!==f.userTheme&&(y={borderTop:"1px solid #e0e0e0",borderBottom:"1px solid #e0e0e0"});var m=t().createElement(Cp,{pydio:o,model:a,user:i,userId:i.id,userEditable:h&&i.IdmUser.PoliciesContextEditable,onDeleteAction:function(){c(i._parent,[i])},onEditAction:function(){l(!0)},reloadAction:function(){s(i),r.setState({graphRand:Math.random()})},style:cd({padding:8,textAlign:"center"},y)});return u&&(e=t().createElement(nd,{pydio:o,zDepth:0,style:{flex:1,borderRadius:0,borderTop:"1px solid var(--md-sys-color-outline-variant-50)"},newUserName:i.id,editMode:!0,userData:i,onUserCreated:function(){s(i),l(!1)},onCancel:function(){l(!1)},formShowLegends:!0})),d=cd(cd({},d),{},{avatarSize:40,avatarStyle:{left:20,top:20,right:"inherit"},cardStyle:{textAlign:"left",padding:"20px 16px 24px 74px"},cardTitleStyle:{fontSize:14,fontWeight:500,lineHeight:"20px"},cardSubtitleStyle:{fontSize:13,fontWeight:400,lineHeight:"14px"}}),t().createElement("div",{style:u?{height:"100%",display:"flex",flexDirection:"column"}:{}},t().createElement(Hf,id({userId:this.props.item.id,richCard:!0,pydio:this.props.pydio,cardSize:this.props.style.width,cardStyle:{textAlign:"left",padding:"12px 16px 4px"},actionsPanel:!u&&m,noActionsPanel:u,graphRand:p},d)),e)}}])&&ud(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(t().Component);function hd(e){return hd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(e)}function yd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function md(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yd(Object(r),!0).forEach((function(t){vd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function vd(e,t,r){return(t=gd(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gd(n.key),n)}}function gd(e){var t=function(e,t){if("object"!==hd(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==hd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===hd(t)?t:String(t)}function wd(e,t){return wd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wd(e,t)}function Sd(e){return Sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sd(e)}dd.propTypes={pydio:U().instanceOf(Pydio),item:U().object,style:U().object,onRequestClose:U().func,onDeleteAction:U().func,onUpdateAction:U().func},dd=(0,V.muiThemeable)()(dd);var Od=__webpack_require__(580),Pd=__webpack_require__(16689),kd=__webpack_require__(39455),_d=kd.Paper,Ed=kd.IconButton,jd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wd(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Sd(n);if(o){var r=Sd(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===hd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e,t)).state={edit:!1},r.props.model.observe("update",(function(){return r.forceUpdate()})),r}return t=a,r=[{key:"componentWillReceiveProps",value:function(e){e.item!==this.props.item&&this.setState({edit:!1})}},{key:"render",value:function(){var e,t=this,r=this.props,n=r.model,o=r.style,i=r.zDepth,a=void 0===i?2:i,c=this.state.edit,s=n.rightItem(),u=function(){n.clearRightItem()},l=md(md({},this.props),{},{item:s,onRequestClose:u,onDeleteAction:function(e,t,r){return n.deleteItems(e,t,r)},onCreateAction:function(e){n.setCreateItem(e)},onUpdateAction:function(e){var r=t.props.model;e._parent&&e._parent===r.contextItem()&&r.reloadContext()},edit:c,setEdit:function(e){return t.setState({edit:e})}});return s&&"user"===s.type?e=Pd.createElement(dd,l):s&&s.IdmRole&&s.IdmRole.IsTeam&&(e=Pd.createElement(Gp,l)),Pd.createElement(_d,{zDepth:a,style:md({position:"relative",borderRadius:6},o)},Pd.createElement(Ed,{iconClassName:"mdi mdi-close",style:{position:"absolute",top:12,right:12,zIndex:2},iconStyle:{color:"#e0e0e0"},onClick:u}),e)}}],r&&bd(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(Pd.Component);function xd(e){return xd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(e)}function Cd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Td(n.key),n)}}function Td(e){var t=function(e,t){if("object"!==xd(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==xd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===xd(t)?t:String(t)}function Rd(e,t){return Rd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Rd(e,t)}function Id(e){return Id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Id(e)}jd.propTypes={pydio:Od.instanceOf(Pydio),item:Od.object,style:Od.object,onRequestClose:Od.func,onDeleteAction:Od.func,onUpdateAction:Od.func};var Ld=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rd(e,t)}(c,e);var r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Id(o);if(i){var r=Id(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===xd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),a.apply(this,arguments)}return r=c,n=[{key:"onClick",value:function(){this.props.onClick(this.props.entry)}},{key:"buildNestedItems",value:function(e){var r=this.props,n=r.style,o=r.innerDivStyle,i=r.avatarSize;return e.map(function(e){return t().createElement(c,{nestedLevel:this.props.nestedLevel+1,entry:e,onClick:this.props.onClick,selected:this.props.selected,showIcons:!0,style:n,innerDivStyle:o,avatarSize:i})}.bind(this))}},{key:"render",value:function(){var e,r=this.props,n=r.showIcons,o=r.entry,i=(r.selected,r.style),a=r.innerDivStyle,c=r.avatarSize,s=void 0===c?36:c,u=o.id,l=o.label,f=o.icon,p=o.collections||[],d=this.buildNestedItems(p);return f&&n&&(v.FontIcon,e=t().createElement(v.Avatar,{icon:t().createElement(v.FontIcon,{className:f}),size:s})),t().createElement(v.ListItem,{nestedLevel:this.props.nestedLevel,key:u,primaryText:l,onClick:this.onClick.bind(this),nestedItems:d,initiallyOpen:!0,leftAvatar:e,innerDivStyle:a,style:i})}}],n&&Cd(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(e.Component);function Md(e){return Md="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(e)}function Ad(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ad(Object(r),!0).forEach((function(t){Nd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ad(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nd(e,t,r){return(t=zd(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ud(){return Ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ud.apply(this,arguments)}function Bd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zd(n.key),n)}}function zd(e){var t=function(e,t){if("object"!==Md(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Md(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Md(t)?t:String(t)}function Fd(e,t){return Fd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fd(e,t)}function qd(e){return qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qd(e)}Ld.propTypes={nestedLevel:U().number,selected:U().string,onClick:U().func};var Wd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fd(e,t)}(c,e);var r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=qd(o);if(i){var r=qd(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Md(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),t=a.call(this,e),e.model.observe("update",(function(){return t.forceUpdate()})),t}return r=c,(n=[{key:"render",value:function(){var e=this.props,r=e.listStyles,n=void 0===r?{}:r,o=e.rootStyle,i=void 0===o?{}:o,a=e.model,c=[],s=a.contextItem();return a.getRoot().collections.map(function(e){c.push(t().createElement(Ld,Ud({key:e.id,selected:s&&s.id,nestedLevel:0,entry:e,onClick:function(e,t){return a.setContext(e,t)}},n.listItem,{avatarSize:n.avatar?n.avatar.avatarSize:void 0,showIcons:!0}))),c.push(t().createElement(v.Divider,{key:e.id+"-divider"}))}.bind(this)),c.pop(),t().createElement("div",{style:Dd(Dd({},i),{},{zIndex:2})},t().createElement(v.List,null,c))}}])&&Bd(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(t().Component);function Zd(e){return Zd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(e)}function Gd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hd(n.key),n)}}function Hd(e){var t=function(e,t){if("object"!==Zd(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Zd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Zd(t)?t:String(t)}function Vd(e,t){return Vd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vd(e,t)}function Jd(e){return Jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Jd(e)}var Kd=z().requireLib("boot").PydioContextConsumer,$d=z().requireLib("hoc").ModernTextField,Yd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vd(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Jd(n);if(o){var r=Jd(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Zd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e,t)).state={value:""},r}return t=a,r=[{key:"onChange",value:function(e,t){this.setState({value:t})}},{key:"submitCreationForm",value:function(){var e=this.state.value;kn().getRestClient().getIdmApi().saveSelectionAsTeam(e,[],this.props.onTeamCreated)}},{key:"render",value:function(){var e=this,t=this.props.getMessage;return React.createElement("div",null,React.createElement("div",{style:{padding:20}},React.createElement("div",null,t(591)),React.createElement($d,{focusOnMount:!0,floatingLabelText:t(578),value:this.state.value,onChange:this.onChange.bind(this),fullWidth:!0,onKeyPress:function(t){"Enter"===t.key&&e.submitCreationForm()},variant:"v2"})),React.createElement("div",null,React.createElement("div",{style:{textAlign:"right",padding:8}},React.createElement(v.FlatButton,{label:t(49),onClick:this.props.onCancel.bind(this)}),React.createElement(v.FlatButton,{label:t(579),primary:!0,onClick:this.submitCreationForm.bind(this)}))))}}],r&&Gd(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(e.Component);function Xd(e){return Xd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(e)}function Qd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function eh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qd(Object(r),!0).forEach((function(t){th(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function th(e,t,r){return(t=nh(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nh(n.key),n)}}function nh(e){var t=function(e,t){if("object"!==Xd(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Xd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Xd(t)?t:String(t)}function oh(e,t){return oh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oh(e,t)}function ih(e){return ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ih(e)}Yd.propTypes={onTeamCreated:U().func.isRequired,onCancel:U().func.isRequired},Yd=Kd(Yd);var ah=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oh(e,t)}(c,e);var r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ih(o);if(i){var r=ih(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Xd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),t=a.call(this,e),e.model.observe("update",(function(){return t.forceUpdate()})),t}return r=c,(n=[{key:"render",value:function(){var e,r,n,o=this.props,i=o.pydio,a=o.model,c=o.onCancel,s=o.afterSubmit,u=a.createItem();u&&("users"===u.actions.type?(n={display:"flex",flexDirection:"column",overflow:"hidden"},e=a.m(484,""),r=t().createElement(nd,{zDepth:0,style:{display:"flex",flexDirection:"column",flex:1,marginTop:-20},newUserName:"",onUserCreated:s,onCancel:c,pydio:i})):"teams"===u.actions.type?(e=a.m(569,""),r=t().createElement(Yd,{onTeamCreated:s,onCancel:c})):"team"===u.actions.type&&(e=null,r=t().createElement(Dh,{pydio:i,mode:"selector",usersOnly:!0,disableSearch:!0,onItemSelected:function(e){kn().getRestClient().getIdmApi().addUserToTeam(e.IdmRole.Uuid,e.IdmUser.Login).then((function(){a.reloadContext()}))}})));var l=this.props.muiTheme,f="mui3"===l.userTheme?{style:{background:l.dialog.containerBackground}}:void 0;return t().createElement(v.Dialog,{contentStyle:{width:420,minWidth:380,maxWidth:"100%",padding:0},bodyStyle:eh({padding:0},n),title:t().createElement("div",{style:{padding:20}},e),actions:null,modal:!1,open:!!u,paperProps:f,onRequestClose:function(){c()}},r)}}])&&rh(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(t().Component);const ch=ah=(0,V.muiThemeable)()(ah);function sh(e){return sh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(e)}function uh(){return uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uh.apply(this,arguments)}function lh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lh(Object(r),!0).forEach((function(t){mh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lh(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ph(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vh(n.key),n)}}function dh(e,t){return dh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dh(e,t)}function hh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yh(e){return yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yh(e)}function mh(e,t,r){return(t=vh(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vh(e){var t=function(e,t){if("object"!==sh(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==sh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===sh(t)?t:String(t)}var bh=function(r){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dh(e,t)}(s,r);var n,o,i,a,c=(i=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=yh(i);if(a){var r=yh(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===sh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hh(e)}(this,e)});function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return mh(hh(e=c.call.apply(c,[this].concat(r))),"state",{editLabel:!1}),e}return n=s,o=[{key:"onLabelKeyEnter",value:function(e){"Enter"===e.key&&this.updateLabel()}},{key:"onLabelChange",value:function(e,t){this.setState({editValue:t})}},{key:"updateLabel",value:function(){var e=this.props.model,t=this.state.editValue;t!==e.contextItem().label&&kn().getRestClient().getIdmApi().updateTeamLabel(e.contextItem().IdmRole.Uuid,t,(function(){var t=e.contextItem()._parent;e.setContext(t,(function(){e.reloadContext().then((function(){}))}))})),this.setState({editLabel:!1})}},{key:"render",value:function(){var r=this,n=this.props,o=n.muiTheme,i=n.bookColumn,a=n.mode,c=n.getMessage,s=n.pydio,u=n.style,l=n.model,f=n.searchLabel,p=n.onSearch,d=n.searchTerm,h=n.setSearchTerm,y=n.searchMode,m=n.setSearchMode,b=n.enableSearch,g=l.contextItem(),w=l.getSelectionMode(),S=function(){return l.reloadContext()},O="mui3"===o.userTheme?o.palette.mui3.primary:o.palette.accent2Color,P={toolbarHeight:"book"===a?56:48,titleFontsize:"book"===a?20:16,titleFontWeight:400,titlePadding:10,button:{border:"1px solid "+O,backgroundColor:"transparent",borderRadius:"50%",margin:"0 4px",width:36,height:36,padding:6},icon:{fontSize:22,color:O}};i&&(P.titleFontsize=14,P.titleFontWeight=500,P.titlePadding="10px 6px 10px 16px",P.button.margin="0",P.button.border="0",P.icon.color=O);var k={searchLabel:f,onSearch:p,searchTerm:d,setSearchTerm:h,style:{flex:1,minWidth:110}};"selector"===a?(k.inputStyle={color:"white"},k.hintStyle={color:"rgba(255,255,255,.5)"},k.underlineStyle={borderColor:"rgba(255,255,255,.5)"},k.underlineFocusStyle={borderColor:"white"}):(k.underlineShow=!1,k.style=fh(fh({},k.style),{},{borderRadius:o.borderRadius,background:o.palette.mui3["surface-2"],height:38,display:"flex",alignItems:"center",paddingLeft:16,marginRight:8}));var _,E,j="mdi mdi-account-plus";if(g.actions&&"teams"===g.actions.type&&(j="mdi mdi-account-multiple-plus"),("book"===a||i)&&l.contextIsTeam()&&l.teamsEditable()){var x=l.contextItem();E=!0,_=t().createElement(Cp,uh({},this.props,{team:l.contextItem(),userEditable:!0,reloadAction:function(){l.reloadContext()},onDeleteAction:function(){if(confirm(r.props.getMessage(278))){var e=x._parent;l.setContext(e,(function(){l.deleteItems(e,[x],!0)}))}},style:{backgroundColor:"transparent",borderTop:0,borderBottom:0},buttonStyle:P.button,iconStyle:P.icon}))}var C=this.state,T=C.editLabel,R=C.editValue,I=g.label;E&&!w&&T&&(I=t().createElement("div",{style:{display:"flex",alignItems:"center",flex:1}},t().createElement(v.TextField,{style:{fontSize:20},value:R,onChange:this.onLabelChange.bind(this),onKeyDown:this.onLabelKeyEnter.bind(this),autoFocus:!0}),t().createElement(v.IconButton,{iconStyle:{color:o.palette.mui3.primary},secondary:!0,iconClassName:"mdi mdi-content-save",tooltip:c(48),onClick:function(){r.updateLabel()}})));var L="selector"===a&&g._parent,M="book"===a&&g.actions&&g.actions.multiple,A="book"===a,D=("book"===a||"selector"===a&&i)&&g.actions&&g.actions.create&&!w,N=i&&!g._parent&&s.user.getRepositoriesList().has("directory"),U="book"===a&&g.actions&&g.actions.remove&&w,B=b&&!i,z=S&&("book"===a||"selector"===a&&i),F=E&&!T&&!w;if("book"===a&&!i&&"xs"!==o.breakpoint&&"s"!==o.breakpoint){for(var q=[I],W=g;W._parent;)q.push(t().createElement("span",{className:"mdi mdi-chevron-right"}),t().createElement("span",null,W._parent.label)),W=W._parent;q.reverse(),I=t().createElement("div",{style:{display:"flex",alignItems:"center"}},q)}var Z,G=fh({color:o.palette.mui3["on-surface"],padding:P.titlePadding,height:P.toolbarHeight,minHeight:P.toolbarHeight,borderRadius:"2px 2px 0 0",display:"flex",alignItems:"center"},u);return N&&(Z="mui3"===o.userTheme?function(){s.triggerRepositoryChange("directory")}:function(){s.Controller.fireAction("open_address_book")}),t().createElement("div",{style:G},L&&t().createElement(v.IconButton,{style:{marginLeft:-10},iconStyle:{color:P.titleColor},iconClassName:"mdi mdi-chevron-left",onClick:function(){var e;e=g._parent,l.setContext(e,undefined)}}),A&&t().createElement(v.IconButton,{style:{marginLeft:-10},iconStyle:{color:P.titleColor},iconClassName:g.icon,onClick:function(){}}),t().createElement("div",{style:fh({flex:2,fontSize:P.titleFontsize,fontWeight:P.titleFontWeight},{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"})},I),B&&!w&&t().createElement(e.Fragment,null,t().createElement(cl,k),y&&t().createElement(v.IconButton,{style:P.button,iconStyle:P.icon,iconClassName:"mdi mdi-close",tooltipPosition:"bottom-left",tooltip:s.MessageHash[86],onClick:function(){return m(!1)}})),N&&t().createElement(v.IconButton,{style:P.button,iconStyle:P.icon,iconClassName:"mdi mdi-account-box-outline",tooltipPosition:"bottom-left",tooltip:s.MessageHash[411],onClick:Z}),D&&t().createElement(v.IconButton,{style:P.button,iconStyle:P.icon,iconClassName:j,tooltipPosition:"bottom-left",tooltip:c(g.actions.create),onClick:function(){return l.setCreateItem()}}),U&&t().createElement(v.RaisedButton,{secondary:!0,label:c(g.actions.remove),disabled:!l.getMultipleSelection().length,onClick:function(){return l.deleteMultipleSelection()}}),F&&t().createElement(v.IconButton,{style:P.button,iconStyle:P.icon,iconClassName:"mdi mdi-pencil",tooltipPosition:"bottom-left",tooltip:s.MessageHash[6],onClick:function(){r.setState({editLabel:!0,editValue:g.label})},disabled:l.loading}),!w&&_,M&&t().createElement(v.IconButton,{style:P.button,iconStyle:P.icon,iconClassName:"mdi mdi-checkbox-multiple"+(w?"-marked-outline":"-blank-outline"),tooltipPosition:"bottom-left",tooltip:s.MessageHash["addressbook.pick.multiple"],onClick:function(){l.setSelectionMode()}}),z&&!y&&t().createElement(v.IconButton,{style:P.button,iconStyle:P.icon,iconClassName:"mdi mdi-refresh",tooltipPosition:"bottom-left",tooltip:s.MessageHash[149],onClick:S,disabled:l.loading}))}}],o&&ph(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),s}(t().Component);const gh=bh=(0,V.muiThemeable)()(bh);function wh(e){return wh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(e)}function Sh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sh(Object(r),!0).forEach((function(t){xh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sh(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ph(){return Ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ph.apply(this,arguments)}function kh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ch(n.key),n)}}function _h(e,t){return _h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_h(e,t)}function Eh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jh(e){return jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jh(e)}function xh(e,t,r){return(t=Ch(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ch(e){var t=function(e,t){if("object"!==wh(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==wh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===wh(t)?t:String(t)}var Th=z().requireLib("boot"),Rh=Th.PydioContextConsumer,Ih=Th.PydioContextProvider,Lh=z().requireLib("hoc").ThemedContainers,Mh=Lh.Popover,Ah=Lh.IconButton,Dh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_h(e,t)}(c,e);var r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=jh(o);if(i){var r=jh(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===wh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Eh(e)}(this,e)});function c(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),xh(Eh(t=a.call(this,e)),"openPopover",(function(e){t.setState({popoverOpen:!0,popoverAnchor:e.currentTarget})})),xh(Eh(t),"closePopover",(function(){t.setState({popoverOpen:!1})}));var r=e.pydio,n=e.mode,o=e.usersOnly,i=e.usersFrom,s=e.teamsOnly,u=e.onItemSelected,l=new Wl(r,n,o,i,s,u);return l.initTree(),l.observe("update",(function(){t.forceUpdate()})),t.state={model:l},t}return r=c,n=[{key:"componentDidMount",value:function(){this.state.model.reloadContext()}},{key:"render",value:function(){var e=this.props,r=e.mode,n=e.getMessage,o=e.bookColumn,i=e.listStyles,a=e.pydio;if("popover"===r){var s=t().createElement(Ah,{style:{position:"absolute",padding:15,zIndex:100,right:0,bottom:0,display:this.state.loading?"none":"initial"},iconStyle:{fontSize:19},iconClassName:"mdi mdi-book-open-variant",onClick:this.openPopover}),u=Ih(c,a,a.UI.themeBuilder);return t().createElement("span",null,s,t().createElement(Mh,{open:this.state.popoverOpen,anchorEl:this.state.popoverAnchor,anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"left",vertical:"top"},onRequestClose:this.closePopover,style:{marginLeft:20},zDepth:2},t().createElement("div",{style:{width:320,height:420}},t().createElement(u,Ph({},this.props,{mode:"selector",style:{height:420}})))))}var l,f,p,d=this.state.model,h=d.rightItem(),y=d.contextItem(),m={width:256,overflowY:"auto",overflowX:"hidden"},v=this.props.muiTheme.palette.mui3,b=void 0===v?{}:v,g={};!this.props.disableSearch&&d.contextIsGroup()&&(g={enableSearch:!0,searchLabel:n(595,""),onSearch:function(e){return d.reloadCurrentWithSearch(e)}}),"inner"!==r&&(p=t().createElement(gh,Ph({pydio:a,model:d,mode:r,bookColumn:o,getMessage:n},g))),l=t().createElement(of,Ph({model:d,item:y,mode:r,bookColumn:o,toolbar:p,onItemClicked:function(e){return d.leafItemClicked(e)},onFolderClicked:function(e,t){return d.setContext(e,t)},onClick:function(){return d.clearRightItem()},loading:d.loading,emptyStatePrimaryText:void 0,emptyStateSecondaryText:void 0,actionsForCell:this.props.actionsForCell,usersOnly:this.props.usersOnly,listStyles:i},g)),f=t().createElement(jd,{pydio:this.props.pydio,model:d,style:Oh(Oh({},m),{},{position:"absolute",transformOrigin:"right",background:b["surface-3"],width:"book"===r?320:280,right:10,bottom:10,top:120,zIndex:2,transform:h?null:"scale(0)"})});var w=this.props.style||{},S={background:b["surface-3"],color:b["on-surface-variant"],borderRight:"1px solid #e0e0e0"};return t().createElement("div",{style:Oh({display:"flex",height:"selector"===r?320:450},w)},"book"===r&&t().createElement(Wd,{model:d,listStyles:i,rootStyle:Oh(Oh(Oh({},m),S),{},{zIndex:2})}),l,f,t().createElement(ch,{pydio:a,model:d,onCancel:function(){d.clearCreateItem()},afterSubmit:function(){d.clearCreateItem(),d.reloadContext()}}),t().createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:(this.props.muiTheme.palette,"\n.folder-avatar::before {\n    content: '\\F24B';\n    font-family: 'Material Design Icons';\n    position: absolute;\n    color: rgb(54, 113, 143);\n    font-size: 40px;\n    top: 11px;\n    left: -2px;\n}\n.compact .folder-avatar::before {\n    font-size: 30px;\n    top: 5px;\n}\n.folder-avatar span.mdi {\n    font-size: 20px !important;\n    color: #fff !important;\n    height: 12.8px !important;\n    margin: 7.3px !important;\n}\n.compact .folder-avatar span.mdi {\n    font-size: 13px !important;\n}\n.folder-avatar {\n    background-color: transparent !important;\n}\n")}}))}}],n&&kh(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(t().Component);function Nh(e){return Nh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(e)}function Uh(e){return function(e){if(Array.isArray(e))return zh(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Bh(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bh(e,t){if(e){if("string"==typeof e)return zh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zh(e,t):void 0}}function zh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hh(n.key),n)}}function qh(e,t){return qh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qh(e,t)}function Wh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zh(e){return Zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zh(e)}function Gh(e,t,r){return(t=Hh(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hh(e){var t=function(e,t){if("object"!==Nh(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Nh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Nh(t)?t:String(t)}xh(Dh,"propTypes",{pydio:U().instanceOf(z()),mode:U().oneOf(["book","selector","popover"]).isRequired,bookColumn:U().bool,onItemSelected:U().func,usersOnly:U().bool,usersFrom:U().oneOf(["local","remote","any"]),disableSearch:U().bool,muiTheme:U().object,popoverStyle:U().object,popoverButton:U().object,popoverContainerStyle:U().object,popoverIconButtonStyle:U().object}),xh(Dh,"defaultProps",{mode:"book",usersOnly:!1,usersFrom:"any",teamsOnly:!1,disableSearch:!1}),Dh=Rh(Dh),Dh=(0,V.muiThemeable)()(Dh);var Vh=z().requireLib("hoc"),Jh=Vh.ModernAutoComplete,Kh=Vh.ThemedContainers.Popover,$h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qh(e,t)}(c,e);var r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Zh(o);if(i){var r=Zh(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Nh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wh(e)}(this,e)});function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return Gh(Wh(e=a.call.apply(a,[this].concat(n))),"state",{dataSource:[],loading:!1,searchText:"",minChars:parseInt(z().getInstance().getPluginConfigs("core.auth").get("USERS_LIST_COMPLETE_MIN_CHARS")),hideGroups:!0===z().getInstance().getPluginConfigs("action.advanced_settings").get("DISABLE_SHARE_GROUPS")}),Gh(Wh(e),"suggestionLoader",(function(t,r){var n=e.props,o=n.excludes,i=n.usersOnly,a=e.state.hideGroups;e.setState({loading:e.state.loading+1});var c=kn().getRestClient().getIdmApi(),s=[];s.push(c.listUsers("/",t,!0,0,20)),a||i?s.push(Promise.resolve({Groups:[]})):s.push(c.listGroups("/",t,!0,0,20)),i?s.push(Promise.resolve({Teams:[]})):s.push(c.listTeams(t,0,20)),Promise.all(s).then((function(t){e.setState({loading:e.state.loading-1});var n,i,a=(i=3,function(e){if(Array.isArray(e))return e}(n=t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(n,i)||Bh(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=a[0],s=a[1],u=a[2];c=c.Users,s=s.Groups,u=u.Teams,o&&o.length&&(c=c.filter((function(e){return-1===o.indexOf(e.Login)})),s=s.filter((function(e){return-1===o.indexOf(e.GroupLabel)})),u=u.filter((function(e){return o.indexOf(-1===e.Label)}))),r([].concat(Uh(s.map((function(e){return{IdmUser:e}}))),Uh(u.map((function(e){return{IdmRole:e}}))),Uh(c.map((function(e){return{IdmUser:e}})))))}))})),Gh(Wh(e),"textFieldUpdate",(function(t){e.setState({searchText:t}),e.state.minChars&&t&&t.length<e.state.minChars||e.loadBuffered(t,350)})),Gh(Wh(e),"getPendingSearchText",(function(){return e.state.searchText||!1})),Gh(Wh(e),"loadBuffered",(function(r,n){if(r||!e._emptyValueList){var o=e.props,i=o.existingOnly,a=o.freeValueAllowed,c=o.excludes;Jf().bufferCallback("remote_users_search",n,function(){this.setState({loading:!0});var e=[z().getInstance().user.id,"pydio.anon.user"];this.suggestionLoader(r,function(n){var o=!1,s=n.filter((function(t){return!(t.IdmUser&&!t.IdmUser.IsGroup&&e.indexOf(t.IdmUser.Login)>-1)})).filter((function(e){return!c||(e.IdmUser&&e.IdmUser.IsGroup?0===c.filter((function(t){return t===e.IdmUser.Uuid})).length:e.IdmUser?0===c.filter((function(t){return t===e.IdmUser.Login})).length:0===c.filter((function(t){return t===e.IdmRole.Uuid})).length)})).map((function(e){var n,i,a;return e.IdmUser&&e.IdmUser.IsGroup?(n=e.IdmUser.GroupLabel,a=e.IdmUser.Attributes&&e.IdmUser.Attributes.displayName?e.IdmUser.Attributes.displayName:n,i="mdi mdi-folder-account"):e.IdmUser?(n=e.IdmUser.Login,a=e.IdmUser.Attributes&&e.IdmUser.Attributes.displayName?e.IdmUser.Attributes.displayName:n,i=e.IdmUser.Attributes&&"shared"===e.IdmUser.Attributes.profile?"mdi mdi-account":"mdi mdi-account-box-outline"):(n=e.IdmRole.Uuid,a=e.IdmRole.Label,i="mdi mdi-account-multiple-outline"),o|=a===r,{userObject:e,text:n,value:t().createElement(v.MenuItem,{primaryText:a,leftIcon:t().createElement(v.FontIcon,{className:i,style:{margin:"0 12px"}})})}}));if(r||(this._emptyValueList=s),r&&!o&&(!i||a)){r=this.slugLogin(r);var u=z().getMessages()[448]||"create",l=t().createElement(v.MenuItem,{primaryText:r+(a?"":" ("+u+")"),leftIcon:t().createElement(v.FontIcon,{className:"mdi mdi-account-plus",style:{margin:"0 12px"}})});s=[{text:r,value:l}].concat(Uh(s))}this.setState({dataSource:s,loading:!1})}.bind(this))}.bind(Wh(e)))}else e.setState({dataSource:e._emptyValueList})})),Gh(Wh(e),"onCompleterRequest",(function(t,r){var n=e.props,o=n.freeValueAllowed,i=n.onValueSelected;if(-1===r&&(e.state.dataSource.map((function(e){e.text===t&&(t=e)})),t&&!t.userObject&&o))return i({FreeValue:t.text}),void e.setState({searchText:"",dataSource:[]});t&&(t.userObject?i(t.userObject):o?i({FreeValue:t.text}):e.setState({createUser:t.text}),e.setState({searchText:"",dataSource:[]}))})),Gh(Wh(e),"onUserCreated",(function(t){e.props.onValueSelected(t),e.setState({createUser:null})})),Gh(Wh(e),"onCreationCancelled",(function(){e.setState({createUser:null})})),Gh(Wh(e),"openAddressBook",(function(t){e.setState({addressBookOpen:!0,addressBookAnchor:t.currentTarget})})),Gh(Wh(e),"closeAddressBook",(function(){e.setState({addressBookOpen:!1})})),Gh(Wh(e),"onAddressBookItemSelected",(function(t){e.props.onValueSelected(t)})),e}return r=c,(n=[{key:"componentWillReceiveProps",value:function(){this._emptyValueList=null}},{key:"slugLogin",value:function(e){return e=e.toLowerCase(),""===$f().isValidLogin(e)?e:H().computeStringSlug(e)}},{key:"render",value:function(){var e=this,r=this.props,n=r.pydio,o=r.className,i=r.fieldLabel,a=r.underlineHide,c=r.showAddressBook,s=r.usersFrom,u=this.state,l=u.dataSource,f=u.createUser;return t().createElement("div",{style:{position:"relative",overflow:"visible"},ref:function(t){e._popoverAnchor=t}},t().createElement(Jh,{filter:v.AutoComplete.noFilter,dataSource:l,searchText:this.state.searchText,onUpdateInput:this.textFieldUpdate,className:o,openOnFocus:!0,floatingLabelText:i,floatingLabelFixed:!0,underlineShow:!a,fullWidth:!0,onNewRequest:this.onCompleterRequest,listStyle:{maxHeight:350,overflowY:"auto"},onFocus:function(){e.loadBuffered(e.state.searchText,100)},disabled:f,hintText:f?n.MessageHash[485]+" ("+f+")":null}),!f&&t().createElement("div",{style:{position:"absolute",right:c?44:10,bottom:14,height:20,width:20}},t().createElement(v.RefreshIndicator,{size:20,left:0,top:0,status:this.state.loading?"loading":"hide"})),!f&&c&&t().createElement(Dh,{mode:"popover",pydio:n,loaderStyle:{width:320,height:420},onItemSelected:this.onAddressBookItemSelected,usersFrom:s,disableSearch:!0}),t().createElement(Kh,{open:f,anchorEl:this._popoverAnchor,anchorOrigin:{horizontal:"left",vertical:"bottom"},targetOrigin:{horizontal:"left",vertical:"top"},onRequestClose:this.onCreationCancelled,canAutoPosition:!1,style:this._popoverAnchor?{width:this._popoverAnchor.clientWidth}:{},zDepth:3},f&&t().createElement(nd,{onUserCreated:this.onUserCreated.bind(this),onCancel:this.onCreationCancelled.bind(this),style:{width:"100%",height:320},newUserName:f,pydio:n})))}}])&&Fh(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(t().Component);function Yh(e){return Yh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yh(e)}function Xh(){return Xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xh.apply(this,arguments)}function Qh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ey(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qh(Object(r),!0).forEach((function(t){iy(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qh(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ty(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ay(n.key),n)}}function ry(e,t){return ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ry(e,t)}function ny(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oy(e){return oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oy(e)}function iy(e,t,r){return(t=ay(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ay(e){var t=function(e,t){if("object"!==Yh(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Yh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Yh(t)?t:String(t)}Gh($h,"propTypes",{renderSuggestion:U().func.isRequired,onValueSelected:U().func.isRequired,fieldLabel:U().string.isRequired,excludes:U().array.isRequired,usersOnly:U().bool,usersFrom:U().oneOf(["local","remote","any"]),existingOnly:U().bool,freeValueAllowed:U().bool,className:U().string});var cy=z().requireLib("hoc").ThemedContainers.Popover,sy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ry(e,t)}(s,e);var r,o,i,a,c=(i=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=oy(i);if(a){var r=oy(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Yh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ny(e)}(this,e)});function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return iy(ny(e=c.call.apply(c,[this].concat(r))),"state",{showMenu:!1}),iy(ny(e),"showMenu",(function(t){var r;r=t?t.currentTarget:e._buttonDOM,e.setState({showMenu:!0,anchor:r})})),iy(ny(e),"menuClicked",(function(t,r,n){e.setState({showMenu:!1})})),e}return r=s,(o=[{key:"componentDidMount",value:function(){var e=this;this.props.openOnEvent&&this.props.pydio.observe(this.props.openOnEvent,(function(){e.showMenu()}))}},{key:"render",value:function(){var e,r=this,o=this.state,i=o.showMenu,a=o.anchor,c=t().createElement("span",{style:{whiteSpace:"nowrap"}},this.props.buttonTitle," ",t().createElement("span",{className:"mdi mdi-menu-down"})),s=this.props.buttonHoverColor||"rgba(255,255,255,0.2)",u={primary:this.props.primary,secondary:this.props.secondary,disabled:this.props.disabled,label:c,onClick:this.showMenu,labelStyle:ey({},this.props.buttonLabelStyle),style:this.props.buttonStyle,backgroundColor:i?s:this.props.buttonBackgroundColor,hoverColor:this.props.buttonHoverColor},l=this.props.menuItems;return l.length&&(e=this.props.raised?t().createElement(v.RaisedButton,Xh({},u,{ref:function(e){r._buttonDOM=n().findDOMNode(e)}})):t().createElement(v.FlatButton,Xh({},u,{ref:function(e){r._buttonDOM=n().findDOMNode(e)}}))),t().createElement("span",{id:this.props.id,className:this.props.className},e,t().createElement(cy,{className:"menuPopover",open:i,anchorEl:a,anchorOrigin:{horizontal:this.props.direction||"left",vertical:"bottom"},targetOrigin:{horizontal:this.props.direction||"left",vertical:"top"},onRequestClose:function(){r.setState({showMenu:!1})},style:{marginTop:1},useLayerForClickAway:!1},Lr.itemsToMenu(l,this.menuClicked)))}}])&&ty(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);iy(sy,"propTypes",{buttonTitle:U().oneOfType([U().string,U().object]).isRequired,menuItems:U().array.isRequired,className:U().string,raised:U().bool,direction:U().oneOf(["left","right"])});const uy=Wr(sy),ly=require("pydio/model/context-menu");var fy=__webpack_require__.n(ly);function py(e){return py="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},py(e)}function dy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dy(Object(r),!0).forEach((function(t){gy(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dy(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function yy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wy(n.key),n)}}function my(e,t){return my=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},my(e,t)}function vy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function by(e){return by=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},by(e)}function gy(e,t,r){return(t=wy(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wy(e){var t=function(e,t){if("object"!==py(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==py(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===py(t)?t:String(t)}var Sy=__webpack_require__(580),Oy=__webpack_require__(66405),Py=z().requireLib("hoc").ThemedContainers.Paper,ky=function(r){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&my(e,t)}(s,r);var n,o,i,a,c=(i=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=by(i);if(a){var r=by(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===py(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vy(e)}(this,e)});function s(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),gy(vy(r=c.call(this,t)),"showMenu",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r.setState({showMenu:!0,style:e,menuItems:t||r.state.menuItems})})),gy(vy(r),"hideMenu",(function(e){if(!e)return r.setState({showMenu:!1}),void(r.props.onMenuClosed&&r.props.onMenuClosed());if(void 0===e||2!==e.button||"contextmenu"===e.type){var t=Oy.findDOMNode(r.menuRef.current);t&&t.contains(e.target)||t===e.target||(r.setState({showMenu:!1}),r.props.onMenuClosed&&r.props.onMenuClosed())}})),gy(vy(r),"menuClicked",(function(e,t,n){r.hideMenu()})),r.menuRef=(0,e.createRef)(),r.state={showMenu:!1,menuItems:t.menuItems},r}return n=s,(o=[{key:"componentDidMount",value:function(){this._observer=this.hideMenu.bind(this)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this._observer,!1)}},{key:"componentWillReceiveProps",value:function(e){e.menuItems&&this.setState({menuItems:e.menuItems})}},{key:"componentDidUpdate",value:function(e,t){this.state.showMenu?document.addEventListener("click",this._observer,!1):document.removeEventListener("click",this._observer,!1)}},{key:"render",value:function(){var e=this.props,r=e.menuProps,n=e.zDepth,o=void 0===n?1:n,i=this.state,a=i.style,c=void 0===a?{}:a,s=i.menuItems,u=hy(hy({},c),{},{zIndex:1e3}),l=Lr.itemsToMenu(s,this.menuClicked.bind(this),!1,hy({ref:this.menuRef,desktop:!0,display:"right",width:250},r));return this.state.showMenu?t().createElement(Py,{zDepth:o||1,ref:"menuContainer",className:"menu-positioner",style:u},l):null}}])&&yy(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),s}(t().Component);function _y(e){return _y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_y(e)}function Ey(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jy(n.key),n)}}function jy(e){var t=function(e,t){if("object"!==_y(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==_y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===_y(t)?t:String(t)}function xy(e,t){return xy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xy(e,t)}function Cy(e){return Cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cy(e)}gy(ky,"propTypes",{menuItems:Sy.array.isRequired,onExternalClickCheckElements:Sy.func,className:Sy.string,style:Sy.object,onMenuClosed:Sy.func});var Ty=__webpack_require__(16689),Ry=Ty.Component,Iy=Ty.createRef,Ly=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xy(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Cy(n);if(o){var r=Cy(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===_y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).menu=Iy(),t}return t=a,(r=[{key:"modelOpen",value:function(e){var t=fy().getInstance().getPosition(),r=this.props.pydio;if(e){var n=r.getContextHolder();-1===n.getSelectedNodes().indexOf(e)?(r.observeOnce("actions_refreshed",function(e){this.openMenu("selectionContext",t)}.bind(this)),n.setSelectedNodes([e])):this.openMenu("selectionContext",t)}else this.openMenu("genericContext",t)}},{key:"openMenu",value:function(e,t){var r=this.computeMenuItems(e);this._items=r,this.props.pydio.UI.MOBILE_EXTENSIONS?this.menu.current.showMenu({bottom:0,left:0,right:0,height:200,zIndex:1e4,overflowY:"auto"},r):(t=this.computeVisiblePosition(t,r),this.menu.current.showMenu({top:t.y,left:t.x},r))}},{key:"computeMenuItems",value:function(e){var t=this.props.pydio.Controller.getContextActions(e,["inline","info_panel","info_panel_share"]);return Lr.pydioActionsToItems(t)}},{key:"computeVisiblePosition",value:function(e,t){var r=16;t.map((function(e){e.separator?r+=16:r+=32}));var n=Math.max(document.documentElement.clientWidth,window.innerWidth||0),o=Math.max(document.documentElement.clientHeight,window.innerHeight||0);return e.x+250>n?e.x=Math.max(e.x-250,10)-8:e.x+=8,e.y+r>o?e.y=Math.max(e.y-r,10)-8:e.y+=8,e}},{key:"componentDidMount",value:function(){this._modelOpen=this.modelOpen.bind(this),fy().getInstance().observe("open",this._modelOpen)}},{key:"componentWillUnmount",value:function(){fy().getInstance().stopObserving("open",this._modelOpen)}},{key:"render",value:function(){var e=this.props.pydio.UI.MOBILE_EXTENSIONS;return React.createElement(ky,{ref:this.menu,menuItems:this._items||[],onMenuClosed:this.props.onMenuClosed,menuProps:e?{width:600,autoWidth:!1,desktop:!1}:{},zDepth:e?2:1})}}])&&Ey(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(Ry);function My(e){return My="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},My(e)}function Ay(){return Ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ay.apply(this,arguments)}function Dy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ny(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dy(Object(r),!0).forEach((function(t){qy(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dy(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Uy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wy(n.key),n)}}function By(e,t){return By=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},By(e,t)}function zy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fy(e){return Fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fy(e)}function qy(e,t,r){return(t=Wy(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wy(e){var t=function(e,t){if("object"!==My(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==My(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===My(t)?t:String(t)}var Zy=z().requireLib("hoc").ThemedContainers.Popover,Gy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&By(e,t)}(s,e);var r,o,i,a,c=(i=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Fy(i);if(a){var r=Fy(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===My(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zy(e)}(this,e)});function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return qy(zy(e=c.call.apply(c,[this].concat(r))),"state",{showMenu:!1}),qy(zy(e),"showMenu",(function(t){var r;r=t?t.currentTarget:e._buttonDOM,e.setState({showMenu:!0,anchor:r})})),qy(zy(e),"menuClicked",(function(t,r,n){e.setState({showMenu:!1})})),e}return r=s,(o=[{key:"componentDidMount",value:function(){var e=this;this.props.openOnEvent&&this.props.pydio.observe(this.props.openOnEvent,(function(){e.showMenu()}))}},{key:"render",value:function(){var e,r,o=this,i=this.props,a=i.id,c=i.masterAction,s=i.buttonTitle,u=i.primary,l=i.secondary,f=i.disabled,p=i.raised,d=i.menuItems,h=i.buttonStyle,y=i.buttonLabelStyle,m=i.className,b=i.direction,g=i.muiTheme,w=Ny({},y),S=Ny({},y);w.paddingRight?w.paddingRight/=Math.floor(3):w.paddingRight=8,S.paddingLeft?S.paddingLeft/=Math.floor(3):S.paddingLeft=8,S.paddingRight=S.paddingLeft;var O={primary:u,secondary:l,disabled:f,label:s,style:Ny(Ny({},h),{},{minWidth:60,borderRadius:"".concat(g.borderRadius,"px 0 0 ").concat(g.borderRadius,"px")}),labelStyle:w,onClick:c},P={primary:u,secondary:l,disabled:f,label:t().createElement("span",{className:"mdi mdi-menu-down"}),style:Ny(Ny({},h),{},{minWidth:16,borderRadius:"0 ".concat(g.borderRadius,"px ").concat(g.borderRadius,"px 0")}),labelStyle:S,onClick:this.showMenu},k=this.state,_=k.showMenu,E=k.anchor,j=k.over;d.length&&(p?(r=t().createElement(v.RaisedButton,Ay({},P,{ref:function(e){o._buttonDOM=n().findDOMNode(e)}})),e=t().createElement(v.RaisedButton,O)):(r=t().createElement(v.FlatButton,Ay({},P,{ref:function(e){o._buttonDOM=n().findDOMNode(e)}})),e=t().createElement(v.FlatButton,O)));var x={whiteSpace:"nowrap",borderRadius:g.borderRadius};return t().createElement("span",{id:a,className:m,onMouseOver:function(){o.setState({over:!0})},onMouseOut:function(){o.setState({over:!1})},style:j||_?Ny({backgroundColor:"rgba(153, 153, 153, 0.2)"},x):x},e,r,t().createElement(Zy,{className:"menuPopover",open:_,anchorEl:E,anchorOrigin:{horizontal:b||"left",vertical:"bottom"},targetOrigin:{horizontal:b||"left",vertical:"top"},onRequestClose:function(){o.setState({showMenu:!1})},style:{marginTop:1},useLayerForClickAway:!1},Lr.itemsToMenu(d,this.menuClicked)))}}])&&Uy(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);qy(Gy,"propTypes",{buttonTitle:U().oneOfType([U().string,U().object]).isRequired,masterAction:U().func.isRequired,menuItems:U().array.isRequired,className:U().string,raised:U().bool,direction:U().oneOf(["left","right"])});const Hy=Wr((0,V.muiThemeable)()(Gy));function Vy(e){return Vy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vy(e)}function Jy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ky(n.key),n)}}function Ky(e){var t=function(e,t){if("object"!==Vy(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Vy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Vy(t)?t:String(t)}function $y(e,t){return $y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$y(e,t)}function Yy(e){return Yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yy(e)}var Xy=__webpack_require__(580),Qy=__webpack_require__(16689),em=z().requireLib("hoc").ThemedContainers,tm=em.Popover,rm=em.IconButton,nm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$y(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Yy(n);if(o){var r=Yy(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Vy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e,t)).state={showPopover:!1},r}return t=a,(r=[{key:"showPopover",value:function(e){this.setState({showPopover:!0,anchor:e.currentTarget})}},{key:"render",value:function(){var e=this;return Qy.createElement("span",{className:"toolbars-button-menu "+(this.props.className?this.props.className:"")},Qy.createElement(rm,{ref:"menuButton",tooltip:this.props.buttonTitle,iconClassName:this.props.buttonClassName,onClick:this.showPopover.bind(this),iconStyle:this.props.buttonStyle}),Qy.createElement(tm,{open:this.state.showPopover,anchorEl:this.state.anchor,anchorOrigin:{horizontal:this.props.direction||"right",vertical:"bottom"},targetOrigin:{horizontal:this.props.direction||"right",vertical:"top"},onRequestClose:function(){e.setState({showPopover:!1})},useLayerForClickAway:!1},this.props.popoverContent))}}])&&Jy(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(Qy.Component);nm.propTypes={buttonTitle:Xy.string.isRequired,buttonClassName:Xy.string.isRequired,className:Xy.string,direction:Xy.oneOf(["right","left"]),popoverContent:Xy.object.isRequired};const om=nm;function im(e){return im="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(e)}function am(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?am(Object(r),!0).forEach((function(t){sm(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):am(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sm(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==im(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==im(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===im(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function um(e){return function(e){if(Array.isArray(e))return lm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return lm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?lm(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var fm=z().requireLib("hoc").ThemedContainers.IconButton;const pm=D()({displayName:"Toolbar",propTypes:{toolbars:U().array,groupOtherList:U().array,renderingType:U().string,controller:U().instanceOf(Controller),toolbarStyle:U().object,buttonStyle:U().object,fabAction:U().string,buttonMenuNoLabel:U().bool},componentDidMount:function(){var e=function(){this.isMounted()&&this.setState({groups:this.props.controller.getToolbarsActions(this.props.toolbars,this.props.groupOtherList)})}.bind(this);this._observer=(0,Mr.debounce)(e,50),this.props.controller===pydio.Controller?pydio.observe("actions_refreshed",this._observer):this.props.controller.observe("actions_refreshed",this._observer)},componentWillUnmount:function(){this.props.controller===pydio.Controller?pydio.stopObserving("actions_refreshed",this._observer):this.props.controller.stopObserving("actions_refreshed",this._observer)},componentWillReceiveProps:function(e){e.toolbars!==this.props.toolbars&&this.setState({groups:this.props.controller.getToolbarsActions(e.toolbars,e.groupOtherList)})},getInitialState:function(){return{groups:this.props.controller.getToolbarsActions(this.props.toolbars,this.props.groupOtherList)}},getDefaultProps:function(){return{controller:__webpack_require__.g.pydio.Controller,renderingType:"button",groupOtherList:[]}},render:function(){var e=this.state.groups,r=[],n=this.props,o=n.toolbars,i=n.renderingType,a=n.groupOtherList,c=n.buttonStyle,s=n.mergeItemsAsOneMenu,u=n.tooltipPosition,l=n.controller,f=n.fabAction,p=n.fabButtonStyle,d=void 0===p?{}:p,h=n.toolbarStyle,y=n.buttonMenuNoLabel,m=n.buttonMenuPopoverDirection,b=n.flatButtonStyle,g=um(o);a.length&&(g=g.concat(["MORE_ACTION"]));var w=!1,S=[];if(g.map((function(n){e.has(n)&&e.get(n).map((function(e){if(!e.deny){var o,a,p,h,g,O=e.options.name;if(p=pydio.MessageHash[e.options.text_id]||e.options.text,h=e.options.icon_class,"MORE_ACTION"===n){var P=e.subMenuItems.dynamicItems,k=[];P.map((function(e){e.separator?k.push(e):e.actionId&&!e.actionId.deny&&k.push(e.actionId.getMenuData())})),o=Lr.pydioActionsToItems(k),h="mdi mdi-dots-vertical"}else e.subMenuItems.staticItems?o=Lr.pydioActionsToItems(e.subMenuItems.staticItems):e.subMenuItems.dynamicBuilder?o=Lr.pydioActionsToItems(e.subMenuItems.dynamicBuilder(l)):e.subMenuItems.popoverContent&&(a=e.subMenuItems.popoverContent);if(o&&e.subMenuItems.masterAction){var _=l.getActionByName(e.subMenuItems.masterAction);_&&!_.deny&&(g=function(){_.apply()})}if(s&&void 0!==o)S=[].concat(um(S),[{subHeader:p}],um(o),[{separator:!0}]);else{var E="action-"+e.options.name;if("button-icon"===i&&(p=t().createElement("span",{className:"button-icon"},t().createElement("span",{className:"button-icon-icon "+h}),t().createElement("span",{className:"button-icon-label"},p))),o)"button"===i||"button-icon"===i?g?r.push(t().createElement(Hy,{key:O,className:E,buttonTitle:p,menuItems:o,masterAction:g,buttonStyle:b,buttonLabelStyle:c,direction:m})):r.push(t().createElement(uy,{key:O,className:E,buttonTitle:y?"":p,menuItems:o,buttonStyle:b,buttonLabelStyle:c,direction:m})):r.push(t().createElement(en,{key:O,className:E,onMenuClicked:function(e){e.payload()},buttonClassName:h,buttonTitle:p,menuItems:o,buttonStyle:c,style:b,popoverDirection:m}));else if(a)r.push(t().createElement(om,{key:O,className:E,buttonClassName:h,buttonTitle:p,buttonStyle:c,popoverContent:a}));else{var j=function(){e.apply()};f&&f===O?(w=!0,r.push(t().createElement(v.FloatingActionButton,{key:O,onClick:j,iconClassName:h,mini:!0,backgroundColor:d.backgroundColor,iconStyle:d.color?{color:d.color}:null,style:{position:"absolute",top:-20,left:10}}))):"button-icon"===i||"button"===i?r.push(t().createElement(v.FlatButton,{key:O,className:E,onClick:j,label:p,labelStyle:c,style:b})):r.push(t().createElement(fm,{key:O,iconClassName:h+" "+E,iconStyle:c,style:b,onClick:j,tooltip:p,tooltipPosition:u}))}}}}))})),s&&S.length){S.pop();var O=this.props,P=O.mergedMenuIcom,k=O.mergedMenuTitle;r.push(t().createElement(en,{key:o.join("-"),className:"toolbar-"+o.join("-"),onMenuClicked:function(e){e.payload()},buttonClassName:P,buttonTitle:k,menuItems:S,buttonStyle:c,style:b,popoverDirection:m}))}var _=this.props.className?this.props.className:"";_+=" toolbar",r.length||(_+=" empty-toolbar");var E=cm({},h);return w&&(E=cm(cm({},h),{},{minHeight:41})),t().createElement("div",{className:_,style:E,id:this.props.id},r)}});var dm=__webpack_require__(7522),hm=__webpack_require__(1267),ym=__webpack_require__(44305),mm=__webpack_require__(1697);function vm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var bm=["sx"],gm=function(e){var t,r,n={systemProps:{},otherProps:{}},o=null!=(t=null==e||null==(r=e.theme)?void 0:r.unstable_sxConfig)?t:mm.Z;return Object.keys(e).forEach((function(t){o[t]?n.systemProps[t]=e[t]:n.otherProps[t]=e[t]})),n},wm=__webpack_require__(74099),Sm=["className","component"],Om=__webpack_require__(21142);const Pm=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.defaultTheme,n=t.defaultClassName,o=void 0===n?"MuiBox-root":n,i=t.generateClassName,a=(0,dm.ZP)("div",{shouldForwardProp:function(e){return"theme"!==e&&"sx"!==e&&"as"!==e}})(hm.Z),c=e.forwardRef((function(e,t){var n=(0,wm.Z)(r),c=function(e){var t,r,n=e.sx,o=(0,me.Z)(e,bm),i=gm(o),a=i.systemProps,c=i.otherProps;return t=Array.isArray(n)?[a].concat(function(e){if(Array.isArray(e))return vm(e)}(r=n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return vm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vm(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):"function"==typeof n?function(){var e=n.apply(void 0,arguments);return(0,ym.P)(e)?(0,ye.Z)({},a,e):a}:(0,ye.Z)({},a,n),(0,ye.Z)({},c,{sx:t})}(e),s=c.className,u=c.component,l=void 0===u?"div":u,f=(0,me.Z)(c,Sm);return(0,Mt.jsx)(a,(0,ye.Z)({as:l,ref:t,className:(0,Ft.Z)(s,i?i(o):o),theme:n},f))}));return c}({defaultTheme:(0,__webpack_require__(82013).Z)(),defaultClassName:"MuiBox-root",generateClassName:Om.Z.generate});var km=__webpack_require__(15785);function _m(){return(0,wm.Z)(km.Z)}function Em(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n={};return Object.keys(e).forEach((function(o){n[o]=e[o].reduce((function(e,n){if(n){var o=t(n);""!==o&&e.push(o),r&&r[n]&&e.push(r[n])}return e}),[]).join(" ")})),n}var jm=__webpack_require__(9118),xm=__webpack_require__(44880),Cm=__webpack_require__(90678),Tm=__webpack_require__(92466);const Rm=e.createContext({});var Im=__webpack_require__(43547);function Lm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Mm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Am=["element"],Dm=e.createContext({}),Nm=function(){};function Um(t){var r=t.children,n=t.id,o=Lm(e.useState([]),2),i=o[0],a=o[1],c=e.useCallback((function(e){var t=e.element,r=(0,me.Z)(e,Am);a((function(e){var n;if(0===e.length)return[(0,ye.Z)({},r,{element:t,index:0})];var o=function(e,t){for(var r=0,n=e.length-1;r<=n;){var o=Math.floor((r+n)/2);if(e[o].element===t)return o;e[o].element.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING?n=o-1:r=o+1}return r}(e,t);if(e[o]&&e[o].element===t)n=e;else{var i=(0,ye.Z)({},r,{element:t,index:o});(n=e.slice()).splice(o,0,i)}return n.forEach((function(e,t){e.index=t})),n}))}),[]),s=e.useCallback((function(e){a((function(t){return t.filter((function(t){return e!==t.element}))}))}),[]),u=e.useMemo((function(){return{descendants:i,registerDescendant:c,unregisterDescendant:s,parentId:n}}),[i,c,s,n]);return(0,Mt.jsx)(Dm.Provider,{value:u,children:r})}function Bm(e){return(0,Nt.Z)("MuiTreeView",e)}function zm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Fm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}(0,Ut.Z)("MuiTreeView",["root"]);var qm=["children","className","defaultCollapseIcon","defaultEndIcon","defaultExpanded","defaultExpandIcon","defaultParentIcon","defaultSelected","disabledItemsFocusable","disableSelection","expanded","id","multiSelect","onBlur","onFocus","onKeyDown","onNodeFocus","onNodeSelect","onNodeToggle","selected"],Wm=(0,er.ZP)("ul",{name:"MuiTreeView",slot:"Root",overridesResolver:function(e,t){return t.root}})({padding:0,margin:0,listStyle:"none",outline:0});function Zm(e,t,r){for(var n=t;n<e.length;n+=1)if(r===e[n])return n;return-1}function Gm(){return!1}var Hm=[],Vm=[],Jm=e.forwardRef((function(t,r){var n=(0,tr.Z)({props:t,name:"MuiTreeView"}),o=n.children,i=n.className,a=n.defaultCollapseIcon,c=n.defaultEndIcon,s=n.defaultExpanded,u=void 0===s?Hm:s,l=n.defaultExpandIcon,f=n.defaultParentIcon,p=n.defaultSelected,d=void 0===p?Vm:p,h=n.disabledItemsFocusable,y=void 0!==h&&h,m=n.disableSelection,v=void 0!==m&&m,b=n.expanded,g=n.id,w=n.multiSelect,S=void 0!==w&&w,O=n.onBlur,P=n.onFocus,k=n.onKeyDown,_=n.onNodeFocus,E=n.onNodeSelect,j=n.onNodeToggle,x=n.selected,C=(0,me.Z)(n,qm),T="rtl"===_m().direction,R=(0,ye.Z)({},n,{defaultExpanded:u,defaultSelected:d,disabledItemsFocusable:y,disableSelection:v,multiSelect:S}),I=function(e){return Em({root:["root"]},Bm,e.classes)}(R),L=(0,jm.Z)(g),M=e.useRef(null),A=(0,xm.Z)(M,r),D=zm(e.useState(null),2),N=D[0],U=D[1],B=e.useRef({}),z=e.useRef({}),F=zm((0,Cm.Z)({controlled:b,default:u,name:"TreeView",state:"expanded"}),2),q=F[0],W=F[1],Z=zm((0,Cm.Z)({controlled:x,default:d,name:"TreeView",state:"selected"}),2),G=Z[0],H=Z[1],V=e.useCallback((function(e){return!!Array.isArray(q)&&-1!==q.indexOf(e)}),[q]),J=e.useCallback((function(e){return B.current[e]&&B.current[e].expandable}),[]),K=e.useCallback((function(e){return Array.isArray(G)?-1!==G.indexOf(e):G===e}),[G]),$=e.useCallback((function(e){var t=B.current[e];if(!t)return!1;if(t.disabled)return!0;for(;null!=t.parentId;)if((t=B.current[t.parentId]).disabled)return!0;return!1}),[]),Y=function(e){return Object.keys(B.current).map((function(e){return B.current[e]})).filter((function(t){return t.parentId===e})).sort((function(e,t){return e.index-t.index})).map((function(e){return e.id}))},X=function(e){var t=Y(e);return y||(t=t.filter((function(e){return!$(e)}))),t},Q=function(e){if(V(e)&&X(e).length>0)return X(e)[0];for(var t=B.current[e];null!=t;){var r=X(t.parentId),n=r[r.indexOf(t.id)+1];if(n)return n;t=B.current[t.parentId]}return null},ee=function(e){var t=B.current[e],r=X(t.parentId),n=r.indexOf(e);if(0===n)return t.parentId;for(var o=r[n-1];V(o)&&X(o).length>0;)o=X(o).pop();return o},te=function(){for(var e=X(null).pop();V(e);)e=X(e).pop();return e},re=function(){return X(null)[0]},ne=function(e,t){t&&(U(t),_&&_(e,t))},oe=function(e,t){return ne(e,Q(t))},ie=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N;t=-1!==q.indexOf(r)?q.filter((function(e){return e!==r})):[r].concat(q),j&&j(e,t),W(t)},ae=e.useRef(null),ce=e.useRef(!1),se=e.useRef([]),ue=function(e,t){var r=G.slice(),n=t.start,o=t.next,i=t.current;o&&i&&(-1===se.current.indexOf(i)&&(se.current=[]),ce.current?-1!==se.current.indexOf(o)?(r=r.filter((function(e){return e===n||e!==i})),se.current=se.current.filter((function(e){return e===n||e!==i}))):(r.push(o),se.current.push(o)):(r.push(o),se.current.push(i,o)),E&&E(e,r),H(r))},le=function(e,t){var r=G.slice(),n=t.start,o=t.end;ce.current&&(r=r.filter((function(e){return-1===se.current.indexOf(e)})));var i=function(e,t){for(var r=function(e,t){if(e===t)return[e,t];var r=B.current[e],n=B.current[t];if(r.parentId===n.id||n.parentId===r.id)return n.parentId===r.id?[r.id,n.id]:[n.id,r.id];for(var o=[r.id],i=[n.id],a=r.parentId,c=n.parentId,s=-1!==i.indexOf(a),u=-1!==o.indexOf(c),l=!0,f=!0;!u&&!s;)l&&(o.push(a),l=null!==a,!(s=-1!==i.indexOf(a))&&l&&(a=B.current[a].parentId)),f&&!s&&(i.push(c),f=null!==c,!(u=-1!==o.indexOf(c))&&f&&(c=B.current[c].parentId));var p=s?a:c,d=Y(p),h=o[o.indexOf(p)-1],y=i[i.indexOf(p)-1];return d.indexOf(h)<d.indexOf(y)?[e,t]:[t,e]}(e,t),n=zm(r,2),o=n[0],i=n[1],a=[o],c=o;c!==i;)c=Q(c),a.push(c);return a}(n,o);i=i.filter((function(e){return!$(e)})),se.current=i;var a=r.concat(i);a=a.filter((function(e,t){return a.indexOf(e)===t})),E&&E(e,a),H(a)},fe=function(e,t){var r;r=-1!==G.indexOf(t)?G.filter((function(e){return e!==t})):[t].concat(G),E&&E(e,r),H(r)},pe=function(e,t){var r=S?[t]:t;E&&E(e,r),H(r)},de=function(e,t){return!!t&&(arguments.length>2&&void 0!==arguments[2]&&arguments[2]?fe(e,t):pe(e,t),ae.current=t,ce.current=!1,se.current=[],!0)},he=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t.start,o=void 0===n?ae.current:n,i=t.end,a=t.current;r?ue(e,{start:o,next:i,current:a}):null!=o&&null!=i&&le(e,{start:o,end:i}),ce.current=!0},ve=e.useCallback((function(e){var t=e.id,r=e.index,n=e.parentId,o=e.expandable,i=e.idAttribute,a=e.disabled;B.current[t]={id:t,index:r,parentId:n,expandable:o,idAttribute:i,disabled:a}}),[]),be=e.useCallback((function(e){var t=(0,ye.Z)({},B.current);delete t[e],B.current=t,U((function(t){return t===e&&M.current===(0,Tm.Z)(M.current).activeElement?Y(null)[0]:t}))}),[]),ge=e.useCallback((function(e,t){z.current[e]=t}),[]),we=e.useCallback((function(e){var t=(0,ye.Z)({},z.current);delete t[e],z.current=t}),[]),Se=function(e){return J(N)&&(V(N)?oe(e,N):$(N)||ie(e)),!0},Oe=function(e){if(V(N)&&!$(N))return ie(e,N),!0;var t,r=(t=N,B.current[t].parentId);return!!r&&(ne(e,r),!0)},Pe=B.current[N]?B.current[N].idAttribute:null;return(0,Mt.jsx)(Rm.Provider,{value:{icons:{defaultCollapseIcon:a,defaultExpandIcon:l,defaultParentIcon:f,defaultEndIcon:c},focus:ne,toggleExpansion:ie,isExpanded:V,isExpandable:J,isFocused:function(e){return N===e},isSelected:K,isDisabled:$,selectNode:v?Gm:de,selectRange:v?Gm:he,multiSelect:S,disabledItemsFocusable:y,mapFirstChar:ge,unMapFirstChar:we,registerNode:ve,unregisterNode:be,treeId:L},children:(0,Mt.jsx)(Um,{children:(0,Mt.jsx)(Wm,(0,ye.Z)({role:"tree",id:L,"aria-activedescendant":Pe,"aria-multiselectable":S,className:(0,Ft.Z)(I.root,i),ref:A,tabIndex:0,onKeyDown:function(e){var t=!1,r=e.key;if(!e.altKey&&e.currentTarget===e.target&&N){var n,o=e.ctrlKey||e.metaKey;switch(r){case" ":v||$(N)||(S&&e.shiftKey?(he(e,{end:N}),t=!0):t=S?de(e,N,!0):de(e,N)),e.stopPropagation();break;case"Enter":$(N)||(J(N)?(ie(e),t=!0):t=S?de(e,N,!0):de(e,N)),e.stopPropagation();break;case"ArrowDown":S&&e.shiftKey&&!v&&function(e,t){$(Q(t))||he(e,{end:Q(t),current:t},!0)}(e,N),oe(e,N),t=!0;break;case"ArrowUp":S&&e.shiftKey&&!v&&function(e,t){$(ee(t))||he(e,{end:ee(t),current:t},!0)}(e,N),function(e,t){ne(e,ee(t))}(e,N),t=!0;break;case"ArrowRight":t=T?Oe(e):Se(e);break;case"ArrowLeft":t=T?Se(e):Oe(e);break;case"Home":S&&o&&e.shiftKey&&!v&&!$(N)&&function(e,t){ae.current||(ae.current=t);var r=ce.current?ae.current:t;he(e,{start:r,end:re()})}(e,N),function(e){ne(e,re())}(e),t=!0;break;case"End":S&&o&&e.shiftKey&&!v&&!$(N)&&function(e,t){ae.current||(ae.current=t);var r=ce.current?ae.current:t;he(e,{start:r,end:te()})}(e,N),function(e){ne(e,te())}(e),t=!0;break;default:"*"===r?(function(e,t){var r=B.current[t],n=Y(r.parentId).filter((function(e){return J(e)&&!V(e)})),o=q.concat(n);n.length>0&&(W(o),j&&j(e,o))}(e,N),t=!0):S&&o&&"a"===r.toLowerCase()&&!v?(function(e){he(e,{start:re(),end:te()})}(e),t=!0):!o&&!e.shiftKey&&(n=r)&&1===n.length&&n.match(/\S/)&&(function(e,t,r){var n,o,i=r.toLowerCase(),a=[],c=[];Object.keys(z.current).forEach((function(e){var t=z.current[e],r=B.current[e],n=!r.parentId||V(r.parentId),o=!y&&$(e);n&&!o&&(a.push(e),c.push(t))})),(n=a.indexOf(t)+1)>=a.length&&(n=0),-1===(o=Zm(c,n,i))&&(o=Zm(c,0,i)),o>-1&&ne(e,a[o])}(e,N,r),t=!0)}t&&(e.preventDefault(),e.stopPropagation()),k&&k(e)}},onFocus:function(e){if(e.target===e.currentTarget){var t=Array.isArray(G)?G[0]:G;ne(e,t||X(null)[0])}P&&P(e)},onBlur:function(e){U(null),O&&O(e)},ownerState:R},C,{children:o}))})})}));const Km=Jm;function $m(e,t){return $m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$m(e,t)}const Ym=t().createContext(null);var Xm="unmounted",Qm="exited",ev="entering",tv="entered",rv="exiting",nv=function(e){var r,o;function i(t,r){var n;n=e.call(this,t,r)||this;var o,i=r&&!r.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?i?(o=Qm,n.appearStatus=ev):o=tv:o=t.unmountOnExit||t.mountOnEnter?Xm:Qm,n.state={status:o},n.nextCallback=null,n}o=e,(r=i).prototype=Object.create(o.prototype),r.prototype.constructor=r,$m(r,o),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Xm?{status:Qm}:null};var a=i.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==ev&&r!==tv&&(t=ev):r!==ev&&r!==tv||(t=rv)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,r,n=this.props.timeout;return e=t=r=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,r=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:r}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===ev){if(this.props.unmountOnExit||this.props.mountOnEnter){var r=this.props.nodeRef?this.props.nodeRef.current:n().findDOMNode(this);r&&function(e){e.scrollTop}(r)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Qm&&this.setState({status:Xm})},a.performEnter=function(e){var t=this,r=this.props.enter,o=this.context?this.context.isMounting:e,i=this.props.nodeRef?[o]:[n().findDOMNode(this),o],a=i[0],c=i[1],s=this.getTimeouts(),u=o?s.appear:s.enter;e||r?(this.props.onEnter(a,c),this.safeSetState({status:ev},(function(){t.props.onEntering(a,c),t.onTransitionEnd(u,(function(){t.safeSetState({status:tv},(function(){t.props.onEntered(a,c)}))}))}))):this.safeSetState({status:tv},(function(){t.props.onEntered(a)}))},a.performExit=function(){var e=this,t=this.props.exit,r=this.getTimeouts(),o=this.props.nodeRef?void 0:n().findDOMNode(this);t?(this.props.onExit(o),this.safeSetState({status:rv},(function(){e.props.onExiting(o),e.onTransitionEnd(r.exit,(function(){e.safeSetState({status:Qm},(function(){e.props.onExited(o)}))}))}))):this.safeSetState({status:Qm},(function(){e.props.onExited(o)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var r=this.props.nodeRef?this.props.nodeRef.current:n().findDOMNode(this),o=null==e&&!this.props.addEndListener;if(r&&!o){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],a=i[0],c=i[1];this.props.addEndListener(a,c)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===Xm)return null;var r=this.props,n=r.children,o=(r.in,r.mountOnEnter,r.unmountOnExit,r.appear,r.enter,r.exit,r.timeout,r.addEndListener,r.onEnter,r.onEntering,r.onEntered,r.onExit,r.onExiting,r.onExited,r.nodeRef,(0,me.Z)(r,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t().createElement(Ym.Provider,{value:null},"function"==typeof n?n(e,o):t().cloneElement(t().Children.only(n),o))},i}(t().Component);function ov(){}nv.contextType=Ym,nv.propTypes={},nv.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ov,onEntering:ov,onEntered:ov,onExit:ov,onExiting:ov,onExited:ov},nv.UNMOUNTED=Xm,nv.EXITED=Qm,nv.ENTERING=ev,nv.ENTERED=tv,nv.EXITING=rv;const iv=nv;var av=__webpack_require__(5197);function cv(e){return cv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cv(e)}function sv(e,t){var r,n,o=e.timeout,i=e.easing,a=e.style,c=void 0===a?{}:a;return{duration:null!=(r=c.transitionDuration)?r:"number"==typeof o?o:o[t.mode]||0,easing:null!=(n=c.transitionTimingFunction)?n:"object"===cv(i)?i[t.mode]:i,delay:c.transitionDelay}}function uv(e){return(0,Nt.Z)("MuiCollapse",e)}function lv(e){return lv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lv(e)}function fv(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==lv(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==lv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===lv(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(0,Ut.Z)("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);var pv=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],dv=(0,er.ZP)("div",{name:"MuiCollapse",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,t[r.orientation],"entered"===r.state&&t.entered,"exited"===r.state&&!r.in&&"0px"===r.collapsedSize&&t.hidden]}})((function(e){var t=e.theme,r=e.ownerState;return(0,de.Z)({height:0,overflow:"hidden",transition:t.transitions.create("height")},"horizontal"===r.orientation&&{height:"auto",width:0,transition:t.transitions.create("width")},"entered"===r.state&&(0,de.Z)({height:"auto",overflow:"visible"},"horizontal"===r.orientation&&{width:"auto"}),"exited"===r.state&&!r.in&&"0px"===r.collapsedSize&&{visibility:"hidden"})})),hv=(0,er.ZP)("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:function(e,t){return t.wrapper}})((function(e){var t=e.ownerState;return(0,de.Z)({display:"flex",width:"100%"},"horizontal"===t.orientation&&{width:"auto",height:"100%"})})),yv=(0,er.ZP)("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:function(e,t){return t.wrapperInner}})((function(e){var t=e.ownerState;return(0,de.Z)({width:"100%"},"horizontal"===t.orientation&&{width:"auto",height:"100%"})})),mv=e.forwardRef((function(t,r){var n=(0,tr.Z)({props:t,name:"MuiCollapse"}),o=n.addEndListener,i=n.children,a=n.className,c=n.collapsedSize,s=void 0===c?"0px":c,u=n.component,l=n.easing,f=n.in,p=n.onEnter,d=n.onEntered,h=n.onEntering,y=n.onExit,m=n.onExited,v=n.onExiting,b=n.orientation,g=void 0===b?"vertical":b,w=n.style,S=n.timeout,O=void 0===S?av.x9.standard:S,P=n.TransitionComponent,k=void 0===P?iv:P,_=(0,he.Z)(n,pv),E=(0,de.Z)({},n,{orientation:g,collapsedSize:s}),j=function(e){var t=e.orientation,r=e.classes,n={root:["root","".concat(t)],entered:["entered"],hidden:["hidden"],wrapper:["wrapper","".concat(t)],wrapperInner:["wrapperInner","".concat(t)]};return(0,It.Z)(n,uv,r)}(E),x=_m(),C=e.useRef(),T=e.useRef(null),R=e.useRef(),I="number"==typeof s?"".concat(s,"px"):s,L="horizontal"===g,M=L?"width":"height";e.useEffect((function(){return function(){clearTimeout(C.current)}}),[]);var A=e.useRef(null),D=(0,xm.Z)(r,A),N=function(e){return function(t){if(e){var r=A.current;void 0===t?e(r):e(r,t)}}},U=function(){return T.current?T.current[L?"clientWidth":"clientHeight"]:0},B=N((function(e,t){T.current&&L&&(T.current.style.position="absolute"),e.style[M]=I,p&&p(e,t)})),z=N((function(e,t){var r=U();T.current&&L&&(T.current.style.position="");var n=sv({style:w,timeout:O,easing:l},{mode:"enter"}),o=n.duration,i=n.easing;if("auto"===O){var a=x.transitions.getAutoHeightDuration(r);e.style.transitionDuration="".concat(a,"ms"),R.current=a}else e.style.transitionDuration="string"==typeof o?o:"".concat(o,"ms");e.style[M]="".concat(r,"px"),e.style.transitionTimingFunction=i,h&&h(e,t)})),F=N((function(e,t){e.style[M]="auto",d&&d(e,t)})),q=N((function(e){e.style[M]="".concat(U(),"px"),y&&y(e)})),W=N(m),Z=N((function(e){var t=U(),r=sv({style:w,timeout:O,easing:l},{mode:"exit"}),n=r.duration,o=r.easing;if("auto"===O){var i=x.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(i,"ms"),R.current=i}else e.style.transitionDuration="string"==typeof n?n:"".concat(n,"ms");e.style[M]=I,e.style.transitionTimingFunction=o,v&&v(e)}));return(0,Mt.jsx)(k,(0,de.Z)({in:f,onEnter:B,onEntered:F,onEntering:z,onExit:q,onExited:W,onExiting:Z,addEndListener:function(e){"auto"===O&&(C.current=setTimeout(e,R.current||0)),o&&o(A.current,e)},nodeRef:A,timeout:"auto"===O?null:O},_,{children:function(e,t){return(0,Mt.jsx)(dv,(0,de.Z)({as:u,className:(0,Ft.Z)(j.root,a,{entered:j.entered,exited:!f&&"0px"===I&&j.hidden}[e]),style:(0,de.Z)(fv({},L?"minWidth":"minHeight",I),w),ownerState:(0,de.Z)({},E,{state:e}),ref:D},t,{children:(0,Mt.jsx)(hv,{ownerState:(0,de.Z)({},E,{state:e}),className:j.wrapper,ref:T,children:(0,Mt.jsx)(yv,{ownerState:(0,de.Z)({},E,{state:e}),className:j.wrapperInner,children:i})})}))}}))}));mv.muiSupportAuto=!0;const vv=mv;var bv=__webpack_require__(83026),gv=["classes","className","displayIcon","expansionIcon","icon","label","nodeId","onClick","onMouseDown"],wv=e.forwardRef((function(t,r){var n=t.classes,o=t.className,i=t.displayIcon,a=t.expansionIcon,c=t.icon,s=t.label,u=t.nodeId,l=t.onClick,f=t.onMouseDown,p=(0,me.Z)(t,gv),d=function(t){var r=e.useContext(Rm),n=r.focus,o=r.isExpanded,i=r.isExpandable,a=r.isFocused,c=r.isDisabled,s=r.isSelected,u=r.multiSelect,l=r.selectNode,f=r.selectRange,p=r.toggleExpansion,d=!!i&&i(t),h=!!o&&o(t),y=!!a&&a(t),m=!!c&&c(t),v=!!s&&s(t);return{disabled:m,expanded:h,selected:v,focused:y,handleExpansion:function(e){if(!m){y||n(e,t);var r=u&&(e.shiftKey||e.ctrlKey||e.metaKey);!d||r&&o(t)||p(e,t)}},handleSelection:function(e){m||(y||n(e,t),u&&(e.shiftKey||e.ctrlKey||e.metaKey)?e.shiftKey?f(e,{end:t}):l(e,t,!0):l(e,t))},preventSelection:function(e){(e.shiftKey||e.ctrlKey||e.metaKey||m)&&e.preventDefault()}}}(u),h=d.disabled,y=d.expanded,m=d.selected,v=d.focused,b=d.handleExpansion,g=d.handleSelection,w=d.preventSelection,S=c||a||i;return(0,Mt.jsxs)("div",(0,ye.Z)({className:(0,Ft.Z)(o,n.root,y&&n.expanded,m&&n.selected,v&&n.focused,h&&n.disabled),onClick:function(e){b(e),g(e),l&&l(e)},onMouseDown:function(e){w(e),f&&f(e)},ref:r},p,{children:[(0,Mt.jsx)("div",{className:n.iconContainer,children:S}),(0,Mt.jsx)("div",{className:n.label,children:s})]}))}));const Sv=wv;function Ov(e){return(0,Nt.Z)("MuiTreeItem",e)}const Pv=(0,Ut.Z)("MuiTreeItem",["root","group","content","expanded","selected","focused","disabled","iconContainer","label"]);function kv(e){return kv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kv(e)}function _v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ev(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==kv(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==kv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===kv(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jv=["children","className","collapseIcon","ContentComponent","ContentProps","endIcon","expandIcon","disabled","icon","id","label","nodeId","onClick","onMouseDown","TransitionComponent","TransitionProps"],xv=(0,er.ZP)("li",{name:"MuiTreeItem",slot:"Root",overridesResolver:function(e,t){return t.root}})({listStyle:"none",margin:0,padding:0,outline:0}),Cv=(0,er.ZP)(Sv,{name:"MuiTreeItem",slot:"Content",overridesResolver:function(e,t){return[t.content,t.iconContainer&&Ev({},"& .".concat(Pv.iconContainer),t.iconContainer),t.label&&Ev({},"& .".concat(Pv.label),t.label)]}})((function(e){var t,r=e.theme;return Ev(t={padding:"0 8px",width:"100%",display:"flex",alignItems:"center",cursor:"pointer",WebkitTapHighlightColor:"transparent","&:hover":{backgroundColor:(r.vars||r).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(Pv.disabled),{opacity:(r.vars||r).palette.action.disabledOpacity,backgroundColor:"transparent"}),Ev(t,"&.".concat(Pv.focused),{backgroundColor:(r.vars||r).palette.action.focus}),Ev(t,"&.".concat(Pv.selected),Ev({backgroundColor:r.vars?"rgba(".concat(r.vars.palette.primary.mainChannel," / ").concat(r.vars.palette.action.selectedOpacity,")"):(0,bv.Fq)(r.palette.primary.main,r.palette.action.selectedOpacity),"&:hover":{backgroundColor:r.vars?"rgba(".concat(r.vars.palette.primary.mainChannel," / calc(").concat(r.vars.palette.action.selectedOpacity," + ").concat(r.vars.palette.action.hoverOpacity,"))"):(0,bv.Fq)(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:r.vars?"rgba(".concat(r.vars.palette.primary.mainChannel," / ").concat(r.vars.palette.action.selectedOpacity,")"):(0,bv.Fq)(r.palette.primary.main,r.palette.action.selectedOpacity)}}},"&.".concat(Pv.focused),{backgroundColor:r.vars?"rgba(".concat(r.vars.palette.primary.mainChannel," / calc(").concat(r.vars.palette.action.selectedOpacity," + ").concat(r.vars.palette.action.focusOpacity,"))"):(0,bv.Fq)(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.focusOpacity)})),Ev(t,"& .".concat(Pv.iconContainer),{marginRight:4,width:15,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}}),Ev(t,"& .".concat(Pv.label),(0,ye.Z)({width:"100%",minWidth:0,paddingLeft:4,position:"relative"},r.typography.body1)),t})),Tv=(0,er.ZP)(vv,{name:"MuiTreeItem",slot:"Group",overridesResolver:function(e,t){return t.group}})({margin:0,padding:0,marginLeft:17}),Rv=e.forwardRef((function(t,r){var n=(0,tr.Z)({props:t,name:"MuiTreeItem"}),o=n.children,i=n.className,a=n.collapseIcon,c=n.ContentComponent,s=void 0===c?Sv:c,u=n.ContentProps,l=n.endIcon,f=n.expandIcon,p=n.disabled,d=n.icon,h=n.id,y=n.label,m=n.nodeId,v=n.onClick,b=n.onMouseDown,g=n.TransitionComponent,w=void 0===g?vv:g,S=n.TransitionProps,O=(0,me.Z)(n,jv),P=e.useContext(Rm),k=P.icons,_=void 0===k?{}:k,E=P.focus,j=P.isExpanded,x=P.isFocused,C=P.isSelected,T=P.isDisabled,R=P.multiSelect,I=P.disabledItemsFocusable,L=P.mapFirstChar,M=P.unMapFirstChar,A=P.registerNode,D=P.unregisterNode,N=P.treeId,U=null;null!=h?U=h:N&&m&&(U="".concat(N,"-").concat(m));var B,z,F,q,W,Z=(q=e.useState(null),W=2,function(e){if(Array.isArray(e))return e}(q)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(q,W)||function(e,t){if(e){if("string"==typeof e)return _v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_v(e,t):void 0}}(q,W)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),G=Z[0],H=Z[1],V=e.useRef(null),J=(0,xm.Z)(H,r),K=function(t){var r=Lm(e.useState(),2)[1],n=e.useContext(Dm),o=n.registerDescendant,i=void 0===o?Nm:o,a=n.unregisterDescendant,c=void 0===a?Nm:a,s=n.descendants,u=void 0===s?[]:s,l=n.parentId,f=void 0===l?null:l,p=function(e,r){for(var n=0;n<e.length;n+=1)if(e[n].element===t.element)return n;return-1}(u),d=function(t){var r=e.useRef(null);return e.useEffect((function(){r.current=t}),[t]),r.current}(u),h=u.some((function(e,t){return d&&d[t]&&d[t].element!==e.element}));return(0,Im.Z)((function(){if(t.element)return i((0,ye.Z)({},t,{index:p})),function(){c(t.element)};r({})}),[i,c,p,h,t]),{parentId:f,index:p}}(e.useMemo((function(){return{element:G,id:m}}),[m,G])),$=K.index,Y=K.parentId,X=Boolean(Array.isArray(o)?o.length:o),Q=!!j&&j(m),ee=!!x&&x(m),te=!!C&&C(m),re=!!T&&T(m),ne=(0,ye.Z)({},n,{expanded:Q,focused:ee,selected:te,disabled:re}),oe=function(e){return Em({root:["root"],content:["content"],expanded:["expanded"],selected:["selected"],focused:["focused"],disabled:["disabled"],iconContainer:["iconContainer"],label:["label"],group:["group"]},Ov,e.classes)}(ne);return X&&(z=Q?a||_.defaultCollapseIcon:f||_.defaultExpandIcon),B=X?_.defaultParentIcon:l||_.defaultEndIcon,e.useEffect((function(){if(A&&D&&-1!==$)return A({id:m,idAttribute:U,index:$,parentId:Y,expandable:X,disabled:p}),function(){D(m)}}),[A,D,Y,$,m,X,p,U]),e.useEffect((function(){if(L&&M&&y)return L(m,V.current.textContent.substring(0,1).toLowerCase()),function(){M(m)}}),[L,M,m,y]),R?F=te:te&&(F=!0),(0,Mt.jsxs)(xv,(0,ye.Z)({className:(0,Ft.Z)(oe.root,i),role:"treeitem","aria-expanded":X?Q:null,"aria-selected":F,"aria-disabled":re||null,ref:J,id:U,tabIndex:-1},O,{ownerState:ne,onFocus:function(e){e.target===e.currentTarget&&("function"==typeof e.target.getRootNode?e.target.getRootNode():(0,Tm.Z)(e.target)).getElementById(N).focus({preventScroll:!0});var t=!I&&re;ee||e.currentTarget!==e.target||t||E(e,m)},children:[(0,Mt.jsx)(Cv,(0,ye.Z)({as:s,ref:V,classes:{root:oe.content,expanded:oe.expanded,selected:oe.selected,focused:oe.focused,disabled:oe.disabled,iconContainer:oe.iconContainer,label:oe.label},label:y,nodeId:m,onClick:v,onMouseDown:b,icon:d,expansionIcon:z,displayIcon:B,ownerState:ne},u)),o&&(0,Mt.jsx)(Um,{id:m,children:(0,Mt.jsx)(Tv,(0,ye.Z)({as:w,unmountOnExit:!0,className:oe.group,in:Q,component:"ul",role:"group"},S,{children:o}))})]}))}));const Iv=Rv;var Lv=__webpack_require__(26454),Mv=__webpack_require__(14741),Av=["labelIcon","labelInfo","labelText"];function Dv(e){return Dv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dv(e)}function Nv(){return Nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nv.apply(this,arguments)}function Uv(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Dv(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Dv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Dv(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Bv=(0,er.ZP)(Iv)((function(e){e.theme;var t,r=e.muiTheme;return Uv(t={color:r.palette.mui3.secondary},"& .".concat(Pv.content),Uv({color:"inherit",borderRadius:20,paddingTop:8,paddingBottom:8,paddingRight:8,transition:"background-color 250ms cubic-bezier(0.23, 1, 0.32, 1) 0ms","&.Mui-expanded":{fontWeight:500},"&:hover":{backgroundColor:r.hoverBackgroundColor},"&.Mui-focused":{backgroundColor:"transparent"},"&.Mui-selected, &.Mui-selected.Mui-focused":{backgroundColor:r.palette.mui3["secondary-container"],color:r.palette.mui3["on-secondary-container"]}},"& .".concat(Pv.label),{fontSize:13,fontWeight:500,color:"inherit"})),Uv(t,"& .".concat(Pv.group),Uv({marginLeft:0},"& .".concat(Pv.content),{paddingLeft:16})),t}));function zv(e){var r=e.labelIcon,n=e.labelInfo,o=e.labelText,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Av);return t().createElement(Bv,Nv({label:t().createElement(Pm,{sx:{display:"flex",alignItems:"center",p:.5,pr:0}},r,t().createElement("span",{style:{flex:1,fontWeight:"inherit",flexGrow:1}},o),t().createElement("span",null,n)),style:{color:"inherit"}},i))}function Fv(e){e.pydio;var r=e.muiTheme,n=e.style,o=e.model,i={},a=function e(n){return!n.collections||n.notExpandable?[]:n.collections.map((function(n){return i[n.id]=n,t().createElement(zv,{muiTheme:r,nodeId:n.id,labelText:n.label,labelIcon:t().createElement("span",{style:{fontSize:16,marginRight:10},className:n.icon})},e(n))}))}(o.getRoot());return t().createElement(Km,{"aria-label":"gmail",defaultExpanded:["3"],defaultCollapseIcon:t().createElement(Lv.Z,null),defaultExpandIcon:t().createElement(Mv.Z,null),defaultEndIcon:t().createElement("div",{style:{width:24}}),selected:o.contextItem().id,onNodeSelect:function(e,t){i[t]&&o.setContext(i[t])},style:n},a)}zv.propTypes={labelIcon:U().object.isRequired,labelInfo:U().string,labelText:U().string.isRequired};var qv,Wv=(qv=function(e,t){return qv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},qv(e,t)},function(e,t){function r(){this.constructor=e}qv(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),Zv=function(){return Zv=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Zv.apply(this,arguments)},Gv={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},Hv={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},Vv={width:"20px",height:"20px",position:"absolute"},Jv={top:Zv(Zv({},Gv),{top:"-5px"}),right:Zv(Zv({},Hv),{left:void 0,right:"-5px"}),bottom:Zv(Zv({},Gv),{top:void 0,bottom:"-5px"}),left:Zv(Zv({},Hv),{left:"-5px"}),topRight:Zv(Zv({},Vv),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:Zv(Zv({},Vv),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:Zv(Zv({},Vv),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:Zv(Zv({},Vv),{left:"-10px",top:"-10px",cursor:"nw-resize"})},Kv=function(t){function r(){var e=null!==t&&t.apply(this,arguments)||this;return e.onMouseDown=function(t){e.props.onResizeStart(t,e.props.direction)},e.onTouchStart=function(t){e.props.onResizeStart(t,e.props.direction)},e}return Wv(r,t),r.prototype.render=function(){return e.createElement("div",{className:this.props.className||"",style:Zv(Zv({position:"absolute",userSelect:"none"},Jv[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},r}(e.PureComponent),$v=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Yv=function(){return Yv=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Yv.apply(this,arguments)},Xv={width:"auto",height:"auto"},Qv=function(e,t,r){return Math.max(Math.min(e,r),t)},eb=function(e,t){return Math.round(e/t)*t},tb=function(e,t){return new RegExp(e,"i").test(t)},rb=function(e){return Boolean(e.touches&&e.touches.length)},nb=function(e,t,r){void 0===r&&(r=0);var n=t.reduce((function(r,n,o){return Math.abs(n-e)<Math.abs(t[r]-e)?o:r}),0),o=Math.abs(t[n]-e);return 0===r||o<r?t[n]:e},ob=function(e){return"auto"===(e=e.toString())||e.endsWith("px")||e.endsWith("%")||e.endsWith("vh")||e.endsWith("vw")||e.endsWith("vmax")||e.endsWith("vmin")?e:e+"px"},ib=function(e,t,r,n){if(e&&"string"==typeof e){if(e.endsWith("px"))return Number(e.replace("px",""));if(e.endsWith("%"))return t*(Number(e.replace("%",""))/100);if(e.endsWith("vw"))return r*(Number(e.replace("vw",""))/100);if(e.endsWith("vh"))return n*(Number(e.replace("vh",""))/100)}return e},ab=["as","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],cb="__resizable_base__",sb=function(t){function n(e){var r=t.call(this,e)||this;return r.ratio=1,r.resizable=null,r.parentLeft=0,r.parentTop=0,r.resizableLeft=0,r.resizableRight=0,r.resizableTop=0,r.resizableBottom=0,r.targetLeft=0,r.targetTop=0,r.appendBase=function(){if(!r.resizable||!r.window)return null;var e=r.parentNode;if(!e)return null;var t=r.window.document.createElement("div");return t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.transform="scale(0, 0)",t.style.left="0",t.style.flex="0 0 100%",t.classList?t.classList.add(cb):t.className+=cb,e.appendChild(t),t},r.removeBase=function(e){var t=r.parentNode;t&&t.removeChild(e)},r.ref=function(e){e&&(r.resizable=e)},r.state={isResizing:!1,width:void 0===(r.propsSize&&r.propsSize.width)?"auto":r.propsSize&&r.propsSize.width,height:void 0===(r.propsSize&&r.propsSize.height)?"auto":r.propsSize&&r.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},r.onResizeStart=r.onResizeStart.bind(r),r.onMouseMove=r.onMouseMove.bind(r),r.onMouseUp=r.onMouseUp.bind(r),r}return $v(n,t),Object.defineProperty(n.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"window",{get:function(){return this.resizable&&this.resizable.ownerDocument?this.resizable.ownerDocument.defaultView:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||Xv},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){var e=0,t=0;if(this.resizable&&this.window){var r=this.resizable.offsetWidth,n=this.resizable.offsetHeight,o=this.resizable.style.position;"relative"!==o&&(this.resizable.style.position="relative"),e="auto"!==this.resizable.style.width?this.resizable.offsetWidth:r,t="auto"!==this.resizable.style.height?this.resizable.offsetHeight:n,this.resizable.style.position=o}return{width:e,height:t}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"sizeStyle",{get:function(){var e=this,t=this.props.size,r=function(t){if(void 0===e.state[t]||"auto"===e.state[t])return"auto";if(e.propsSize&&e.propsSize[t]&&e.propsSize[t].toString().endsWith("%")){if(e.state[t].toString().endsWith("%"))return e.state[t].toString();var r=e.getParentSize();return Number(e.state[t].toString().replace("px",""))/r[t]*100+"%"}return ob(e.state[t])};return{width:t&&void 0!==t.width&&!this.state.isResizing?ob(t.width):r("width"),height:t&&void 0!==t.height&&!this.state.isResizing?ob(t.height):r("height")}},enumerable:!1,configurable:!0}),n.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var e=this.appendBase();if(!e)return{width:0,height:0};var t=!1,r=this.parentNode.style.flexWrap;"wrap"!==r&&(t=!0,this.parentNode.style.flexWrap="wrap"),e.style.position="relative",e.style.minWidth="100%",e.style.minHeight="100%";var n={width:e.offsetWidth,height:e.offsetHeight};return t&&(this.parentNode.style.flexWrap=r),this.removeBase(e),n},n.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},n.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},n.prototype.componentDidMount=function(){if(this.resizable&&this.window){var e=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:"auto"!==e.flexBasis?e.flexBasis:void 0})}},n.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},n.prototype.createSizeForCssProperty=function(e,t){var r=this.propsSize&&this.propsSize[t];return"auto"!==this.state[t]||this.state.original[t]!==e||void 0!==r&&"auto"!==r?e:"auto"},n.prototype.calculateNewMaxFromBoundary=function(e,t){var r,n,o=this.props.boundsByDirection,i=this.state.direction,a=o&&tb("left",i),c=o&&tb("top",i);if("parent"===this.props.bounds){var s=this.parentNode;s&&(r=a?this.resizableRight-this.parentLeft:s.offsetWidth+(this.parentLeft-this.resizableLeft),n=c?this.resizableBottom-this.parentTop:s.offsetHeight+(this.parentTop-this.resizableTop))}else"window"===this.props.bounds?this.window&&(r=a?this.resizableRight:this.window.innerWidth-this.resizableLeft,n=c?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(r=a?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),n=c?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return r&&Number.isFinite(r)&&(e=e&&e<r?e:r),n&&Number.isFinite(n)&&(t=t&&t<n?t:n),{maxWidth:e,maxHeight:t}},n.prototype.calculateNewSizeFromDirection=function(e,t){var r=this.props.scale||1,n=this.props.resizeRatio||1,o=this.state,i=o.direction,a=o.original,c=this.props,s=c.lockAspectRatio,u=c.lockAspectRatioExtraHeight,l=c.lockAspectRatioExtraWidth,f=a.width,p=a.height,d=u||0,h=l||0;return tb("right",i)&&(f=a.width+(e-a.x)*n/r,s&&(p=(f-h)/this.ratio+d)),tb("left",i)&&(f=a.width-(e-a.x)*n/r,s&&(p=(f-h)/this.ratio+d)),tb("bottom",i)&&(p=a.height+(t-a.y)*n/r,s&&(f=(p-d)*this.ratio+h)),tb("top",i)&&(p=a.height-(t-a.y)*n/r,s&&(f=(p-d)*this.ratio+h)),{newWidth:f,newHeight:p}},n.prototype.calculateNewSizeFromAspectRatio=function(e,t,r,n){var o=this.props,i=o.lockAspectRatio,a=o.lockAspectRatioExtraHeight,c=o.lockAspectRatioExtraWidth,s=void 0===n.width?10:n.width,u=void 0===r.width||r.width<0?e:r.width,l=void 0===n.height?10:n.height,f=void 0===r.height||r.height<0?t:r.height,p=a||0,d=c||0;if(i){var h=(l-p)*this.ratio+d,y=(f-p)*this.ratio+d,m=(s-d)/this.ratio+p,v=(u-d)/this.ratio+p,b=Math.max(s,h),g=Math.min(u,y),w=Math.max(l,m),S=Math.min(f,v);e=Qv(e,b,g),t=Qv(t,w,S)}else e=Qv(e,s,u),t=Qv(t,l,f);return{newWidth:e,newHeight:t}},n.prototype.setBoundingClientRect=function(){if("parent"===this.props.bounds){var e=this.parentNode;if(e){var t=e.getBoundingClientRect();this.parentLeft=t.left,this.parentTop=t.top}}if(this.props.bounds&&"string"!=typeof this.props.bounds){var r=this.props.bounds.getBoundingClientRect();this.targetLeft=r.left,this.targetTop=r.top}if(this.resizable){var n=this.resizable.getBoundingClientRect(),o=n.left,i=n.top,a=n.right,c=n.bottom;this.resizableLeft=o,this.resizableRight=a,this.resizableTop=i,this.resizableBottom=c}},n.prototype.onResizeStart=function(e,t){if(this.resizable&&this.window){var r,n=0,o=0;if(e.nativeEvent&&function(e){return Boolean((e.clientX||0===e.clientX)&&(e.clientY||0===e.clientY))}(e.nativeEvent)?(n=e.nativeEvent.clientX,o=e.nativeEvent.clientY):e.nativeEvent&&rb(e.nativeEvent)&&(n=e.nativeEvent.touches[0].clientX,o=e.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable&&!1===this.props.onResizeStart(e,t,this.resizable))return;this.props.size&&(void 0!==this.props.size.height&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),void 0!==this.props.size.width&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio="number"==typeof this.props.lockAspectRatio?this.props.lockAspectRatio:this.size.width/this.size.height;var i=this.window.getComputedStyle(this.resizable);if("auto"!==i.flexBasis){var a=this.parentNode;if(a){var c=this.window.getComputedStyle(a).flexDirection;this.flexDir=c.startsWith("row")?"row":"column",r=i.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var s={original:{x:n,y:o,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Yv(Yv({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(e.target).cursor||"auto"}),direction:t,flexBasis:r};this.setState(s)}},n.prototype.onMouseMove=function(e){var t=this;if(this.state.isResizing&&this.resizable&&this.window){if(this.window.TouchEvent&&rb(e))try{e.preventDefault(),e.stopPropagation()}catch(e){}var n=this.props,o=n.maxWidth,i=n.maxHeight,a=n.minWidth,c=n.minHeight,s=rb(e)?e.touches[0].clientX:e.clientX,u=rb(e)?e.touches[0].clientY:e.clientY,l=this.state,f=l.direction,p=l.original,d=l.width,h=l.height,y=this.getParentSize(),m=function(e,t,r,n,o,i,a){return n=ib(n,e.width,t,r),o=ib(o,e.height,t,r),i=ib(i,e.width,t,r),a=ib(a,e.height,t,r),{maxWidth:void 0===n?void 0:Number(n),maxHeight:void 0===o?void 0:Number(o),minWidth:void 0===i?void 0:Number(i),minHeight:void 0===a?void 0:Number(a)}}(y,this.window.innerWidth,this.window.innerHeight,o,i,a,c);o=m.maxWidth,i=m.maxHeight,a=m.minWidth,c=m.minHeight;var v=this.calculateNewSizeFromDirection(s,u),b=v.newHeight,g=v.newWidth,w=this.calculateNewMaxFromBoundary(o,i);this.props.snap&&this.props.snap.x&&(g=nb(g,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(b=nb(b,this.props.snap.y,this.props.snapGap));var S=this.calculateNewSizeFromAspectRatio(g,b,{width:w.maxWidth,height:w.maxHeight},{width:a,height:c});if(g=S.newWidth,b=S.newHeight,this.props.grid){var O=eb(g,this.props.grid[0]),P=eb(b,this.props.grid[1]),k=this.props.snapGap||0;g=0===k||Math.abs(O-g)<=k?O:g,b=0===k||Math.abs(P-b)<=k?P:b}var _={width:g-p.width,height:b-p.height};d&&"string"==typeof d&&(d.endsWith("%")?g=g/y.width*100+"%":d.endsWith("vw")?g=g/this.window.innerWidth*100+"vw":d.endsWith("vh")&&(g=g/this.window.innerHeight*100+"vh")),h&&"string"==typeof h&&(h.endsWith("%")?b=b/y.height*100+"%":h.endsWith("vw")?b=b/this.window.innerWidth*100+"vw":h.endsWith("vh")&&(b=b/this.window.innerHeight*100+"vh"));var E={width:this.createSizeForCssProperty(g,"width"),height:this.createSizeForCssProperty(b,"height")};"row"===this.flexDir?E.flexBasis=E.width:"column"===this.flexDir&&(E.flexBasis=E.height),(0,r.flushSync)((function(){t.setState(E)})),this.props.onResize&&this.props.onResize(e,f,this.resizable,_)}},n.prototype.onMouseUp=function(e){var t=this.state,r=t.isResizing,n=t.direction,o=t.original;if(r&&this.resizable){var i={width:this.size.width-o.width,height:this.size.height-o.height};this.props.onResizeStop&&this.props.onResizeStop(e,n,this.resizable,i),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Yv(Yv({},this.state.backgroundStyle),{cursor:"auto"})})}},n.prototype.updateSize=function(e){this.setState({width:e.width,height:e.height})},n.prototype.renderResizer=function(){var t=this,r=this.props,n=r.enable,o=r.handleStyles,i=r.handleClasses,a=r.handleWrapperStyle,c=r.handleWrapperClass,s=r.handleComponent;if(!n)return null;var u=Object.keys(n).map((function(r){return!1!==n[r]?e.createElement(Kv,{key:r,direction:r,onResizeStart:t.onResizeStart,replaceStyles:o&&o[r],className:i&&i[r]},s&&s[r]?s[r]:null):null}));return e.createElement("div",{className:c,style:a},u)},n.prototype.render=function(){var t=this,r=Object.keys(this.props).reduce((function(e,r){return-1!==ab.indexOf(r)||(e[r]=t.props[r]),e}),{}),n=Yv(Yv(Yv({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(n.flexBasis=this.state.flexBasis);var o=this.props.as||"div";return e.createElement(o,Yv({ref:this.ref,style:n,className:this.props.className},r),this.state.isResizing&&e.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},n.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},n}(e.PureComponent);const ub={list:{},listItem:{style:{fontSize:14},innerDivStyle:{padding:"14px 56px 14px 62px"}},avatar:{avatarSize:26,style:{top:9}},iconMenu:{style:{top:2,right:8}},iconButton:{style:{width:26,height:26,padding:5,right:8},iconStyle:{color:"rgba(0,0,0,.33)",fontSize:20}},divider:{style:{marginLeft:62}},className:"medium"};function lb(e){return lb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lb(e)}function fb(){return fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fb.apply(this,arguments)}function pb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function db(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pb(Object(r),!0).forEach((function(t){vb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function hb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bb(n.key),n)}}function yb(e,t){return yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yb(e,t)}function mb(e){return mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mb(e)}function vb(e,t,r){return(t=bb(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bb(e){var t=function(e,t){if("object"!==lb(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==lb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===lb(t)?t:String(t)}var gb=z().requireLib("boot").PydioContextConsumer,wb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yb(e,t)}(c,e);var r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=mb(o);if(i){var r=mb(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===lb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),t=a.call(this,e);var r=e.pydio,n=e.mode,o=e.usersOnly,i=e.usersFrom,s=e.teamsOnly,u=e.onItemSelected,l=new Wl(r,n,o,i,s,u);return l.initTree(),l.observe("update",(function(){t.forceUpdate()})),t.state={model:l},t}return r=c,(n=[{key:"componentDidMount",value:function(){this.state.model.reloadContext()}},{key:"render",value:function(){var e=this,r=this.props,n=r.getMessage,o=r.pydio,i=r.style,a=r.muiTheme,c=this.state,s=c.model,u=c.rightPaneSize,l=void 0===u?256:u,f=s.rightItem(),p=s.contextItem(),d={width:"100%",height:"100%",overflowY:"auto",overflowX:"hidden"},h=db({enableSearch:!0,searchLabel:n(583,""),setSearchTerm:function(e){return s.setGlobalSearch(!!e,e)},setSearchMode:function(e){return s.setGlobalSearch(e,"")}},s.getSearchStatus()),y=a.palette.mui3,m="xs"===a.breakpoint||"s"===a.breakpoint,v=a.darkMode?"surface":"surface-variant",b=a.darkMode?"surface-variant":"surface";return t().createElement("div",{style:db({display:"flex",height:"100%",overflow:"hidden",flexDirection:"column",background:y[v]},i)},t().createElement("div",{style:{height:72,display:"flex",flexShrink:0,alignItems:"center"}},t().createElement(gh,fb({pydio:o,model:s,mode:"book",getMessage:n,style:{width:"100%"}},h))),t().createElement("div",{style:{display:"flex",flex:1,overflow:"hidden",margin:12,marginTop:0}},!m&&t().createElement(sb,{defaultSize:{width:256},enable:{right:!0},style:{margin:0}},t().createElement(Fv,{pydio:o,model:s,listStyles:{},muiTheme:a,style:db(db({},d),{},{paddingRight:8,color:y["on-surface-variant"]})})),t().createElement(of,fb({pydio:o,model:s,item:p,mode:"book",showAllParents:m,onItemClicked:function(e){return s.leafItemClicked(e)},onFolderClicked:function(e,t){return s.setContext(e,t)},onClick:function(){return s.clearRightItem()},loading:s.loading,actionsForCell:this.props.actionsForCell,usersOnly:this.props.usersOnly,listStyles:ub,style:{borderRadius:a.borderRadius,backgroundColor:y[b]}},h)),t().createElement(sb,{size:{width:f?l:0},onResizeStop:function(t,r,n,o){e.setState({rightPaneSize:l+o.width})},enable:{left:!!f},style:{marginLeft:f?12:0,transition:"width 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms"}},t().createElement(jd,{pydio:o,model:s,zDepth:0,style:db(db({},d),{},{background:y[b],borderRadius:a.borderRadius})}))),t().createElement(ch,{pydio:o,model:s,onCancel:function(){s.clearCreateItem()},afterSubmit:function(){s.clearCreateItem(),s.reloadContext()}}),t().createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:(this.props.muiTheme.palette,"\n.folder-avatar::before {\n    content: '\\F24B';\n    font-family: 'Material Design Icons';\n    position: absolute;\n    color: rgb(54, 113, 143);\n    font-size: 40px;\n    top: 11px;\n    left: -2px;\n}\n.compact .folder-avatar::before {\n    font-size: 30px;\n    top: 5px;\n}\n\n.medium .folder-avatar::before {\n    font-size: 26px;\n    top: 5px;\n}\n\n.folder-avatar span.mdi {\n    font-size: 20px !important;\n    color: #fff !important;\n    height: 12.8px !important;\n    margin: 7.3px !important;\n}\n.compact .folder-avatar span.mdi {\n    font-size: 13px !important;\n}\n.medium .folder-avatar span.mdi {\n    font-size: 13px !important;\n}\n.folder-avatar {\n    background-color: transparent !important;\n}\n.medium .folder-avatar {\n    left: 18px;\n}\n")}}))}}])&&hb(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(t().Component);vb(wb,"propTypes",{pydio:U().instanceOf(z()),onItemSelected:U().func,usersOnly:U().bool,usersFrom:U().oneOf(["local","remote","any"]),muiTheme:U().object}),vb(wb,"defaultProps",{mode:"book",usersOnly:!1,usersFrom:"any",teamsOnly:!1,disableSearch:!1}),wb=gb(wb),wb=(0,V.muiThemeable)()(wb);const Sb=require("pydio/http/websocket");var Ob=__webpack_require__.n(Sb),Pb=__webpack_require__(12590),kb=__webpack_require__.n(Pb);function _b(e){return _b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_b(e)}function Eb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rb(n.key),n)}}function xb(e,t){return xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xb(e,t)}function Cb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tb(e){return Tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Tb(e)}function Rb(e){var t=function(e,t){if("object"!==_b(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==_b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===_b(t)?t:String(t)}var Ib=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xb(e,t)}(c,e);var t,r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Tb(o);if(i){var r=Tb(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===_b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Cb(e)}(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),function(e,t,r){(t=Rb(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Cb(t=a.call(this,e)),"subscriptions",void 0),t.currentRepo=e.repositoryId,t.subscriptions={},t.rooms={},t.roomInfos={},t.open(),t}return t=c,r=[{key:"getIdentifier",value:function(e,t){return e+":"+t}},{key:"getRoomInfoFromIdentifier",value:function(e){var t,r,n=(t=e.split(":"),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Eb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Eb(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return{roomType:n[0],objectId:n[1]}}},{key:"onRoomMessage",value:function(e){if(e){var t=e.Room,r=this.getIdentifier(t.Type,t.RoomTypeObject);this.roomInfos[r]=t}}},{key:"joinRoom",value:function(e,t,r,n){var o=this,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=this.getIdentifier(e,t);if(this.subscriptions[a]){var c=!1;return this.subscriptions[a].map((function(e){e.messageHandler===r&&(c=!0)})),c||this.subscriptions[a].push({messageHandler:r,roomUpdateHandler:n}),this.roomInfos[a]}if(this.connecting){if(i<3)return setTimeout((function(){o.joinRoom(e,t,r,n,i+1)}),1500),null}else if(!this.connOpen)return this.open(),setTimeout((function(){o.joinRoom(e,t,r,n,i+1)}),1500),null;this.subscriptions[e+":"+t]=[{messageHandler:r,roomUpdateHandler:n}];var s={"@type":"JOIN",Room:{Type:e,RoomTypeObject:t}};return this.ws.send(JSON.stringify(s)),this.roomInfos[a]}},{key:"loadHistory",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(this.connecting&&i<3)setTimeout((function(){r.loadHistory(e,t,n,o,i+1)}),1500);else{var a={"@type":"HISTORY",Room:{Type:e,RoomTypeObject:t},Message:{Message:JSON.stringify({Offset:n,Limit:o})}};this.ws.send(JSON.stringify(a))}}},{key:"leaveRoom",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=!1,i=this.getIdentifier(e,t);if(this.subscriptions[i]&&(n?(this.subscriptions[i]=this.subscriptions[i].filter((function(e){return e.messageHandler!==n})),this.subscriptions[i].length?o=!0:delete this.subscriptions[i]):delete this.subscriptions[i]),!o&&(Object.keys(this.rooms).map((function(e){r.rooms[e]===i&&delete r.rooms[e]})),this.connOpen)){var a={"@type":"LEAVE",Room:{Type:e,RoomTypeObject:t}};this.ws.send(JSON.stringify(a))}}},{key:"handleMessageReceived",value:function(e){var t=JSON.parse(e.data);if("ROOM_UPDATE"===t["@type"]){var r=this.getIdentifier(t.Room.Type,t.Room.RoomTypeObject);this.subscriptions[r]&&(this.rooms[t.Room.Uuid]||(this.rooms[t.Room.Uuid]=r),this.onRoomMessage(t),this.subscriptions[r].map((function(e){if(e.roomUpdateHandler)try{e.roomUpdateHandler(t)}catch(e){}})))}else{var n,o=!1;if("DELETE_MSG"===t["@type"]?(o=!0,n=t.Message):n=t,n.RoomUuid&&this.rooms[n.RoomUuid]){var i=this.subscriptions[this.rooms[n.RoomUuid]],a=i.filter((function(e){return e.roomUpdateHandler}));a.length&&(i=a),i.map((function(e){try{e.messageHandler(n,o)}catch(e){}}))}}}},{key:"send",value:function(e){this.ws.send(e)}},{key:"open",value:function(){var e=this;if(this.close(),this.currentRepo){var t=this.pydio.Parameters.get("ENDPOINT_WEBSOCKET").replace("/event","/chat");t&&"/"===t[0]&&(t=t.substr(1));var r=this.pydio.getFrontendUrl(),n="https:"===r.protocol?"wss":"ws",o="".concat(n,"://").concat(r.host,"/")+t;this.ws=new(kb())(o,[],{maxReconnectionDelay:6e4,reconnectionDelayGrowFactor:1.6,maxRetries:10}),this.connecting=!0,this.ws.addEventListener("open",(function(){Ob().subscribeJWT(e.ws).then((function(){e.connecting=!1,e.connOpen=!0})).catch((function(){e.connecting=!1,e.connOpen=!1}))})),this.ws.addEventListener("message",(function(t){e.handleMessageReceived(t)})),this.ws.addEventListener("close",(function(t){e.connOpen=!1,e.connecting=!1,Ob().logClose(t)})),this.ws.addEventListener("error",(function(e){"EHOSTDOWN"===e.code&&console.error("WebSocket maxRetries reached, host is down!")})),this.hbInterval=setInterval((function(){return e.heartbeat()}),15e3),window.onbeforeunload=function(){e.close()}}}},{key:"close",value:function(){var e=this;null!==this.ws&&(Object.keys(this.subscriptions).map((function(t){var r=e.getRoomInfoFromIdentifier(t),n=r.roomType,o=r.objectId;e.leaveRoom(n,o)})),this.ws.close(1e3,"Closing",{keepClosed:!0}),this.hbInterval&&clearInterval(this.hbInterval))}},{key:"heartbeat",value:function(){var e=this;Object.keys(this.subscriptions).map((function(t){var r=e.getRoomInfoFromIdentifier(t),n={"@type":"JOIN",Room:{Type:r.roomType,RoomTypeObject:r.objectId},Message:{Message:"PING"}};try{e.ws.send(JSON.stringify(n))}catch(e){}}))}}],n=[{key:"getInstance",value:function(e){return void 0!==c._instance||(c._instance=new c(e)),c._instance}}],r&&jb(t.prototype,r),n&&jb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(Ob());const Lb=require("pydio/util/dom");var Mb=__webpack_require__.n(Lb);const Ab=require("react-markdown");var Db=__webpack_require__.n(Ab);function Nb(e){return Nb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nb(e)}function Ub(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ub(Object(r),!0).forEach((function(t){zb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ub(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zb(e,t,r){return(t=qb(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qb(n.key),n)}}function qb(e){var t=function(e,t){if("object"!==Nb(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Nb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Nb(t)?t:String(t)}function Wb(e,t){return Wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Wb(e,t)}function Zb(e){return Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zb(e)}var Gb=z().requireLib("boot"),Hb=Gb.PydioContextConsumer,Vb=Gb.moment,Jb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wb(e,t)}(c,e);var r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Zb(o);if(i){var r=Zb(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Nb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).state={hover:!1},t}return r=c,n=[{key:"render",value:function(){var e=this,r=this.props,n=r.message,o=r.pydio,i=r.hideDate,a=r.sameAuthor,c=r.onDeleteMessage,s=r.moreLoader,u=Vb(1e3*parseFloat(n.Timestamp)),l={date:{opacity:.53,textAlign:"center",display:"flex",margin:"5px 0"},dateLine:{flex:1,margin:"10px 20px",borderBottom:"1px solid",opacity:.3},loader:{paddingTop:8,opacity:.8,textAlign:"center"},comment:{padding:"6px 16px",display:"flex",alignItems:"flex-start"},commentContent:{flex:"1",backgroundColor:"transparent",position:"relative",padding:"5px 10px",userSelect:"text",webkitUserSelect:"text"},commentTitle:{fontSize:15,fontWeight:500,padding:"2px 0px 6px"},commentDeleteBox:{position:"absolute",top:5,right:0,cursor:"pointer",fontSize:16,opacity:0,transition:Mb().getBeziersTransition()}},f=!1;o.user.id===n.Author&&(f=!0);var p,d=t().createElement("div",{style:a?{visibility:"hidden"}:{paddingTop:2}},t().createElement(Hf,{avatarSize:30,pydio:o,userId:n.Author,displayLabel:!1,richOnHover:!1,avatarLetters:!0})),h=Bb({},l.commentContent);f&&(this.state.hover&&(l.commentDeleteBox.opacity=1),p=t().createElement("span",{onClick:c,className:"mdi mdi-close",style:l.commentDeleteBox,title:o.MessageHash[7]}));var y=t().createElement("div",{style:h},p," ",t().createElement(Db(),{className:"chat-message-md",source:n.Message}));a||(y=t().createElement("div",{style:h},t().createElement("div",null,t().createElement(Hf,{labelStyle:l.commentTitle,pydio:o,displayLabel:!0,displayAvatar:!1,userId:n.Author})),t().createElement("div",null,p,t().createElement(Db(),{className:"chat-message-md",source:n.Message}))));var m={},b=Bb({},l.comment);return a&&(m=Bb(Bb({},m),{},{marginTop:-16})),this.state.hover&&(b=Bb(Bb({},b),{},{backgroundColor:"rgba(0,0,0,.01)"})),t().createElement("div",{style:m,onMouseOver:function(){e.setState({hover:!0})},onMouseOut:function(){e.setState({hover:!1})},onContextMenu:function(e){e.stopPropagation()}},s&&t().createElement("div",{style:l.loader},t().createElement(v.FlatButton,{primary:!0,label:z().getMessages()["chat.load-older"],onClick:s})),!i&&t().createElement("div",{style:l.date},t().createElement("span",{style:l.dateLine}),t().createElement("span",{className:"date-from"},u.fromNow()),t().createElement("span",{style:l.dateLine})),t().createElement("div",{style:b},d," ",y))}}],n&&Fb(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(t().Component);function Kb(e){return Kb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kb(e)}function $b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$b(Object(r),!0).forEach((function(t){Xb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xb(e,t,r){return(t=eg(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eg(n.key),n)}}function eg(e){var t=function(e,t){if("object"!==Kb(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Kb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Kb(t)?t:String(t)}function tg(e,t){return tg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tg(e,t)}function rg(e){return rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rg(e)}Jb.PropTypes={message:U().object,hideDate:U().bool,sameAuthor:U().bool},Jb=Hb(Jb);var ng=function(r){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tg(e,t)}(s,r);var n,o,i,a,c=(i=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=rg(i);if(a){var r=rg(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Kb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=c.call(this,t)).container=(0,e.createRef)(),r}return n=s,o=[{key:"render",value:function(){var e=this,r=this.props,n=r.ACLs,o=r.roomUsers,i=r.pydio,a=r.style,c=r.muiTheme,s=(this.state||{}).hover,u=void 0!==s&&s,l={container:Yb({padding:16,fontWeight:500,height:48,transition:Mb().getBeziersTransition(),overflowY:"auto"},a),user:{margin:5,whiteSpace:"nowrap",padding:"4px 10px",backgroundColor:c.darkMode?"rgba(255, 255, 255, .23)":"rgba(0, 0, 0, .1)",borderRadius:6},online:{color:"#4CAF50",marginLeft:5},offline:{marginLeft:5}},f=Object.keys(n).map((function(e){var t,r=n[e],a=ul().extractLabel(i,r);return r.User&&(t=o&&o.indexOf(r.User.Login)>-1),{online:t,label:a}}));f.sort((function(e,t){return e.online?-1:t.online?1:0}));var p=Yb({},l.container);return this.container.current&&(u?p=Yb(Yb({},p),{},{height:this.container.current.scrollHeight}):this.container.current.scrollHeight>60&&(p=Yb(Yb({},p),{},{height:56}))),t().createElement("div",{ref:this.container,onMouseEnter:function(){return e.setState({hover:!0})},onMouseLeave:function(){return e.setState({hover:!1})},style:p},f.map((function(e){var r=e.label,n=e.online;return t().createElement("span",{style:l.user},r,void 0!==n&&t().createElement("span",{className:"mdi mdi-checkbox-blank-circle"+(n?"":"-outline"),style:n?l.online:l.offline}),void 0===n&&t().createElement("span",{className:"mdi mdi-account-multiple-outline",style:l.offline}))})))}}],o&&Qb(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),s}(t().Component),og={prefix:"fas",iconName:"chevron-down",icon:[448,512,[],"f078","M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"]},ig={prefix:"fas",iconName:"desktop",icon:[576,512,[],"f108","M528 0H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h192l-16 48h-72c-13.3 0-24 10.7-24 24s10.7 24 24 24h272c13.3 0 24-10.7 24-24s-10.7-24-24-24h-72l-16-48h192c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zm-16 352H64V64h448v288z"]},ag={prefix:"fas",iconName:"microphone",icon:[352,512,[],"f130","M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"]},cg={prefix:"fas",iconName:"microphone-slash",icon:[640,512,[],"f131","M633.82 458.1l-157.8-121.96C488.61 312.13 496 285.01 496 256v-48c0-8.84-7.16-16-16-16h-16c-8.84 0-16 7.16-16 16v48c0 17.92-3.96 34.8-10.72 50.2l-26.55-20.52c3.1-9.4 5.28-19.22 5.28-29.67V96c0-53.02-42.98-96-96-96s-96 42.98-96 96v45.36L45.47 3.37C38.49-2.05 28.43-.8 23.01 6.18L3.37 31.45C-2.05 38.42-.8 48.47 6.18 53.9l588.36 454.73c6.98 5.43 17.03 4.17 22.46-2.81l19.64-25.27c5.41-6.97 4.16-17.02-2.82-22.45zM400 464h-56v-33.77c11.66-1.6 22.85-4.54 33.67-8.31l-50.11-38.73c-6.71.4-13.41.87-20.35.2-55.85-5.45-98.74-48.63-111.18-101.85L144 241.31v6.85c0 89.64 63.97 169.55 152 181.69V464h-56c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16z"]},sg={prefix:"fas",iconName:"stop",icon:[448,512,[],"f04d","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"]},ug={prefix:"fas",iconName:"video",icon:[576,512,[],"f03d","M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"]},lg={prefix:"fas",iconName:"video-slash",icon:[640,512,[],"f4e2","M633.8 458.1l-55-42.5c15.4-1.4 29.2-13.7 29.2-31.1v-257c0-25.5-29.1-40.4-50.4-25.8L448 177.3v137.2l-32-24.7v-178c0-26.4-21.4-47.8-47.8-47.8H123.9L45.5 3.4C38.5-2 28.5-.8 23 6.2L3.4 31.4c-5.4 7-4.2 17 2.8 22.4L42.7 82 416 370.6l178.5 138c7 5.4 17 4.2 22.5-2.8l19.6-25.3c5.5-6.9 4.2-17-2.8-22.4zM32 400.2c0 26.4 21.4 47.8 47.8 47.8h288.4c11.2 0 21.4-4 29.6-10.5L32 154.7v245.5z"]};function fg(e){return fg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fg(e)}function pg(e){return pg="function"==typeof Symbol&&"symbol"===fg(Symbol.iterator)?function(e){return fg(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":fg(e)},pg(e)}function dg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function hg(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){hg(e,t,r[t])}))}return e}function mg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var vg=function(){},bg={},gg={},wg={mark:vg,measure:vg};try{"undefined"!=typeof window&&(bg=window),"undefined"!=typeof document&&(gg=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&(wg=performance)}catch(e){}var Sg=(bg.navigator||{}).userAgent,Og=void 0===Sg?"":Sg,Pg=bg,kg=gg,_g=wg,Eg=(Pg.document,!!kg.documentElement&&!!kg.head&&"function"==typeof kg.addEventListener&&"function"==typeof kg.createElement),jg=(~Og.indexOf("MSIE")||Og.indexOf("Trident/"),"___FONT_AWESOME___"),xg="fa",Cg="svg-inline--fa",Tg="data-fa-i2svg",Rg=[1,2,3,4,5,6,7,8,9,10],Ig=Rg.concat([11,12,13,14,15,16,17,18,19,20]),Lg={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Mg=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",Lg.GROUP,Lg.SWAP_OPACITY,Lg.PRIMARY,Lg.SECONDARY].concat(Rg.map((function(e){return"".concat(e,"x")}))).concat(Ig.map((function(e){return"w-".concat(e)}))),Pg.FontAwesomeConfig||{});kg&&"function"==typeof kg.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=mg(e,2),r=t[0],n=t[1],o=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=kg.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(r));null!=o&&(Mg[n]=o)}));var Ag=yg({},{familyPrefix:xg,replacementClass:Cg,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},Mg);Ag.autoReplaceSvg||(Ag.observeMutations=!1);var Dg=yg({},Ag);Pg.FontAwesomeConfig=Dg;var Ng=Pg||{};Ng[jg]||(Ng[jg]={}),Ng[jg].styles||(Ng[jg].styles={}),Ng[jg].hooks||(Ng[jg].hooks={}),Ng[jg].shims||(Ng[jg].shims=[]);var Ug=Ng[jg],Bg=[];Eg&&((kg.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(kg.readyState)||kg.addEventListener("DOMContentLoaded",(function e(){kg.removeEventListener("DOMContentLoaded",e),Bg.map((function(e){return e()}))})));var zg,Fg="pending",qg="settled",Wg="fulfilled",Zg="rejected",Gg=function(){},Hg=void 0!==__webpack_require__.g&&void 0!==__webpack_require__.g.process&&"function"==typeof __webpack_require__.g.process.emit,Vg="undefined"==typeof setImmediate?setTimeout:setImmediate,Jg=[];function Kg(){for(var e=0;e<Jg.length;e++)Jg[e][0](Jg[e][1]);Jg=[],zg=!1}function $g(e,t){Jg.push([e,t]),zg||(zg=!0,Vg(Kg,0))}function Yg(e){var t=e.owner,r=t._state,n=t._data,o=e[r],i=e.then;if("function"==typeof o){r=Wg;try{n=o(n)}catch(e){tw(i,e)}}Xg(i,n)||(r===Wg&&Qg(i,n),r===Zg&&tw(i,n))}function Xg(e,t){var r;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"==typeof t||"object"===pg(t))){var n=t.then;if("function"==typeof n)return n.call(t,(function(n){r||(r=!0,t===n?ew(e,n):Qg(e,n))}),(function(t){r||(r=!0,tw(e,t))})),!0}}catch(t){return r||tw(e,t),!0}return!1}function Qg(e,t){e!==t&&Xg(e,t)||ew(e,t)}function ew(e,t){e._state===Fg&&(e._state=qg,e._data=t,$g(nw,e))}function tw(e,t){e._state===Fg&&(e._state=qg,e._data=t,$g(ow,e))}function rw(e){e._then=e._then.forEach(Yg)}function nw(e){e._state=Wg,rw(e)}function ow(e){e._state=Zg,rw(e),!e._handled&&Hg&&__webpack_require__.g.process.emit("unhandledRejection",e._data,e)}function iw(e){__webpack_require__.g.process.emit("rejectionHandled",e)}function aw(e){if("function"!=typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof aw==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(e,t){function r(e){tw(t,e)}try{e((function(e){Qg(t,e)}),r)}catch(e){r(e)}}(e,this)}aw.prototype={constructor:aw,_state:Fg,_then:null,_data:void 0,_handled:!1,then:function(e,t){var r={owner:this,then:new this.constructor(Gg),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,this._state===Zg&&Hg&&$g(iw,this)),this._state===Wg||this._state===Zg?$g(Yg,r):this._then.push(r),r.then},catch:function(e){return this.then(null,e)}},aw.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new aw((function(t,r){var n=[],o=0;function i(e){return o++,function(r){n[e]=r,--o||t(n)}}for(var a,c=0;c<e.length;c++)(a=e[c])&&"function"==typeof a.then?a.then(i(c),r):n[c]=a;o||t(n)}))},aw.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new aw((function(t,r){for(var n,o=0;o<e.length;o++)(n=e[o])&&"function"==typeof n.then?n.then(t,r):t(n)}))},aw.resolve=function(e){return e&&"object"===pg(e)&&e.constructor===aw?e:new aw((function(t){t(e)}))},aw.reject=function(e){return new aw((function(t,r){r(e)}))};var cw={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};var sw="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function uw(){for(var e=12,t="";e-- >0;)t+=sw[62*Math.random()|0];return t}function lw(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function fw(e){return Object.keys(e||{}).reduce((function(t,r){return t+"".concat(r,": ").concat(e[r],";")}),"")}function pw(e){return e.size!==cw.size||e.x!==cw.x||e.y!==cw.y||e.rotate!==cw.rotate||e.flipX||e.flipY}function dw(e){var t=e.transform,r=e.containerWidth,n=e.iconWidth,o={transform:"translate(".concat(r/2," 256)")},i="translate(".concat(32*t.x,", ").concat(32*t.y,") "),a="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),c="rotate(".concat(t.rotate," 0 0)");return{outer:o,inner:{transform:"".concat(i," ").concat(a," ").concat(c)},path:{transform:"translate(".concat(n/2*-1," -256)")}}}var hw={x:0,y:0,width:"100%",height:"100%"};function yw(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var mw=(Dg.measurePerformance&&_g&&_g.mark&&_g.measure,function(e,t,r,n){var o,i,a,c=Object.keys(e),s=c.length,u=void 0!==n?function(e,t){return function(r,n,o,i){return e.call(t,r,n,o,i)}}(t,n):t;for(void 0===r?(o=1,a=e[c[0]]):(o=0,a=r);o<s;o++)a=u(a,e[i=c[o]],i,e);return a});function vw(e,t){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,n=void 0!==r&&r,o=Object.keys(t).reduce((function(e,r){var n=t[r];return n.icon?e[n.iconName]=n.icon:e[r]=n,e}),{});"function"!=typeof Ug.hooks.addPack||n?Ug.styles[e]=yg({},Ug.styles[e]||{},o):Ug.hooks.addPack(e,o),"fas"===e&&vw("fa",t)}var bw=Ug.styles,gw=Ug.shims,ww=function(){var e=function(e){return mw(bw,(function(t,r,n){return t[n]=mw(r,e,{}),t}),{})};e((function(e,t,r){return t[3]&&(e[t[3]]=r),e})),e((function(e,t,r){var n=t[2];return e[r]=r,n.forEach((function(t){e[t]=r})),e}));var t="far"in bw;mw(gw,(function(e,r){var n=r[0],o=r[1],i=r[2];return"far"!==o||t||(o="fas"),e[n]={prefix:o,iconName:i},e}),{})};function Sw(e,t,r){if(e&&e[t]&&e[t][r])return{prefix:t,iconName:r,icon:e[t][r]}}function Ow(e){var t=e.tag,r=e.attributes,n=void 0===r?{}:r,o=e.children,i=void 0===o?[]:o;return"string"==typeof e?lw(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,r){return t+"".concat(r,'="').concat(lw(e[r]),'" ')}),"").trim()}(n),">").concat(i.map(Ow).join(""),"</").concat(t,">")}ww(),Ug.styles;function Pw(e){this.name="MissingIcon",this.message=e||"Icon unavailable",this.stack=(new Error).stack}Pw.prototype=Object.create(Error.prototype),Pw.prototype.constructor=Pw;var kw={fill:"currentColor"},_w={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},Ew=(yg({},kw,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),yg({},_w,{attributeName:"opacity"}));function jw(e){var t=e[0],r=e[1],n=mg(e.slice(4),1)[0];return{found:!0,width:t,height:r,icon:Array.isArray(n)?{tag:"g",attributes:{class:"".concat(Dg.familyPrefix,"-").concat(Lg.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Dg.familyPrefix,"-").concat(Lg.SECONDARY),fill:"currentColor",d:n[0]}},{tag:"path",attributes:{class:"".concat(Dg.familyPrefix,"-").concat(Lg.PRIMARY),fill:"currentColor",d:n[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:n}}}}yg({},kw,{cx:"256",cy:"364",r:"28"}),yg({},_w,{attributeName:"r",values:"28;14;28;28;14;28;"}),yg({},Ew,{values:"1;0;1;1;0;1;"}),yg({},kw,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),yg({},Ew,{values:"1;0;0;0;0;1;"}),yg({},kw,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),yg({},Ew,{values:"0;0;1;1;0;0;"}),Ug.styles,Ug.styles;var xw='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';var Cw=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,r;return t=e,r=[{key:"add",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var o=r.reduce(this._pullDefinitions,{});Object.keys(o).forEach((function(t){e.definitions[t]=yg({},e.definitions[t]||{},o[t]),vw(t,o[t]),ww()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var r=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(r).map((function(t){var n=r[t],o=n.prefix,i=n.iconName,a=n.icon;e[o]||(e[o]={}),e[o][i]=a})),e}}],r&&dg(t.prototype,r),e}();function Tw(){Dg.autoAddCss&&!Mw&&(function(e){if(e&&Eg){var t=kg.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var r=kg.head.childNodes,n=null,o=r.length-1;o>-1;o--){var i=r[o],a=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(n=i)}kg.head.insertBefore(t,n)}}(function(){var e=xg,t=Cg,r=Dg.familyPrefix,n=Dg.replacementClass,o=xw;if(r!==e||n!==t){var i=new RegExp("\\.".concat(e,"\\-"),"g"),a=new RegExp("\\--".concat(e,"\\-"),"g"),c=new RegExp("\\.".concat(t),"g");o=o.replace(i,".".concat(r,"-")).replace(a,"--".concat(r,"-")).replace(c,".".concat(n))}return o}()),Mw=!0)}function Rw(e){var t=e.prefix,r=void 0===t?"fa":t,n=e.iconName;if(n)return Sw(Lw.definitions,r,n)||Sw(Ug.styles,r,n)}var Iw,Lw=new Cw,Mw=!1,Aw={transform:function(e){return function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce((function(e,t){var r=t.toLowerCase().split("-"),n=r[0],o=r.slice(1).join("-");if(n&&"h"===o)return e.flipX=!0,e;if(n&&"v"===o)return e.flipY=!0,e;if(o=parseFloat(o),isNaN(o))return e;switch(n){case"grow":e.size=e.size+o;break;case"shrink":e.size=e.size-o;break;case"left":e.x=e.x-o;break;case"right":e.x=e.x+o;break;case"up":e.y=e.y-o;break;case"down":e.y=e.y+o;break;case"rotate":e.rotate=e.rotate+o}return e}),t):t}(e)}},Dw=(Iw=function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.transform,i=void 0===o?cw:o,a=n.symbol,c=void 0!==a&&a,s=n.mask,u=void 0===s?null:s,l=n.maskId,f=void 0===l?null:l,p=n.title,d=void 0===p?null:p,h=n.titleId,y=void 0===h?null:h,m=n.classes,v=void 0===m?[]:m,b=n.attributes,g=void 0===b?{}:b,w=n.styles,S=void 0===w?{}:w;if(e){var O=e.prefix,P=e.iconName,k=e.icon;return t=yg({type:"icon"},e),r=function(){return Tw(),Dg.autoA11y&&(d?g["aria-labelledby"]="".concat(Dg.replacementClass,"-title-").concat(y||uw()):(g["aria-hidden"]="true",g.focusable="false")),function(e){var t=e.icons,r=t.main,n=t.mask,o=e.prefix,i=e.iconName,a=e.transform,c=e.symbol,s=e.title,u=e.maskId,l=e.titleId,f=e.extra,p=e.watchable,d=void 0!==p&&p,h=n.found?n:r,y=h.width,m=h.height,v="fak"===o,b=v?"":"fa-w-".concat(Math.ceil(y/m*16)),g=[Dg.replacementClass,i?"".concat(Dg.familyPrefix,"-").concat(i):"",b].filter((function(e){return-1===f.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(f.classes).join(" "),w={children:[],attributes:yg({},f.attributes,{"data-prefix":o,"data-icon":i,class:g,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(y," ").concat(m)})},S=v&&!~f.classes.indexOf("fa-fw")?{width:"".concat(y/m*16*.0625,"em")}:{};d&&(w.attributes[Tg]=""),s&&w.children.push({tag:"title",attributes:{id:w.attributes["aria-labelledby"]||"title-".concat(l||uw())},children:[s]});var O=yg({},w,{prefix:o,iconName:i,main:r,mask:n,maskId:u,transform:a,symbol:c,styles:yg({},S,f.styles)}),P=n.found&&r.found?function(e){var t,r=e.children,n=e.attributes,o=e.main,i=e.mask,a=e.maskId,c=e.transform,s=o.width,u=o.icon,l=i.width,f=i.icon,p=dw({transform:c,containerWidth:l,iconWidth:s}),d={tag:"rect",attributes:yg({},hw,{fill:"white"})},h=u.children?{children:u.children.map(yw)}:{},y={tag:"g",attributes:yg({},p.inner),children:[yw(yg({tag:u.tag,attributes:yg({},u.attributes,p.path)},h))]},m={tag:"g",attributes:yg({},p.outer),children:[y]},v="mask-".concat(a||uw()),b="clip-".concat(a||uw()),g={tag:"mask",attributes:yg({},hw,{id:v,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[d,m]},w={tag:"defs",children:[{tag:"clipPath",attributes:{id:b},children:(t=f,"g"===t.tag?t.children:[t])},g]};return r.push(w,{tag:"rect",attributes:yg({fill:"currentColor","clip-path":"url(#".concat(b,")"),mask:"url(#".concat(v,")")},hw)}),{children:r,attributes:n}}(O):function(e){var t=e.children,r=e.attributes,n=e.main,o=e.transform,i=fw(e.styles);if(i.length>0&&(r.style=i),pw(o)){var a=dw({transform:o,containerWidth:n.width,iconWidth:n.width});t.push({tag:"g",attributes:yg({},a.outer),children:[{tag:"g",attributes:yg({},a.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:yg({},n.icon.attributes,a.path)}]}]})}else t.push(n.icon);return{children:t,attributes:r}}(O),k=P.children,_=P.attributes;return O.children=k,O.attributes=_,c?function(e){var t=e.prefix,r=e.iconName,n=e.children,o=e.attributes,i=e.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:yg({},o,{id:!0===i?"".concat(t,"-").concat(Dg.familyPrefix,"-").concat(r):i}),children:n}]}]}(O):function(e){var t=e.children,r=e.main,n=e.mask,o=e.attributes,i=e.styles,a=e.transform;if(pw(a)&&r.found&&!n.found){var c={x:r.width/r.height/2,y:.5};o.style=fw(yg({},i,{"transform-origin":"".concat(c.x+a.x/16,"em ").concat(c.y+a.y/16,"em")}))}return[{tag:"svg",attributes:o,children:t}]}(O)}({icons:{main:jw(k),mask:u?jw(u.icon):{found:!1,width:null,height:null,icon:{}}},prefix:O,iconName:P,transform:yg({},cw,i),symbol:c,title:d,maskId:f,titleId:y,extra:{attributes:g,styles:S,classes:v}})},Object.defineProperty(t,"abstract",{get:r}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map((function(e){return Ow(e)}))}}),Object.defineProperty(t,"node",{get:function(){if(Eg){var e=kg.createElement("div");return e.innerHTML=t.html,e.children}}}),t}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:Rw(e||{}),n=t.mask;return n&&(n=(n||{}).icon?n:Rw(n||{})),Iw(r,yg({},t,{mask:n}))});function Nw(e){return Nw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nw(e)}function Uw(e){return Uw="function"==typeof Symbol&&"symbol"===Nw(Symbol.iterator)?function(e){return Nw(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Nw(e)},Uw(e)}function Bw(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zw(Object(r),!0).forEach((function(t){Bw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qw(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Ww(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Zw(e){return function(e){return(e-=0)==e}(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1)}var Gw=!1;try{Gw=!0}catch(e){}function Hw(e){return Aw.icon?Aw.icon(e):null===e?null:"object"===Uw(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"==typeof e?{prefix:"fas",iconName:e}:void 0}function Vw(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Bw({},e,t):{}}function Jw(e){var t=e.forwardedRef,r=qw(e,["forwardedRef"]),n=r.icon,o=r.mask,i=r.symbol,a=r.className,c=r.title,s=r.titleId,u=Hw(n),l=Vw("classes",[].concat(Ww(function(e){var t,r=e.spin,n=e.pulse,o=e.fixedWidth,i=e.inverse,a=e.border,c=e.listItem,s=e.flip,u=e.size,l=e.rotation,f=e.pull,p=(Bw(t={"fa-spin":r,"fa-pulse":n,"fa-fw":o,"fa-inverse":i,"fa-border":a,"fa-li":c,"fa-flip-horizontal":"horizontal"===s||"both"===s,"fa-flip-vertical":"vertical"===s||"both"===s},"fa-".concat(u),null!=u),Bw(t,"fa-rotate-".concat(l),null!=l&&0!==l),Bw(t,"fa-pull-".concat(f),null!=f),Bw(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(p).map((function(e){return p[e]?e:null})).filter((function(e){return e}))}(r)),Ww(a.split(" ")))),f=Vw("transform","string"==typeof r.transform?Aw.transform(r.transform):r.transform),p=Vw("mask",Hw(o)),d=Dw(u,Fw({},l,{},f,{},p,{symbol:i,title:c,titleId:s}));if(!d)return function(){var e;!Gw&&console&&"function"==typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",u),null;var h=d.abstract,y={ref:t};return Object.keys(r).forEach((function(e){Jw.defaultProps.hasOwnProperty(e)||(y[e]=r[e])})),Kw(h[0],y)}Jw.displayName="FontAwesomeIcon",Jw.propTypes={border:U().bool,className:U().string,mask:U().oneOfType([U().object,U().array,U().string]),fixedWidth:U().bool,inverse:U().bool,flip:U().oneOf(["horizontal","vertical","both"]),icon:U().oneOfType([U().object,U().array,U().string]),listItem:U().bool,pull:U().oneOf(["right","left"]),pulse:U().bool,rotation:U().oneOf([0,90,180,270]),size:U().oneOf(["lg","xs","sm","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:U().bool,symbol:U().oneOfType([U().bool,U().string]),title:U().string,transform:U().oneOfType([U().string,U().object]),swapOpacity:U().bool},Jw.defaultProps={border:!1,className:"",mask:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,symbol:!1,title:"",transform:null,swapOpacity:!1};var Kw=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof r)return r;var o=(r.children||[]).map((function(r){return e(t,r)})),i=Object.keys(r.attributes||{}).reduce((function(e,t){var n=r.attributes[t];switch(t){case"class":e.attrs.className=n,delete r.attributes.class;break;case"style":e.attrs.style=n.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var r,n=t.indexOf(":"),o=Zw(t.slice(0,n)),i=t.slice(n+1).trim();return o.startsWith("webkit")?e[(r=o,r.charAt(0).toUpperCase()+r.slice(1))]=i:e[o]=i,e}),{});break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=n:e.attrs[Zw(t)]=n}return e}),{attrs:{}}),a=n.style,c=void 0===a?{}:a,s=qw(n,["style"]);return i.attrs.style=Fw({},i.attrs.style,{},c),t.apply(void 0,[r.tag,Fw({},i.attrs,{},s)].concat(Ww(o)))}.bind(null,t().createElement),$w=__webpack_require__(87001),Yw=__webpack_require__(9516),Xw=__webpack_require__(71970),Qw=__webpack_require__(94600);function eS(){return eS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eS.apply(this,arguments)}var tS=new Map,rS=new WeakMap,nS=0;function oS(e,t,r){if(void 0===r&&(r={}),!e)return function(){};var n=function(e){var t=function(e){return Object.keys(e).sort().filter((function(t){return void 0!==e[t]})).map((function(t){return t+"_"+("root"===t?(r=e.root)?(rS.has(r)||(nS+=1,rS.set(r,nS.toString())),rS.get(r)):"0":e[t]);var r})).toString()}(e),r=tS.get(t);if(!r){var n,o=new Map,i=new IntersectionObserver((function(t){t.forEach((function(t){var r,i=t.isIntersecting&&n.some((function(e){return t.intersectionRatio>=e}));e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=i),null==(r=o.get(t.target))||r.forEach((function(e){e(i,t)}))}))}),e);n=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:t,observer:i,elements:o},tS.set(t,r)}return r}(r),o=n.id,i=n.observer,a=n.elements,c=a.get(e)||[];return a.has(e)||a.set(e,c),c.push(t),i.observe(e),function(){c.splice(c.indexOf(t),1),0===c.length&&(a.delete(e),i.unobserve(e)),0===a.size&&(i.disconnect(),tS.delete(o))}}function iS(e){return"function"!=typeof e.children}var aS=function(t){var r,n;function o(e){var r;return(r=t.call(this,e)||this).node=null,r._unobserveCb=null,r.handleNode=function(e){r.node&&(r.unobserve(),e||r.props.triggerOnce||r.props.skip||r.setState({inView:!!r.props.initialInView,entry:void 0})),r.node=e||null,r.observeNode()},r.handleChange=function(e,t){e&&r.props.triggerOnce&&r.unobserve(),iS(r.props)||r.setState({inView:e,entry:t}),r.props.onChange&&r.props.onChange(e,t)},r.state={inView:!!e.initialInView,entry:void 0},r}n=t,(r=o).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var i=o.prototype;return i.componentDidUpdate=function(e){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold&&e.skip===this.props.skip&&e.trackVisibility===this.props.trackVisibility&&e.delay===this.props.delay||(this.unobserve(),this.observeNode())},i.componentWillUnmount=function(){this.unobserve(),this.node=null},i.observeNode=function(){if(this.node&&!this.props.skip){var e=this.props,t=e.threshold,r=e.root,n=e.rootMargin,o=e.trackVisibility,i=e.delay;this._unobserveCb=oS(this.node,this.handleChange,{threshold:t,root:r,rootMargin:n,trackVisibility:o,delay:i})}},i.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},i.render=function(){if(!iS(this.props)){var t=this.state,r=t.inView,n=t.entry;return this.props.children({inView:r,entry:n,ref:this.handleNode})}var o=this.props,i=o.children,a=o.as,c=o.tag,s=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(o,["children","as","tag","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView"]);return(0,e.createElement)(a||c||"div",eS({ref:this.handleNode},s),i)},o}(e.Component);aS.displayName="InView",aS.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};var cS=__webpack_require__(6860),sS=function(t){var r=t.track,n=t.isLocal,o=(0,e.useRef)();return(0,e.useEffect)((function(){if(!n)return o.current=r.attach(),r.sid&&o.current.setAttribute("data-audio-track-id",r.sid),function(){return r.detach().forEach((function(e){return e.remove()}))}}),[r,n]),null},uS={video:"_2WNzJ",participant:"_34YL4",placeholder:"_30KSQ",participantBar:"_2LCHl",screenShare:"_1FIqv",iconRed:"_3LzZj",controlsWrapper:"_2kKks",buttonWrapper:"_3w3nM",button:"_hRq5k",icon:"_1Nxni",dangerButton:"_Rt0RH",dropdown:"_3Lz0y",hasDropdown:"_3Bgvz",separator:"_1VLMM",popoverMenu:"_3XXS4",list:"_dKNN7"},lS=function(r){var n=r.label,o=r.disabled,i=r.onClick,a=r.icon,c=r.className,s=r.menuItems,u=r.onMenuItemClick,l=(0,e.useState)(!1),f=l[0],p=l[1],d=uS.button;c&&(d+=" "+c);var h,y=t().createElement("div",null);return s&&s.length>0&&(d+=" "+uS.hasDropdown,h=t().createElement("button",{disabled:o,className:uS.button+" "+uS.dropdown,onClick:function(){return p(!f)}},t().createElement("div",{className:uS.separator}),t().createElement(Jw,{height:32,icon:og})),y=t().createElement("div",{className:uS.popoverMenu},t().createElement("ul",{className:uS.list},null==s?void 0:s.map((function(e,r){return t().createElement("li",{key:r,onClick:function(){return function(e){u&&u(e),p(!1)}(e)}},e.label)}))))),t().createElement($w.Popover,{isOpen:f,positions:["top"],content:y},t().createElement("div",{className:uS.buttonWrapper},t().createElement("button",{disabled:o,className:d,onClick:i},a&&t().createElement(Jw,{className:uS.icon,height:32,icon:a}),n),h))};function fS(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}function pS(t){var r,n=(0,e.useState)(!1),o=n[0],i=n[1],a=(0,e.useState)(!1),c=a[0],s=a[1],u=(0,e.useState)(),l=u[0],f=u[1],p=(0,e.useState)([]),d=p[0],h=p[1],y=(0,e.useState)([]),m=y[0],v=y[1],b=function(){h(Array.from(t.tracks.values())),v(Array.from(t.tracks.values()).filter((function(e){return void 0!==e.track})))};return(0,e.useEffect)((function(){var e=function(e){e.kind===Yw.Track.Kind.Audio&&i(!0)},r=function(e){e.kind===Yw.Track.Kind.Audio&&i(!1)},n=function(){t.metadata&&f(t.metadata)},o=function(){s(t.isSpeaking)};return t.on(Yw.ParticipantEvent.TrackMuted,e),t.on(Yw.ParticipantEvent.TrackUnmuted,r),t.on(Yw.ParticipantEvent.MetadataChanged,n),t.on(Yw.ParticipantEvent.IsSpeakingChanged,o),t.on(Yw.ParticipantEvent.TrackPublished,b),t.on(Yw.ParticipantEvent.TrackUnpublished,b),t.on(Yw.ParticipantEvent.TrackSubscribed,b),t.on(Yw.ParticipantEvent.TrackUnsubscribed,b),t.on("localtrackchanged",b),n(),o(),b(),function(){t.off(Yw.ParticipantEvent.TrackMuted,e),t.off(Yw.ParticipantEvent.TrackUnmuted,r),t.off(Yw.ParticipantEvent.MetadataChanged,n),t.off(Yw.ParticipantEvent.IsSpeakingChanged,o),t.off(Yw.ParticipantEvent.TrackPublished,b),t.off(Yw.ParticipantEvent.TrackUnpublished,b),t.off(Yw.ParticipantEvent.TrackSubscribed,b),t.off(Yw.ParticipantEvent.TrackUnsubscribed,b),t.off("localtrackchanged",b)}}),[t]),t.audioTracks.forEach((function(e){r=e.isMuted})),void 0===r&&(r=!0),o!==r&&i(r),{isLocal:t instanceof Yw.LocalParticipant,isSpeaking:c,isMuted:o,publications:d,subscribedTracks:m,metadata:l,unpublishTrack:function(e){try{if(!(t instanceof Yw.LocalParticipant))throw new Error("could not unpublish, not a local participant");return t.unpublishTrack(e),t.emit("localtrackchanged"),Promise.resolve()}catch(e){return Promise.reject(e)}}}}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var dS=function(e){var r,n,o,i=e.room,a=e.enableScreenShare,c=e.enableAudio,s=e.enableVideo,u=e.onLeave,l=pS(i.localParticipant),f=l.publications,p=l.isMuted,d=l.unpublishTrack,h=f.find((function(e){return e.kind===Yw.Track.Kind.Audio})),y=f.find((function(e){return e.kind===Yw.Track.Kind.Video&&"screen"!==e.trackName})),m=f.find((function(e){return e.kind===Yw.Track.Kind.Video&&"screen"===e.trackName}));return void 0===a&&(a=!0),void 0===s&&(s=!0),void 0===c&&(c=!0),c&&(r=!h||p?t().createElement(lS,{label:"Unmute",icon:cg,onClick:function(){try{var e=function(){if(!h)return Promise.resolve((0,Yw.createLocalAudioTrack)()).then((function(e){i.localParticipant.publishTrack(e)}));h.unmute()}();return Promise.resolve(e&&e.then?e.then((function(){})):void 0)}catch(e){return Promise.reject(e)}}}):t().createElement(lS,{label:"Mute",icon:ag,onClick:function(){return h.mute()}})),s&&(n=null!=y&&y.track?t().createElement(lS,{label:"Stop video",icon:ug,onClick:function(){return d(y.track)}}):t().createElement(lS,{label:"Start video",icon:lg,onClick:function(){try{return Promise.resolve((0,Yw.createLocalVideoTrack)()).then((function(e){i.localParticipant.publishTrack(e)}))}catch(e){return Promise.reject(e)}}})),a&&(o=null!=m&&m.track?t().createElement(lS,{label:"Stop sharing",icon:sg,onClick:function(){return d(m.track)}}):t().createElement(lS,{label:"Share screen",icon:ig,onClick:function(){try{var e=fS((function(){return Promise.resolve(navigator.mediaDevices.getDisplayMedia({video:{width:Yw.VideoPresets.fhd.resolution.width,height:Yw.VideoPresets.fhd.resolution.height}})).then((function(e){i.localParticipant.publishTrack(e.getTracks()[0],{name:"screen",videoEncoding:{maxBitrate:3e6,maxFramerate:30}})}))}),(function(){}));return Promise.resolve(e&&e.then?e.then((function(){})):void 0)}catch(e){return Promise.reject(e)}}})),t().createElement("div",{className:uS.controlsWrapper},r,n,o,u&&t().createElement(lS,{label:"End",className:uS.dangerButton,onClick:function(){i.disconnect(),u(i)}}))},hS=function(r){var n,o=r.track,i=r.isLocal,a=r.objectFit,c=r.className,s=r.width,u=r.height,l=(0,e.useRef)(null);(0,e.useEffect)((function(){var e=l.current;if(e)return e.muted=!0,o.attach(e),function(){o.detach(e)}}),[o,l]);var f="environment"!==(null===(n=o.mediaStreamTrack)||void 0===n?void 0:n.getSettings().facingMode),p={transform:i&&f?"rotateY(180deg)":"",width:s,height:u};return a&&(p.objectFit=a),t().createElement("video",{ref:l,className:null!=c?c:uS.video,style:p})},yS=function(r){var n=r.participant,o=r.width,i=r.height,a=r.className,c=r.aspectWidth,s=r.aspectHeight,u=r.displayName,l=r.showOverlay,f=r.quality,p=r.adaptiveVideo,d=r.onMouseEnter,h=r.onMouseLeave,y=r.onClick,m=pS(n),v=m.isLocal,b=m.isMuted,g=m.subscribedTracks,w=function(t){var r={},n=r.threshold,o=r.delay,i=r.trackVisibility,a=r.rootMargin,c=r.root,s=r.triggerOnce,u=r.skip,l=r.initialInView,f=(0,e.useRef)(),p=(0,e.useState)({inView:!!l}),d=p[0],h=p[1],y=(0,e.useCallback)((function(e){void 0!==f.current&&(f.current(),f.current=void 0),u||e&&(f.current=oS(e,(function(e,t){h({inView:e,entry:t}),t.isIntersecting&&s&&f.current&&(f.current(),f.current=void 0)}),{root:c,rootMargin:a,threshold:n,trackVisibility:i,delay:o}))}),[Array.isArray(n)?n.toString():n,c,a,s,u,i,o]);(0,e.useEffect)((function(){f.current||!d.entry||s||u||h({inView:!!l})}));var m=[y,d.inView,d.entry];return m.ref=m[0],m.inView=m[1],m.entry=m[2],m}(),S=w.ref,O=w.inView,P=(0,e.useState)(),k=P[0],_=P[1],E=(0,e.useState)(!0),j=E[0],x=E[1],C=(0,e.useState)(),T=C[0],R=C[1];(0,e.useEffect)((function(){if(S){var e=O;p||(e=!0),j!==e&&x(e)}}),[S,n,O,p]),(0,e.useEffect)((function(){var e;g.forEach((function(t){t.isSubscribed&&t.kind===Yw.Track.Kind.Video&&"screen"!==t.trackName&&!e&&(e=t)})),_(e)}),[g]),(0,e.useEffect)((function(){if(T&&(clearTimeout(T),R(void 0)),k instanceof Yw.RemoteTrackPublication)return j&&k.setEnabled(!0),R(setTimeout((function(){k.setEnabled(j),j&&k.setVideoQuality(null!=f?f:Xw.VideoQuality.HIGH)}),3e3)),function(){T&&(clearTimeout(T),R(void 0))}}),[f,j,k]);var I,L={width:o,height:i},M="contain";c&&s&&null!=k&&k.dimensions&&(c-s)*(k.dimensions.width-k.dimensions.height)>0&&(M="cover"),u||(u=n.identity,v&&(u+=" (You)")),I=null!=k&&k.track?t().createElement(hS,{track:k.track,isLocal:v,objectFit:M,width:"100%",height:"100%"}):t().createElement("div",{className:uS.placeholder});var A=[uS.participant];return a&&A.push(a),t().createElement("div",{ref:S,className:A.join(" "),style:L,onMouseEnter:d,onMouseLeave:h,onClick:y},c&&s&&t().createElement(Qw.ZP,{ratio:c/s},I),(!c||!s)&&I,l&&t().createElement("div",{className:uS.participantBar},t().createElement("div",null,u),t().createElement("div",null,t().createElement(Jw,{icon:b?cg:ag,height:24,className:b?uS.iconRed:uS.iconNormal}))))},mS=function(e){var r=e.track,n=e.width,o=e.height;return t().createElement("div",{className:uS.screenShare},t().createElement(hS,{track:r,isLocal:!1,width:n,height:o}))},vS=function(r){var n=r.roomState,o=r.participantRenderer,i=r.controlRenderer,a=r.onLeave,c=r.adaptiveVideo,s=n.isConnecting,u=n.error,l=n.participants,f=n.room,p=(0,e.useState)(!1),d=p[0],h=p[1];if(u)return t().createElement("div",null,"error ",u.message);if(s)return t().createElement("div",null,"connecting");if(!f)return t().createElement("div",null,"room closed");if(0===l.length)return t().createElement("div",null,"no one is in the room");var y,m,v,b=null!=o?o:yS,g=null!=i?i:dS;return l.forEach((function(e){e instanceof Yw.LocalParticipant||e.videoTracks.forEach((function(e){"screen"===e.trackName&&e.track&&(y=e.track)}))})),y?(m=l,v=t().createElement(mS,{track:y,height:"100%",width:"100%"})):(m=l.slice(1),v=t().createElement(b,{key:l[0].identity,participant:l[0],showOverlay:d,quality:Xw.VideoQuality.HIGH,onMouseEnter:function(){return h(!0)},onMouseLeave:function(){return h(!1)}})),t().createElement("div",{className:"_2sm4e"},t().createElement("div",{className:"_2VE66"},t().createElement("div",{className:"_2kKDi"},v),t().createElement("div",{className:"_gA0MQ"},m.map((function(e,r){var n=Xw.VideoQuality.HIGH;return c&&r>4&&(n=Xw.VideoQuality.LOW),t().createElement(b,{key:e.identity,participant:e,width:"100%",aspectWidth:16,aspectHeight:9,showOverlay:d,quality:n,onMouseEnter:function(){return h(!0)},onMouseLeave:function(){return h(!1)},adaptiveVideo:c})})))),t().createElement("div",{className:"_1smc2"},t().createElement(g,{room:f,onLeave:a})))},bS=function(r){var n=r.roomState,o=r.participantRenderer,i=r.controlRenderer,a=r.onLeave,c=r.adaptiveVideo,s=n.isConnecting,u=n.error,l=n.participants,f=n.room,p=(0,e.useState)(!1),d=p[0],h=p[1];if(u)return t().createElement("div",null,"error ",u.message);if(s)return t().createElement("div",null,"connecting");if(!f)return t().createElement("div",null,"room closed");if(0===l.length)return t().createElement("div",null,"no one is in the room");var y,m,v,b=null!=o?o:yS,g=null!=i?i:dS;return l.forEach((function(e){e instanceof Yw.LocalParticipant||e.videoTracks.forEach((function(e){"screen"===e.trackName&&e.track&&(y=e.track)}))})),y?(m=l,v=t().createElement(mS,{track:y,height:"100%",width:"100%"})):(m=l.slice(1),v=t().createElement(b,{key:l[0].identity,participant:l[0],showOverlay:d,width:"100%",height:"100%",quality:Xw.VideoQuality.MEDIUM,onMouseEnter:function(){return h(!0)},onMouseLeave:function(){return h(!1)},adaptiveVideo:c})),t().createElement("div",{className:"_2zM8F"},t().createElement("div",{className:"_9PXrI"},v),t().createElement("div",{className:"_Tl5ht"},m.map((function(e,r){var n=Xw.VideoQuality.MEDIUM;return c&&r>4&&(n=Xw.VideoQuality.LOW),t().createElement(b,{key:e.identity,participant:e,className:"_jGXiG",aspectWidth:4,aspectHeight:3,showOverlay:d,quality:n,onMouseEnter:function(){return h(!0)},onMouseLeave:function(){return h(!1)},adaptiveVideo:c})}))),t().createElement("div",{className:"_3MB5b"},t().createElement(g,{room:f,enableScreenShare:!1,onLeave:a})))},gS=function(e){var r;return r=(0,cS.useMediaQuery)({query:"(max-width: 800px)"})?t().createElement(bS,Object.assign({},e)):t().createElement(vS,Object.assign({},e)),t().createElement(t().Fragment,null,r,e.roomState.audioTracks.map((function(e){return t().createElement(sS,{key:e.sid,track:e,isLocal:!1})})))};function wS(t){var r,n=(0,e.useState)(),o=n[0],i=n[1],a=(0,e.useState)(!1),c=a[0],s=a[1],u=(0,e.useState)(),l=u[0],f=u[1],p=(0,e.useState)([]),d=p[0],h=p[1],y=(0,e.useState)([]),m=y[0],v=y[1],b=null!=(r=null==t?void 0:t.sortParticipants)?r:SS,g=(0,e.useCallback)((function(e,t,r){try{return s(!0),Promise.resolve(fS((function(){return Promise.resolve((0,Yw.connect)(e,t,r)).then((function(e){i(e);var t=function(){var t=Array.from(e.participants.values()),r=[e.localParticipant];r.push.apply(r,t),b(r,e.localParticipant),h(r)},r=function(r){if(t(),!r||r.kind===Yw.Track.Kind.Audio){var n=[];e.participants.forEach((function(e){e.audioTracks.forEach((function(e){e.track&&e.kind===Yw.Track.Kind.Audio&&n.push(e.track)}))})),v(n)}};return e.once(Yw.RoomEvent.Disconnected,(function(){setTimeout((function(){return i(void 0)})),e.off(Yw.RoomEvent.ParticipantConnected,t),e.off(Yw.RoomEvent.ParticipantDisconnected,t),e.off(Yw.RoomEvent.ActiveSpeakersChanged,t),e.off(Yw.RoomEvent.TrackSubscribed,r),e.off(Yw.RoomEvent.TrackUnsubscribed,r)})),e.on(Yw.RoomEvent.ParticipantConnected,t),e.on(Yw.RoomEvent.ParticipantDisconnected,t),e.on(Yw.RoomEvent.ActiveSpeakersChanged,t),e.on(Yw.RoomEvent.TrackSubscribed,r),e.on(Yw.RoomEvent.TrackUnsubscribed,r),s(!1),r(),e}))}),(function(e){s(!1),f(e)})))}catch(e){return Promise.reject(e)}}),[]);return{connect:g,isConnecting:c,room:o,error:l,participants:d,audioTracks:m}}function SS(e,t){if(e.sort((function(e,t){var r,n,o,i;if(e.isSpeaking&&t.isSpeaking)return t.audioLevel-e.audioLevel;if(e.isSpeaking!==t.isSpeaking)return e.isSpeaking?-1:1;if(e.lastSpokeAt!==t.lastSpokeAt){var a,c,s,u,l=null!=(a=null===(c=e.lastSpokeAt)||void 0===c?void 0:c.getTime())?a:0;return(null!=(s=null===(u=t.lastSpokeAt)||void 0===u?void 0:u.getTime())?s:0)-l}var f=e.videoTracks.size>0;return f!==t.videoTracks.size>0?f?-1:1:(null!=(r=null===(n=e.joinedAt)||void 0===n?void 0:n.getTime())?r:0)-(null!=(o=null===(i=t.joinedAt)||void 0===i?void 0:i.getTime())?o:0)})),t){var r=e.indexOf(t);r>=0&&(e.splice(r,1),e.length>0?e.splice(1,0,t):e.push(t))}}var OS=function(t){var r=t.url,n=t.token,o=t.connectOptions,i=t.sortParticipants,a=t.stageRenderer,c=t.participantRenderer,s=t.controlRenderer,u=t.onConnected,l=t.onLeave,f=t.adaptiveVideo,p=wS({sortParticipants:i});return(0,e.useEffect)((function(){p.connect(r,n,o).then((function(e){if(e)return u&&u(e),function(){e.disconnect()}}))}),[]),(null!=a?a:gS)({roomState:p,participantRenderer:c,controlRenderer:s,onLeave:l,adaptiveVideo:f})},PS=__webpack_require__(30752);function kS(){kS=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),c=new _(o||[]);return n(a,"_invoke",{value:S(e,r,c)}),a}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function p(){}function d(){}function h(){}var y={};s(y,i,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(E([])));v&&v!==t&&r.call(v,i)&&(y=v);var b=h.prototype=p.prototype=Object.create(y);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(n,i,a,c){var s=l(e[n],e,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==_S(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,n(b,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:d,configurable:!0}),d.displayName=s(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),s(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),s(b,c,"Generator"),s(b,i,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function _S(e){return _S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_S(e)}function ES(e,t,r,n,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function jS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jS(Object(r),!0).forEach((function(t){CS(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jS(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function CS(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==_S(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==_S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===_S(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var TS=function(e){var r=e.url,n=e.token,o=e.onRoomConnected,i=e.style,a=e.stageRenderer;return t().createElement("div",{className:"roomContainer",style:xS({color:"white"},i)},t().createElement(OS,{url:r,token:n,stageRenderer:a,onConnected:function(e){return function(e,t){return RS.apply(this,arguments)}(e,o)}}))};function RS(){var e;return e=kS().mark((function e(t,r){var n,o;return kS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,PS.createLocalAudioTrack)();case 2:return n=e.sent,e.next=5,t.localParticipant.publishTrack(n);case 5:return e.next=7,(0,PS.createLocalVideoTrack)();case 7:return o=e.sent,e.next=10,t.localParticipant.publishTrack(o);case 10:r&&r(t);case 11:case"end":return e.stop()}}),e)})),RS=function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){ES(i,n,o,a,c,"next",e)}function c(e){ES(i,n,o,a,c,"throw",e)}a(void 0)}))},RS.apply(this,arguments)}function IS(e){return IS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IS(e)}function LS(){return LS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LS.apply(this,arguments)}function MS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AS(n.key),n)}}function AS(e){var t=function(e,t){if("object"!==IS(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==IS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===IS(t)?t:String(t)}function DS(e,t){return DS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},DS(e,t)}function NS(e){return NS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},NS(e)}var US={inline:{backgroundColor:"rgba(0,0,0)"},fullscreen:{position:"absolute",top:0,left:0,bottom:0,right:0,padding:30,zIndex:1e3,backgroundColor:"rgba(0,0,0,0.75)",overflowY:"auto"}};const BS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DS(e,t)}(s,e);var r,o,i,a,c=(i=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=NS(i);if(a){var r=NS(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===IS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=c.call(this,e)).state={mode:"inline"},t}return r=s,(o=[{key:"componentWillUnmount",value:function(){this.videoRoomConnected&&this.videoRoomConnected.disconnect()}},{key:"toggleMode",value:function(){this.videoRoomConnected&&this.videoRoomConnected.disconnect();var e=this.state.mode;this.setState({mode:"inline"===e?"fullscreen":"inline"})}},{key:"render",value:function(){var e=this,r=this.state.mode,o=t().createElement("div",{style:US[r]},t().createElement("a",{style:{color:"white"},onClick:function(){return e.toggleMode()}},"Toogle"),t().createElement(TS,LS({},this.props,{stageRenderer:void 0,onRoomConnected:function(t){e.videoRoomConnected=t}})));return"inline"===r?o:n().createPortal(o,document.body)}}])&&MS(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);function zS(e){return zS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zS(e)}function FS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FS(Object(r),!0).forEach((function(t){WS(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FS(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function WS(e,t,r){return(t=VS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZS(){return ZS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZS.apply(this,arguments)}function GS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VS(n.key),n)}}function VS(e){var t=function(e,t){if("object"!==zS(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==zS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===zS(t)?t:String(t)}function JS(e,t){return JS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},JS(e,t)}function KS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $S(e){return $S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$S(e)}var YS=z().requireLib("boot"),XS=YS.PydioContextConsumer,QS=YS.moment,eO=function(r){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JS(e,t)}(s,r);var n,o,i,a,c=(i=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=$S(i);if(a){var r=$S(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===zS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return KS(e)}(this,e)});function s(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=c.call(this,t)).client=null,r.state={messages:[],room:null,value:""},r._newMessageListener=r.onNewMessage.bind(KS(r)),r.commentPane=(0,e.createRef)(),r}return n=s,o=[{key:"componentDidMount",value:function(){this.join(this.props.roomType,this.props.roomObjectId)}},{key:"componentWillUnmount",value:function(){this.stop(),this.videoRoomConnected&&this.videoRoomConnected.disconnect()}},{key:"componentDidUpdate",value:function(e,t){if(t.messages.length<=this.state.messages.length){var r=t.messages.length>0?parseFloat(t.messages[t.messages.length-1].Timestamp):0;(this.state.messages.length>0?parseFloat(this.state.messages[this.state.messages.length-1].Timestamp):0)>r&&this.commentPane.current&&(this.commentPane.current.scrollTop=1e5)}}},{key:"componentWillReceiveProps",value:function(e){e.pydio;var t=e.roomType,r=e.roomObjectId;t===this.props.roomType&&r===this.props.roomObjectId||(this.client&&this.client.leaveRoom(this.props.roomType,this.props.roomObjectId,this._newMessageListener),this.setState({messages:[],room:null,value:""}),t&&r&&this.join(t,r))}},{key:"onRoomMessage",value:function(e){if(!this.state.firstUpdateReceived){var t=this.props,r=t.roomType,n=t.roomObjectId;this.client.loadHistory(r,n,0,40),this.setState({firstUpdateReceived:!0})}e&&this.setState({room:e.Room})}},{key:"onNewMessage",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){if(this.setState({firstUpdateReceived:!0}),"VIDEO_CALL"===e["@type"])return console.log("Video Enabled!",e),void this.setState({videoData:e});if(r)this.setState({messages:this.state.messages.filter((function(t){return t.Uuid!==e.Uuid}))});else{var n=[].concat((t=this.state.messages.filter((function(t){return t.Uuid!==e.Uuid})),function(e){if(Array.isArray(e))return GS(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return GS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?GS(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[e]).filter((function(e){return!!e.Message}));n.sort((function(e,t){return e.Timestamp===t.Timestamp?0:parseFloat(e.Timestamp)>parseFloat(t.Timestamp)?1:-1})),this.setState({messages:n})}}}},{key:"join",value:function(e,t){var r=this;if(t){var n=this.props.pydio;this.client=Ib.getInstance(n),this.setState({firstUpdateReceived:!1},(function(){var n=r.client.joinRoom(e,t,r._newMessageListener,r.onRoomMessage.bind(r));null!==n&&r.setState({room:n})})),this.client.loadHistory(e,t,0,40)}}},{key:"more",value:function(){var e=this.props,t=e.roomType,r=e.roomObjectId,n=this.state.messages;this.client&&this.client.loadHistory(t,r,n.length-1,40)}},{key:"stop",value:function(){var e=this.props,t=e.roomType,r=e.roomObjectId;this.client&&this.client.leaveRoom(t,r,this._newMessageListener)}},{key:"postMessage",value:function(){if(this.state.value){var e=this.state.room;if(e&&e.Uuid){var t={"@type":"POST",Message:{RoomUuid:e.Uuid,Message:this.state.value}};this.client.send(JSON.stringify(t)),this.setState({value:""})}else console.error("Cannot find cell info")}}},{key:"deleteMessage",value:function(e){var t=this.state.room;if(t&&t.Uuid){var r={"@type":"DELETE_MSG",Message:e};this.client.send(JSON.stringify(r))}else console.error("Cannot find cell info")}},{key:"keyDown",value:function(e){var t=this.state.value;if("Enter"===e.key)if(e.metaKey||e.ctrlKey){var r,n,o=e.currentTarget;o.selectionEnd<t.length?(r=t.substr(0,o.selectionEnd)+"\n"+t.substr(o.selectionEnd),n=o.selectionEnd+1):n=(r=t+"\n").length,this.setState({value:r},(function(){o.setSelectionRange(n,n)}))}else e.preventDefault(),this.postMessage()}},{key:"render",value:function(){var e,r,n,o,i,a=this,c=this.props,s=c.style,u=c.msgContainerStyle,l=c.chatUsersStyle,f=c.fieldContainerStyle,p=c.fieldHint,d=c.textFieldProps,h=c.emptyStateProps,y=c.pydio,m=c.pushMessagesToBottom,b=c.computePresenceFromACLs,g=c.readonly,w=c.muiTheme,S=c.popoverPanel,O=this.state,P=O.messages,k=O.room,_=O.videoData,E=O.joinVideo,j=[],x=P.length>=40;P.forEach((function(n){var o=QS(1e3*parseFloat(n.Timestamp)).fromNow(),i=e&&e===o,c=r&&r===n.Author&&i;j.push(t().createElement(Jb,{key:n.Uuid,message:n,hideDate:i,sameAuthor:c,onDeleteMessage:function(){a.deleteMessage(n)},moreLoader:x?function(){a.more()}:null,muiTheme:w})),x=!1,e=o,r=n.Author})),m&&(n={display:"flex",flexDirection:"column"},j&&j.length&&(o=t().createElement("span",{style:{flex:1}}))),!h||j&&j.length||(i=t().createElement(co,ZS({pydio:y},h)));var C=!k,T={color:K()(w.palette.mui3["on-surface-variant"]).fade(.5).toString(),whiteSpace:"nowrap"};d&&d.hintStyle&&(T=qS(qS({},T),d.hintStyle)),C&&(T=qS(qS({},T),{},{fontStyle:"italic"}));var R=qS({backgroundColor:w.palette.mui3[S?"surface-variant":"surface"]||"white",position:"relative",paddingLeft:16,paddingRight:16},f);return t().createElement("div",{style:qS({padding:0},s)},void 0!==b&&t().createElement(ng,{pydio:y,ACLs:b,roomUsers:k?k.Users:[],style:l,muiTheme:w}),t().createElement("div",{ref:this.commentPane,className:"comments_feed",style:qS(qS({maxHeight:300,overflowY:"auto"},n),u)},o,j,i),t().createElement("div",{style:R},t().createElement(v.TextField,ZS({hintText:C?y.MessageHash[466]:p,value:this.state.value,onChange:function(e,t){a.setState({value:t})},multiLine:!0,onKeyDown:this.keyDown.bind(this),fullWidth:!0,underlineShow:!1,disabled:g||C},d,{hintStyle:T})),_&&t().createElement("div",{style:{position:"absolute",top:0,right:0}},t().createElement(v.IconButton,{iconStyle:{color:E?"#F44336":"#4CAF4F"},iconClassName:"mdi mdi-video"+(E?"-off":""),onClick:function(){return a.setState({joinVideo:!E})}}))),_&&E&&t().createElement(BS,{url:_.Url,token:_.Token}),t().createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:"\n.chat-message-md *, .comments_feed .user-label, .comments_feed .date-from{\n    user-select: text;\n}\n.chat-message-md p{\n    padding-top: 0; \n    margin-bottom: 0;\n}\n.chat-message-md strong {\n    font-weight: 500;\n}\n.chat-message-md a {\n    text-decoration: underline;\n    color:#2196f3;\n}\n.chat-message-md ul {\n    padding-left: 20px;\n}\n"}}))}}],o&&HS(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),s}(t().Component);function tO(e){return tO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tO(e)}function rO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nO(n.key),n)}}function nO(e){var t=function(e,t){if("object"!==tO(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==tO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===tO(t)?t:String(t)}function oO(e,t){return oO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oO(e,t)}function iO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aO(e){return aO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},aO(e)}eO.PropTypes={roomType:U().string,roomObjectId:U().string},eO=XS((0,V.muiThemeable)()(eO));var cO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oO(e,t)}(c,e);var r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=aO(o);if(i){var r=aO(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===tO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return iO(e)}(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).state={newMessages:0},t._messageListener=t.onMessage.bind(iO(t)),t}return r=c,n=[{key:"onMessage",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.setState({newMessages:Math.max(0,this.state.newMessages-1)}):this.setState({newMessages:this.state.newMessages+1})}},{key:"listenToRoom",value:function(e,t){Ib.getInstance(this.props.pydio).joinRoom(e,t,this._messageListener,null)}},{key:"leaveRoom",value:function(e,t){Ib.getInstance(this.props.pydio).leaveRoom(e,t,this._messageListener)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.roomType,r=e.objectId;this.listenToRoom(t,r)}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.roomType,r=e.objectId;this.leaveRoom(t,r)}},{key:"componentWillReceiveProps",value:function(e){var t=this,r=this.props,n=r.roomType,o=r.objectId;e.roomType===n&&e.objectId===o||(this.leaveRoom(n,o),this.setState({newMessages:0},(function(){t.listenToRoom(e.roomType,e.objectId)})))}},{key:"onClick",value:function(){this.props.pydio.Controller.fireAction("toggle_chat_panel"),this.setState({newMessages:0})}},{key:"render",value:function(){var e=this.state.newMessages;if(0===e)return null;return t().createElement("span",{onClick:this.onClick.bind(this),className:"mdi mdi-comment",style:{display:"inline-block",padding:"0 5px",fontSize:15,textAlign:"center",color:"#8BC34A",fontWeight:500,position:"relative"}},t().createElement("span",{style:{fontSize:13,display:"inline-block",position:"absolute",top:-1,marginLeft:2}},e))}}],n&&rO(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(t().Component);function sO(e){return sO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sO(e)}function uO(){return uO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uO.apply(this,arguments)}function lO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lO(Object(r),!0).forEach((function(t){pO(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pO(e,t,r){return(t=hO(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hO(n.key),n)}}function hO(e){var t=function(e,t){if("object"!==sO(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==sO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===sO(t)?t:String(t)}function yO(e,t){return yO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yO(e,t)}function mO(e){return mO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mO(e)}var vO={root:{paddingTop:20},section:{container:{},title:{},description:{},actions:{}},action:{container:{},icon:{},title:{},description:{}},deleteButton:{},deleteIconProps:{style:{position:"absolute",top:0,right:0},iconStyle:{color:"#bdbdbd",hoverColor:"#9e9e9e"}}};const bO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yO(e,t)}(c,e);var r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=mO(o);if(i){var r=mO(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===sO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),e.model||(e.model={Sections:[]}),a.call(this,e)}return r=c,(n=[{key:"stProps",value:function(e,t){return{style:vO[e][t],className:"stepper-"+e+"-"+t}}},{key:"render",value:function(){var e=this,r=this.props,n=r.model,o=r.style,i=r.onPick;return t().createElement("div",{style:fO(fO({},vO.root),o),className:"bbpanel"},n.Sections.map((function(r){return t().createElement("div",e.stProps("section","container"),t().createElement("div",e.stProps("section","title"),r.title),t().createElement("div",e.stProps("section","description"),r.description),t().createElement("div",e.stProps("section","actions"),r.Actions.map((function(r){var n=r.description;return n&&n.length>70&&(n=t().createElement("span",{title:n},n.substr(0,70)+"...")),t().createElement(v.Paper,uO({zDepth:0},e.stProps("action","container"),{onClick:function(){i(r.value)}}),r.tag&&t().createElement("div",{className:"stepper-tag"},r.tag),r.onDelete&&t().createElement("div",e.stProps("action","deleteButton"),t().createElement(v.IconButton,uO({iconClassName:"mdi mdi-close",tooltip:"Remove",onClick:function(e){e.stopPropagation(),r.onDelete()}},vO.deleteIconProps))),t().createElement("div",e.stProps("action","icon"),t().createElement(v.FontIcon,{color:r.tint||"#03A9F4",className:r.icon})),t().createElement("div",e.stProps("action","title"),r.title),t().createElement("div",e.stProps("action","description"),n))}))))})),t().createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:"\n.react-mui-context .bbpanel .stepper-section-actions {\n    display: flex;\n    flex-wrap: wrap;\n}\n\n.react-mui-context .bbpanel .stepper-section-container {\n    margin-bottom: 30px;\n}\n\n.react-mui-context .bbpanel .stepper-section-title {\n    font-size: 13px;\n    font-weight: 500;\n    color: #455a64;\n    padding-bottom: 20px;    \n}\n\n.react-mui-context .bbpanel .stepper-action-container {\n    margin: 10px;\n    width: 230px;\n    height: 210px;\n    display: flex;\n    flex-direction: column;\n    font-size: 15px;\n    padding: 10px 20px;\n    border-radius: 6px !important;\n    box-shadow: 1px 10px 20px 0 rgba(40,60,75,.15);\n    cursor: pointer;\n    position:relative;\n}\n\n.react-mui-context .bbpanel .stepper-action-container:hover {\n    box-shadow: 1px 10px 20px 0 rgba(40,60,75,.3)\n}\n\n.react-mui-context .bbpanel .stepper-action-icon {\n    flex: 1;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.react-mui-context .bbpanel .stepper-tag {\n    position: absolute;\n    top: 15px;\n    left: 16px;\n    background-color: #B0BEC5;\n    color: white;\n    padding: 1px 5px;\n    font-size: 12px;\n    height: 19px;\n    line-height: 16px;\n    border-radius: 4px;\n    font-weight: 500;\n}\n\n.react-mui-context .bbpanel .stepper-action-icon > span {\n    font-size: 50px !important;\n}\n\n.react-mui-context .bbpanel .stepper-action-title {\n    padding-bottom: 20px;\n    font-weight: 500;\n    text-align: center;\n    font-size: 16px;\n}\n\n.react-mui-context .bbpanel .stepper-action-description {\n    text-align: center;\n    font-weight: 300;\n    font-size: 13px;\n    padding-bottom: 10px;   \n}\n"}}))}}])&&dO(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(t().Component);function gO(e){return gO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gO(e)}function wO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function SO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wO(Object(r),!0).forEach((function(t){OO(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function OO(e,t,r){return(t=kO(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kO(n.key),n)}}function kO(e){var t=function(e,t){if("object"!==gO(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==gO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===gO(t)?t:String(t)}function _O(e,t){return _O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_O(e,t)}function EO(e){return EO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},EO(e)}var jO=z().requireLib("hoc").ModernTextField,xO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_O(e,t)}(c,e);var r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=EO(o);if(i){var r=EO(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===gO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),a.apply(this,arguments)}return r=c,(n=[{key:"componentDidUpdate",value:function(e){e.random!==this.props.random&&this.refs.dialog&&setTimeout((function(){window.dispatchEvent(new Event("resize"))}),0)}},{key:"render",value:function(){var e=this.props,r=e.title,n=e.actions,o=e.open,i=e.onDismiss,a=e.onFilter,c=e.customFilter,s=e.children,u=e.dialogProps,l=r;return(i||a||c)&&(l=t().createElement("div",{style:{position:"relative",display:"flex",alignItems:"center"}},t().createElement("div",{style:{flex:1}},r),c&&t().createElement("div",{style:{marginRight:16}},c),a&&t().createElement("div",{style:{width:210,height:34,marginTop:-10,marginRight:i?50:0}},t().createElement(jO,{hintText:"Filter list",onChange:function(e,t){a(t)},fullWidth:!0})),i&&t().createElement("div",{style:{position:"absolute",top:11,right:20}},t().createElement(v.IconButton,{iconClassName:"mdi mdi-close",onClick:i})))),t().createElement(v.Dialog,{ref:"dialog",title:l,actions:n,modal:u.modal,open:o,autoDetectWindowHeight:!0,autoScrollBodyContent:!0,contentClassName:"stepper-dialog",bodyStyle:SO({backgroundColor:"rgb(236, 239, 241)",borderRadius:"0 0 6px 6px"},u.bodyStyle),contentStyle:SO({width:"90%",maxWidth:"none",borderRadius:6},u.contentStyle),titleStyle:SO({borderBottom:"none",backgroundColor:"rgb(246, 247, 248)",borderRadius:"6px 6px 0 0"},u.titleStyle)},s,t().createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:".stepper-dialog > div{border-radius: 6px !important;}"}}))}}])&&PO(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(t().Component),CO={SortableList:M,SimpleList:To,NodeListCustomProvider:Uo,ListEntry:se,ListPaginator:mn,MaterialTable:ei,Masonry:Ga,Timeline:nc,TreeView:kc,DNDTreeView:Pc,FoldersTree:_c,ClipboardTextField:Xc,LabelWithTip:Mc,EmptyStateView:co,SimpleFigureBadge:qc,ModalAppBar:function(e){var r=e.style,n=e.titleStyle,o=e.iconStyleRight,i=e.iconStyleLeft,a=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,ks),c={style:js({flexShrink:0},r),titleStyle:js({lineHeight:"56px",height:56,marginLeft:-8},n),iconStyleRight:js({marginTop:4},o),iconStyleLeft:js({marginTop:4},i)};return t().createElement(v.AppBar,_s({},a,c))},GenericCard:ms,GenericLine:ys,QuotaUsageLine:Os,ReactEditorOpener:Ds,DynamicGrid:wu,DynamicGridItemMixin:_u,asGridItem:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{gridWidth:4,gridHeight:12},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=e.displayName||e.name;e=Nu()(e);var i=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Iu(e,t)}(c,t);var r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Lu(o);if(i){var r=Lu(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Eu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(r=a.call(this,e,t)).state={focus:!1,showCloseAction:!1},r}return r=c,n=[{key:"focusItem",value:function(){this.setState({focus:!0})}},{key:"blurItem",value:function(){this.setState({focus:!1})}},{key:"mergeStyleWithFocus",value:function(){return xu(xu({},this.props.style),{},{zIndex:this.state.focus?1:null})}},{key:"toggleEditMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;void 0===e?this.setState({showCloseAction:!(this.state&&this.state.showCloseAction)}):this.setState({showCloseAction:e})}},{key:"getCloseButton",value:function(){var e=function(){};return this.props.onCloseAction&&(e=this.props.onCloseAction),React.createElement("div",{style:{position:"absolute",backgroundColor:"rgba(0,0,0,0.53)",zIndex:10,top:0,left:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center"}},React.createElement(Du,{label:this.props.pydio.MessageHash["ajxp_admin.home.48"],className:"card-close-button",onClick:e,style:{color:"white"}}))}},{key:"render",value:function(){var t=xu(xu({},this.props),{},{style:this.mergeStyleWithFocus(),closeButton:this.state.showCloseAction?this.getCloseButton():null,onFocusItem:this.focusItem.bind(this),onBlurItem:this.blurItem.bind(this)});return React.createElement(e,t)}}],n&&Tu(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(Au);return i.propTypes={onCloseAction:Mu.func},i.displayName=o,i.builderDisplayName=t,i.getGridLayout=function(e,t){return{x:e||0,y:t||0,w:r.gridWidth||4,h:r.gridHeight||12,isResizable:!1}},i.hasBuilderFields=function(){return void 0!==n},i.getBuilderFields=function(){return n},i},DynamicGridStore:Hs,DND:{Types:l,collect:f,collectDrop:p,nodeDragSource:y,nodeDropTarget:m,DNDActionParameter:d},DNDActionParameter:d,UserAvatar:Hf,UsersCompleter:$h,TeamCreationForm:Yd,AddressBook:Dh,DirectoryLayout:wb,ListStylesCompact:ml,ContextMenu:Ly,Toolbar:pm,ButtonMenu:uy,IconButtonMenu:en,MenuItemsConsumer:Wr,MenuUtils:Lr,Chat:eO,ChatIcon:cO,ChatClient:Ib,ResourcePoliciesPanel:lp,CellActionsRenderer:yl,Stepper:{PanelBigButtons:bO,Dialog:xO}}})(),window.PydioComponents=__webpack_exports__})();
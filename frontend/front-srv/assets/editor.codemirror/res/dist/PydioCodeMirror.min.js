(()=>{"use strict";var e,r,n,t,o={1760:e=>{e.exports=function(e){var r=[];return r.toString=function(){return this.map((function(r){var n="",t=void 0!==r[5];return r[4]&&(n+="@supports (".concat(r[4],") {")),r[2]&&(n+="@media ".concat(r[2]," {")),t&&(n+="@layer".concat(r[5].length>0?" ".concat(r[5]):""," {")),n+=e(r),t&&(n+="}"),r[2]&&(n+="}"),r[4]&&(n+="}"),n})).join("")},r.i=function(e,n,t,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(t)for(var c=0;c<this.length;c++){var l=this[c][0];null!=l&&(a[l]=!0)}for(var s=0;s<e.length;s++){var d=[].concat(e[s]);t&&a[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),r.push(d))}},r}},156:e=>{e.exports=function(e){return e[1]}},1322:(e,r,n)=>{n.d(r,{Z:()=>c});var t=n(156),o=n.n(t),i=n(1760),a=n.n(i)()(o());a.push([e.id,".CodeMirror {\n  height: 100% !important;\n}\n.CodeMirror-line-numbers {\n  width: 2.2em;\n  color: #aaa;\n  background-color: #eee;\n  text-align: right;\n  padding-right: 0.3em;\n  font-size: 10pt;\n  font-family: monospace !important;\n  padding-top: 0.4em;\n  line-height: normal;\n}\n.CodeMirror-line-numbers > div {\n  font-family: monospace !important;\n}\n",""]);const c=a},457:(e,r,n)=>{n.d(r,{Z:()=>c});var t=n(156),o=n.n(t),i=n(1760),a=n.n(i)()(o());a.push([e.id,".ReactCodeMirror.CMEditor {\n  width: 100%;\n  flex: 1;\n}\n.react-mui-context .mdviewer {\n  flex: 1;\n  border-left: 2px solid #e0e0e0;\n  padding: 20px;\n  background-color: #fafafa;\n  overflow-y: auto;\n}\n.react-mui-context .mdviewer ul,\n.react-mui-context .mdviewer ol {\n  margin-left: 15px;\n}\n.react-mui-context .mdviewer code {\n  margin: 10px 0;\n  border-radius: 2px;\n  padding: 5px 10px;\n  background-color: #CFD8DC;\n}\n.react-mui-context .mdviewer pre code {\n  display: block;\n}\n",""]);const c=a},8392:(e,r,n)=>{n.d(r,{Z:()=>c});var t=n(156),o=n.n(t),i=n(1760),a=n.n(i)()(o());a.push([e.id,"/* BASICS */\n.CodeMirror {\n  /* Set height, width, borders, and global font properties here */\n  font-family: monospace;\n  height: 300px;\n  color: black;\n  direction: ltr;\n}\n/* PADDING */\n.CodeMirror-lines {\n  padding: 4px 0;\n  /* Vertical padding around content */\n}\n.CodeMirror pre.CodeMirror-line,\n.CodeMirror pre.CodeMirror-line-like {\n  padding: 0 4px;\n  /* Horizontal padding of content */\n}\n.CodeMirror-scrollbar-filler,\n.CodeMirror-gutter-filler {\n  background-color: white;\n  /* The little square between H and V scrollbars */\n}\n/* GUTTER */\n.CodeMirror-gutters {\n  border-right: 1px solid #ddd;\n  background-color: #f7f7f7;\n  white-space: nowrap;\n}\n.CodeMirror-linenumber {\n  padding: 0 3px 0 5px;\n  min-width: 20px;\n  text-align: right;\n  color: #999;\n  white-space: nowrap;\n}\n.CodeMirror-guttermarker {\n  color: black;\n}\n.CodeMirror-guttermarker-subtle {\n  color: #999;\n}\n/* CURSOR */\n.CodeMirror-cursor {\n  border-left: 1px solid black;\n  border-right: none;\n  width: 0;\n}\n/* Shown when moving in bi-directional text */\n.CodeMirror div.CodeMirror-secondarycursor {\n  border-left: 1px solid silver;\n}\n.cm-fat-cursor .CodeMirror-cursor {\n  width: auto;\n  border: 0 !important;\n  background: #7e7;\n}\n.cm-fat-cursor div.CodeMirror-cursors {\n  z-index: 1;\n}\n.cm-fat-cursor-mark {\n  background-color: rgba(20, 255, 20, 0.5);\n  -webkit-animation: blink 1.06s steps(1) infinite;\n  -moz-animation: blink 1.06s steps(1) infinite;\n  animation: blink 1.06s steps(1) infinite;\n}\n.cm-animate-fat-cursor {\n  width: auto;\n  border: 0;\n  -webkit-animation: blink 1.06s steps(1) infinite;\n  -moz-animation: blink 1.06s steps(1) infinite;\n  animation: blink 1.06s steps(1) infinite;\n  background-color: #7e7;\n}\n@-moz-keyframes blink {\n  50% {\n    background-color: transparent;\n  }\n}\n@-webkit-keyframes blink {\n  50% {\n    background-color: transparent;\n  }\n}\n@keyframes blink {\n  50% {\n    background-color: transparent;\n  }\n}\n/* Can style cursor different in overwrite (non-insert) mode */\n.cm-tab {\n  display: inline-block;\n  text-decoration: inherit;\n}\n.CodeMirror-rulers {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: -50px;\n  bottom: 0;\n  overflow: hidden;\n}\n.CodeMirror-ruler {\n  border-left: 1px solid #ccc;\n  top: 0;\n  bottom: 0;\n  position: absolute;\n}\n/* DEFAULT THEME */\n.cm-s-default .cm-header {\n  color: blue;\n}\n.cm-s-default .cm-quote {\n  color: #090;\n}\n.cm-negative {\n  color: #d44;\n}\n.cm-positive {\n  color: #292;\n}\n.cm-header,\n.cm-strong {\n  font-weight: bold;\n}\n.cm-em {\n  font-style: italic;\n}\n.cm-link {\n  text-decoration: underline;\n}\n.cm-strikethrough {\n  text-decoration: line-through;\n}\n.cm-s-default .cm-keyword {\n  color: #708;\n}\n.cm-s-default .cm-atom {\n  color: #219;\n}\n.cm-s-default .cm-number {\n  color: #164;\n}\n.cm-s-default .cm-def {\n  color: #00f;\n}\n.cm-s-default .cm-variable-2 {\n  color: #05a;\n}\n.cm-s-default .cm-variable-3,\n.cm-s-default .cm-type {\n  color: #085;\n}\n.cm-s-default .cm-comment {\n  color: #a50;\n}\n.cm-s-default .cm-string {\n  color: #a11;\n}\n.cm-s-default .cm-string-2 {\n  color: #f50;\n}\n.cm-s-default .cm-meta {\n  color: #555;\n}\n.cm-s-default .cm-qualifier {\n  color: #555;\n}\n.cm-s-default .cm-builtin {\n  color: #30a;\n}\n.cm-s-default .cm-bracket {\n  color: #997;\n}\n.cm-s-default .cm-tag {\n  color: #170;\n}\n.cm-s-default .cm-attribute {\n  color: #00c;\n}\n.cm-s-default .cm-hr {\n  color: #999;\n}\n.cm-s-default .cm-link {\n  color: #00c;\n}\n.cm-s-default .cm-error {\n  color: #f00;\n}\n.cm-invalidchar {\n  color: #f00;\n}\n.CodeMirror-composing {\n  border-bottom: 2px solid;\n}\n/* Default styles for common addons */\ndiv.CodeMirror span.CodeMirror-matchingbracket {\n  color: #0b0;\n}\ndiv.CodeMirror span.CodeMirror-nonmatchingbracket {\n  color: #a22;\n}\n.CodeMirror-matchingtag {\n  background: rgba(255, 150, 0, 0.3);\n}\n.CodeMirror-activeline-background {\n  background: #e8f2ff;\n}\n/* STOP */\n/* The rest of this file contains styles related to the mechanics of\n   the editor. You probably shouldn't touch them. */\n.CodeMirror {\n  position: relative;\n  overflow: hidden;\n  background: white;\n}\n.CodeMirror-scroll {\n  overflow: scroll !important;\n  /* Things will break if this is overridden */\n  /* 50px is the magic margin used to hide the element's real scrollbars */\n  /* See overflow: hidden in .CodeMirror */\n  margin-bottom: -50px;\n  margin-right: -50px;\n  padding-bottom: 50px;\n  height: 100%;\n  outline: none;\n  /* Prevent dragging from highlighting the element */\n  position: relative;\n}\n.CodeMirror-sizer {\n  position: relative;\n  border-right: 50px solid transparent;\n}\n/* The fake, visible scrollbars. Used to force redraw during scrolling\n   before actual scrolling happens, thus preventing shaking and\n   flickering artifacts. */\n.CodeMirror-vscrollbar,\n.CodeMirror-hscrollbar,\n.CodeMirror-scrollbar-filler,\n.CodeMirror-gutter-filler {\n  position: absolute;\n  z-index: 6;\n  display: none;\n  outline: none;\n}\n.CodeMirror-vscrollbar {\n  right: 0;\n  top: 0;\n  overflow-x: hidden;\n  overflow-y: scroll;\n}\n.CodeMirror-hscrollbar {\n  bottom: 0;\n  left: 0;\n  overflow-y: hidden;\n  overflow-x: scroll;\n}\n.CodeMirror-scrollbar-filler {\n  right: 0;\n  bottom: 0;\n}\n.CodeMirror-gutter-filler {\n  left: 0;\n  bottom: 0;\n}\n.CodeMirror-gutters {\n  position: absolute;\n  left: 0;\n  top: 0;\n  min-height: 100%;\n  z-index: 3;\n}\n.CodeMirror-gutter {\n  white-space: normal;\n  height: 100%;\n  display: inline-block;\n  vertical-align: top;\n  margin-bottom: -50px;\n}\n.CodeMirror-gutter-wrapper {\n  position: absolute;\n  z-index: 4;\n  background: none !important;\n  border: none !important;\n}\n.CodeMirror-gutter-background {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  z-index: 4;\n}\n.CodeMirror-gutter-elt {\n  position: absolute;\n  cursor: default;\n  z-index: 4;\n}\n.CodeMirror-gutter-wrapper ::selection {\n  background-color: transparent;\n}\n.CodeMirror-gutter-wrapper ::-moz-selection {\n  background-color: transparent;\n}\n.CodeMirror-lines {\n  cursor: text;\n  min-height: 1px;\n  /* prevents collapsing before first draw */\n}\n.CodeMirror pre.CodeMirror-line,\n.CodeMirror pre.CodeMirror-line-like {\n  /* Reset some styles that the rest of the page might have set */\n  -moz-border-radius: 0;\n  -webkit-border-radius: 0;\n  border-radius: 0;\n  border-width: 0;\n  background: transparent;\n  font-family: inherit;\n  font-size: inherit;\n  margin: 0;\n  white-space: pre;\n  word-wrap: normal;\n  line-height: inherit;\n  color: inherit;\n  z-index: 2;\n  position: relative;\n  overflow: visible;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-font-variant-ligatures: contextual;\n  font-variant-ligatures: contextual;\n}\n.CodeMirror-wrap pre.CodeMirror-line,\n.CodeMirror-wrap pre.CodeMirror-line-like {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  word-break: normal;\n}\n.CodeMirror-linebackground {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: 0;\n}\n.CodeMirror-linewidget {\n  position: relative;\n  z-index: 2;\n  padding: 0.1px;\n  /* Force widget margins to stay inside of the container */\n}\n.CodeMirror-rtl pre {\n  direction: rtl;\n}\n.CodeMirror-code {\n  outline: none;\n}\n/* Force content-box sizing for the elements where we expect it */\n.CodeMirror-scroll,\n.CodeMirror-sizer,\n.CodeMirror-gutter,\n.CodeMirror-gutters,\n.CodeMirror-linenumber {\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n.CodeMirror-measure {\n  position: absolute;\n  width: 100%;\n  height: 0;\n  overflow: hidden;\n  visibility: hidden;\n}\n.CodeMirror-cursor {\n  position: absolute;\n  pointer-events: none;\n}\n.CodeMirror-measure pre {\n  position: static;\n}\ndiv.CodeMirror-cursors {\n  visibility: hidden;\n  position: relative;\n  z-index: 3;\n}\ndiv.CodeMirror-dragcursors {\n  visibility: visible;\n}\n.CodeMirror-focused div.CodeMirror-cursors {\n  visibility: visible;\n}\n.CodeMirror-selected {\n  background: #d9d9d9;\n}\n.CodeMirror-focused .CodeMirror-selected {\n  background: #d7d4f0;\n}\n.CodeMirror-crosshair {\n  cursor: crosshair;\n}\n.CodeMirror-line::selection,\n.CodeMirror-line > span::selection,\n.CodeMirror-line > span > span::selection {\n  background: #d7d4f0;\n}\n.CodeMirror-line::-moz-selection,\n.CodeMirror-line > span::-moz-selection,\n.CodeMirror-line > span > span::-moz-selection {\n  background: #d7d4f0;\n}\n.cm-searching {\n  background-color: #ffa;\n  background-color: rgba(255, 255, 0, 0.4);\n}\n/* Used to force a border model for a node */\n.cm-force-border {\n  padding-right: 0.1px;\n}\n@media print {\n  /* Hide the cursor when printing */\n  .CodeMirror div.CodeMirror-cursors {\n    visibility: hidden;\n  }\n}\n/* See issue #2901 */\n.cm-tab-wrap-hack:after {\n  content: '';\n}\n/* Help users use markselection to safely style text background */\nspan.CodeMirror-selectedtext {\n  background: none;\n}\n",""]);const c=a},3247:e=>{var r=[];function n(e){for(var n=-1,t=0;t<r.length;t++)if(r[t].identifier===e){n=t;break}return n}function t(e,t){for(var i={},a=[],c=0;c<e.length;c++){var l=e[c],s=t.base?l[0]+t.base:l[0],d=i[s]||0,u="".concat(s," ").concat(d);i[s]=d+1;var f=n(u),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==f)r[f].references++,r[f].updater(p);else{var b=o(p,t);t.byIndex=c,r.splice(c,0,{identifier:u,updater:b,references:1})}a.push(u)}return a}function o(e,r){var n=r.domAPI(r);return n.update(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap&&r.supports===e.supports&&r.layer===e.layer)return;n.update(e=r)}else n.remove()}}e.exports=function(e,o){var i=t(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var c=n(i[a]);r[c].references--}for(var l=t(e,o),s=0;s<i.length;s++){var d=n(i[s]);0===r[d].references&&(r[d].updater(),r.splice(d,1))}i=l}}},3938:e=>{var r={};e.exports=function(e,n){var t=function(e){if(void 0===r[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}r[e]=n}return r[e]}(e);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(n)}},3767:e=>{e.exports=function(e){var r=document.createElement("style");return e.setAttributes(r,e.attributes),e.insert(r,e.options),r}},4549:(e,r,n)=>{e.exports=function(e){var r=n.nc;r&&e.setAttribute("nonce",r)}},6415:e=>{e.exports=function(e){var r=e.insertStyleElement(e);return{update:function(n){!function(e,r,n){var t="";n.supports&&(t+="@supports (".concat(n.supports,") {")),n.media&&(t+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(t+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),t+=n.css,o&&(t+="}"),n.media&&(t+="}"),n.supports&&(t+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(t+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),r.styleTagTransform(t,e,r.options)}(r,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)}}}},3035:e=>{e.exports=function(e,r){if(r.styleSheet)r.styleSheet.cssText=e;else{for(;r.firstChild;)r.removeChild(r.firstChild);r.appendChild(document.createTextNode(e))}}},9003:e=>{e.exports=require("classnames")},8566:e=>{e.exports=require("create-react-class")},4305:e=>{e.exports=require("lodash.debounce")},580:e=>{e.exports=require("prop-types")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")}},i={};function a(e){var r=i[e];if(void 0!==r)return r.exports;var n=i[e]={id:e,loaded:!1,exports:{}};return o[e].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=o,a.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return a.d(r,{a:r}),r},r=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(n,t){if(1&t&&(n=this(n)),8&t)return n;if("object"==typeof n&&n){if(4&t&&n.__esModule)return n;if(16&t&&"function"==typeof n.then)return n}var o=Object.create(null);a.r(o);var i={};e=e||[null,r({}),r([]),r(r)];for(var c=2&t&&n;"object"==typeof c&&!~e.indexOf(c);c=r(c))Object.getOwnPropertyNames(c).forEach((e=>i[e]=()=>n[e]));return i.default=()=>n,a.d(o,i),o},a.d=(e,r)=>{for(var n in r)a.o(r,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((r,n)=>(a.f[n](e,r),r)),[])),a.u=e=>e+".min.js",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),n={},t="editor.codemirror:",a.l=(e,r,o,i)=>{if(n[e])n[e].push(r);else{var c,l;if(void 0!==o)for(var s=document.getElementsByTagName("script"),d=0;d<s.length;d++){var u=s[d];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==t+o){c=u;break}}c||(l=!0,(c=document.createElement("script")).charset="utf-8",c.timeout=120,a.nc&&c.setAttribute("nonce",a.nc),c.setAttribute("data-webpack",t+o),c.src=e),n[e]=[r];var f=(r,t)=>{c.onerror=c.onload=null,clearTimeout(p);var o=n[e];if(delete n[e],c.parentNode&&c.parentNode.removeChild(c),o&&o.forEach((e=>e(t))),r)return r(t)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=f.bind(null,c.onerror),c.onload=f.bind(null,c.onload),l&&document.head.appendChild(c)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),a.p="plug/editor.codemirror/res/dist/",(()=>{var e={445:0};a.f.j=(r,n)=>{var t=a.o(e,r)?e[r]:void 0;if(0!==t)if(t)n.push(t[2]);else{var o=new Promise(((n,o)=>t=e[r]=[n,o]));n.push(t[2]=o);var i=a.p+a.u(r),c=new Error;a.l(i,(n=>{if(a.o(e,r)&&(0!==(t=e[r])&&(e[r]=void 0),t)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;c.message="Loading chunk "+r+" failed.\n("+o+": "+i+")",c.name="ChunkLoadError",c.type=o,c.request=i,t[1](c)}}),"chunk-"+r,r)}};var r=(r,n)=>{var t,o,[i,c,l]=n,s=0;if(i.some((r=>0!==e[r]))){for(t in c)a.o(c,t)&&(a.m[t]=c[t]);l&&l(a)}for(r&&r(n);s<i.length;s++)o=i[s],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunkeditor_codemirror=self.webpackChunkeditor_codemirror||[];n.forEach(r.bind(null,0)),n.push=r.bind(null,n.push.bind(n))})(),a.nc=void 0;var c={};(()=>{a.r(c),a.d(c,{Actions:()=>e,Editor:()=>he,ReactCodeMirror:()=>W});var e={};a.r(e),a.d(e,{onJumpTo:()=>f,onRedo:()=>l,onSave:()=>o,onSearch:()=>u,onToggleLineNumbers:()=>s,onToggleLineWrapping:()=>d,onUndo:()=>i});const r=require("pydio");var n=a.n(r),t=n().requireLib("hoc").EditorActions,o=function(e){var r=e.dispatch,o=e.tab;return function(){return pydio.ApiClient.postPlainTextContent(o.node,o.content,(function(e){r(e?t.tabModify({id:o.id,message:n().getMessages()[115]}):t.tabModify({id:o.id,message:n().getMessages()[210]}))}))}},i=function(e){var r=e.tab;return function(){return r.codemirror.undo()}},l=function(e){var r=e.tab;return function(){return r.codemirror.redo()}},s=function(e){var r=e.dispatch,n=e.tab;return function(){return r(t.tabModify({id:n.id,lineNumbers:!n.lineNumbers}))}},d=function(e){var r=e.dispatch,n=e.tab;return function(){return r(t.tabModify({id:n.id,lineWrapping:!n.lineWrapping}))}},u=function(e){var r=e.tab;return function(e){var n=r.codemirror,t=r.cursor,o=function(e){var r=e.match(/^\/(.*)\/([a-z]*)$/);if(r)try{e=new RegExp(r[1],-1==r[2].indexOf("i")?"":"i")}catch(e){}else e=e.replace(/\\(.)/g,(function(e,r){return"n"===r?"\n":"r"===r?"\r":r}));return("string"==typeof e?""==e:e.test(""))&&(e=/x^/),e}(e),i=n.getSearchCursor(o,t.to);(i.find()||(i=n.getSearchCursor(o,0)).find())&&(n.setSelection(i.from(),i.to()),n.scrollIntoView({from:i.from(),to:i.to()},20))}},f=function(e){var r=e.tab;return function(e){var n=r.codemirror,t=parseInt(e),o=n.getCursor();n.focus(),n.setCursor(t-1,o.ch),n.scrollIntoView({line:t-1,ch:o.ch},20)}},p=a(6689),b=a.n(p);const m=require("pydio/util/path");var h=a.n(m),y=a(3247),g=a.n(y),v=a(6415),w=a.n(v),k=a(3938),C=a.n(k),P=a(4549),M=a.n(P),O=a(3767),x=a.n(O),j=a(3035),S=a.n(j),E=a(457),T={};T.styleTagTransform=S(),T.setAttributes=M(),T.insert=C().bind(null,"head"),T.domAPI=w(),T.insertStyleElement=x(),g()(E.Z,T),E.Z&&E.Z.locals&&E.Z.locals;var _=a(1322),R={};R.styleTagTransform=S(),R.setAttributes=M(),R.insert=C().bind(null,"head"),R.domAPI=w(),R.insertStyleElement=x(),g()(_.Z,R),_.Z&&_.Z.locals&&_.Z.locals;var z=a(8392),D={};function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function q(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function N(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?q(Object(n),!0).forEach((function(r){L(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function L(e,r,n){return(r=Z(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function I(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,Z(t.key),t)}}function Z(e){var r=function(e,r){if("object"!==A(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!==A(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===A(r)?r:String(r)}function B(e,r){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},B(e,r)}function U(e){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},U(e)}D.styleTagTransform=S(),D.setAttributes=M(),D.insert=C().bind(null,"head"),D.domAPI=w(),D.insertStyleElement=x(),g()(z.Z,D),z.Z&&z.Z.locals&&z.Z.locals;var F=function(e){!function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&B(e,r)}(c,e);var r,n,t,o,i=(t=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=U(t);if(o){var n=U(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,r){if(r&&("object"===A(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e){var r;return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,c),(r=i.call(this,e)).cm=(0,p.createRef)(),r.state={},r.loaded=!1,Promise.all([a.e(201),a.e(487)]).then(a.t.bind(a,1487,23)).then((function(e){var n=e.default;Promise.all([a.e(201),a.e(156)]).then(a.t.bind(a,1156,23)).then((function(){Promise.all([a.e(201),a.e(259)]).then(a.t.bind(a,5259,23)).then((function(){r.setState({CodeMirror:n})}))}))})),r}return r=c,n=[{key:"componentDidUpdate",value:function(e,r,n){if(this.cm.current){if(!this.loaded){var t=this.cm.current.getCodeMirror(),o=this.cm.current.getCodeMirrorInstance().findModeByFileName(h().getBasename(this.props.url));o&&this.setMode(o),this.loaded=!0,this.props.onLoad(t)}void 0===e.content&&void 0!==this.props.content&&this.cm.current.getCodeMirror().setValue(this.props.content)}}},{key:"setMode",value:function(e){var r,n=this;switch(e.mode){case"javascript":r=Promise.all([a.e(201),a.e(119)]).then(a.t.bind(a,9119,23));break;case"css":r=Promise.all([a.e(201),a.e(264)]).then(a.t.bind(a,3264,23));break;case"php":r=Promise.all([a.e(201),a.e(119),a.e(264),a.e(929),a.e(208)]).then(a.t.bind(a,2208,23));break;case"dart":r=Promise.all([a.e(201),a.e(929),a.e(605)]).then(a.t.bind(a,2605,23));break;case"dockerfile":r=Promise.all([a.e(201),a.e(14)]).then(a.t.bind(a,4014,23));break;case"erlang":r=Promise.all([a.e(201),a.e(385)]).then(a.t.bind(a,3385,23));break;case"diff":r=Promise.all([a.e(201),a.e(959)]).then(a.t.bind(a,5959,23));break;case"go":r=Promise.all([a.e(201),a.e(214)]).then(a.t.bind(a,8214,23));break;case"groovy":r=Promise.all([a.e(201),a.e(63)]).then(a.t.bind(a,1063,23));break;case"htmlmixed":r=Promise.all([a.e(201),a.e(119),a.e(264),a.e(680)]).then(a.t.bind(a,2680,23));break;case"markdown":r=Promise.all([a.e(201),a.e(763)]).then(a.t.bind(a,4763,23));break;case"sass":r=Promise.all([a.e(201),a.e(264),a.e(817)]).then(a.t.bind(a,817,23));break;case"perl":r=Promise.all([a.e(201),a.e(927)]).then(a.t.bind(a,1927,23));break;case"clike":r=Promise.all([a.e(201),a.e(929)]).then(a.t.bind(a,7929,23));break;case"clojure":r=Promise.all([a.e(201),a.e(684)]).then(a.t.bind(a,6684,23));break;case"nginx":r=Promise.all([a.e(201),a.e(499)]).then(a.t.bind(a,4063,23));break;case"jsx":r=Promise.all([a.e(201),a.e(119),a.e(618)]).then(a.t.bind(a,6618,23));break;case"xml":r=Promise.all([a.e(201),a.e(781)]).then(a.t.bind(a,781,23));break;case"yaml":r=Promise.all([a.e(201),a.e(602)]).then(a.t.bind(a,9602,23));break;case"vbscript":r=Promise.all([a.e(201),a.e(828)]).then(a.t.bind(a,8828,23));break;case"swift":r=Promise.all([a.e(201),a.e(923)]).then(a.t.bind(a,5923,23));break;case"rust":r=Promise.all([a.e(201),a.e(906)]).then(a.t.bind(a,4906,23));break;case"python":r=Promise.all([a.e(201),a.e(484)]).then(a.t.bind(a,484,23));break;case"sql":r=Promise.all([a.e(201),a.e(412)]).then(a.t.bind(a,2412,23));break;case"sparql":r=Promise.all([a.e(201),a.e(706)]).then(a.t.bind(a,7706,23));break;case"shell":r=Promise.all([a.e(201),a.e(281)]).then(a.t.bind(a,6281,23));break;default:r=Promise.resolve()}r.then((function(){n.setState({mode:e.mode})}))}},{key:"render",value:function(){var e=this.state,r=e.CodeMirror,n=e.mode;if(!r)return null;var t=this.props,o=t.content,i=t.options,a=t.url,c=t.onLoad,l=t.onChange,s=t.onCursorChange,d=t.cmStyle;return b().createElement(r,{ref:this.cm,name:a,value:o,options:N(N({},i),{},{mode:n}),className:"CMEditor",onLoad:c,onChange:l,onCursorActivity:s,cmStyle:d})}}],n&&I(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(p.Component);const W=F,H=require("pydio/util/dom");var V=a.n(H);const G=require("react-redux"),J=require("react-markdown");var Y=a.n(J);function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function K(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function Q(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?K(Object(n),!0).forEach((function(r){X(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function X(e,r,n){return(r=re(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function ee(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,re(t.key),t)}}function re(e){var r=function(e,r){if("object"!==$(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!==$(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===$(r)?r:String(r)}function ne(e,r){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},ne(e,r)}function te(e){return te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},te(e)}var oe=function(e){!function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&ne(e,r)}(c,e);var r,n,t,o,i=(t=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=te(t);if(o){var n=te(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,r){if(r&&("object"===$(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e){var r;return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,c),(r=i.call(this,e)).cm=(0,p.createRef)(),r.state={},r.loaded=!1,Promise.all([a.e(201),a.e(487)]).then(a.t.bind(a,1487,23)).then((function(e){var n=e.default;Promise.all([a.e(201),a.e(156)]).then(a.t.bind(a,1156,23)).then((function(){Promise.all([a.e(201),a.e(259)]).then(a.t.bind(a,5259,23)).then((function(){r.setState({CodeMirror:n})}))}))})),r}return r=c,n=[{key:"componentDidUpdate",value:function(e,r,n){if(this.cm.current){if(!this.loaded){var t=this.cm.current.getCodeMirror(),o=this.cm.current.getCodeMirrorInstance().findModeByFileName(h().getBasename(this.props.url));o&&this.setMode(o),this.loaded=!0,this.props.onLoad(t)}void 0===e.content&&void 0!==this.props.content&&this.cm.current.getCodeMirror().setValue(this.props.content)}}},{key:"setMode",value:function(e){var r,n=this;switch(e.mode){case"javascript":r=Promise.all([a.e(201),a.e(119)]).then(a.t.bind(a,9119,23));break;case"css":r=Promise.all([a.e(201),a.e(264)]).then(a.t.bind(a,3264,23));break;case"php":r=Promise.all([a.e(201),a.e(119),a.e(264),a.e(929),a.e(208)]).then(a.t.bind(a,2208,23));break;case"dart":r=Promise.all([a.e(201),a.e(929),a.e(605)]).then(a.t.bind(a,2605,23));break;case"dockerfile":r=Promise.all([a.e(201),a.e(14)]).then(a.t.bind(a,4014,23));break;case"erlang":r=Promise.all([a.e(201),a.e(385)]).then(a.t.bind(a,3385,23));break;case"diff":r=Promise.all([a.e(201),a.e(959)]).then(a.t.bind(a,5959,23));break;case"go":r=Promise.all([a.e(201),a.e(214)]).then(a.t.bind(a,8214,23));break;case"groovy":r=Promise.all([a.e(201),a.e(63)]).then(a.t.bind(a,1063,23));break;case"htmlmixed":r=Promise.all([a.e(201),a.e(119),a.e(264),a.e(680)]).then(a.t.bind(a,2680,23));break;case"markdown":r=Promise.all([a.e(201),a.e(763)]).then(a.t.bind(a,4763,23));break;case"sass":r=Promise.all([a.e(201),a.e(264),a.e(817)]).then(a.t.bind(a,817,23));break;case"perl":r=Promise.all([a.e(201),a.e(927)]).then(a.t.bind(a,1927,23));break;case"clike":r=Promise.all([a.e(201),a.e(929)]).then(a.t.bind(a,7929,23));break;case"clojure":r=Promise.all([a.e(201),a.e(684)]).then(a.t.bind(a,6684,23));break;case"nginx":r=Promise.all([a.e(201),a.e(499)]).then(a.t.bind(a,4063,23));break;case"jsx":r=Promise.all([a.e(201),a.e(119),a.e(618)]).then(a.t.bind(a,6618,23));break;case"xml":r=Promise.all([a.e(201),a.e(781)]).then(a.t.bind(a,781,23));break;case"yaml":r=Promise.all([a.e(201),a.e(602)]).then(a.t.bind(a,9602,23));break;case"vbscript":r=Promise.all([a.e(201),a.e(828)]).then(a.t.bind(a,8828,23));break;case"swift":r=Promise.all([a.e(201),a.e(923)]).then(a.t.bind(a,5923,23));break;case"rust":r=Promise.all([a.e(201),a.e(906)]).then(a.t.bind(a,4906,23));break;case"python":r=Promise.all([a.e(201),a.e(484)]).then(a.t.bind(a,484,23));break;case"sql":r=Promise.all([a.e(201),a.e(412)]).then(a.t.bind(a,2412,23));break;case"sparql":r=Promise.all([a.e(201),a.e(706)]).then(a.t.bind(a,7706,23));break;case"shell":r=Promise.all([a.e(201),a.e(281)]).then(a.t.bind(a,6281,23));break;default:r=Promise.resolve()}r.then((function(){n.setState({mode:e.mode})}))}},{key:"render",value:function(){var e=this.state,r=e.CodeMirror,n=e.mode;if(!r)return null;var t=this.props,o=t.content,i=t.options,a=t.url,c=t.onLoad,l=t.onChange,s=t.onCursorChange,d=t.cmStyle;return b().createElement(r,{ref:this.cm,name:a,value:o,options:Q(Q({},i),{},{mode:n}),className:"CMEditor",onLoad:c,onChange:l,onCursorActivity:s,cmStyle:d})}}],n&&ee(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(p.Component);const ie=oe;var ae;function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},ce.apply(this,arguments)}function le(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,be(t.key),t)}}function se(e,r){return se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},se(e,r)}function de(e){return de=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},de(e)}function ue(e){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(e)}function fe(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function pe(e,r,n){return(r=be(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function be(e){var r=function(e,r){if("object"!==ue(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!==ue(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ue(r)?r:String(r)}var me=n().requireLib("hoc").EditorActions,he=(0,G.connect)((function(e,r){var n=e.tabs.filter((function(e){var n=e.editorData,t=e.node;return(!n||n.id===r.editorData.id)&&t.getPath()===r.node.getPath()}))[0]||{};return function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?fe(Object(n),!0).forEach((function(r){pe(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}({id:n.id,tab:n},r)}),me)(ae=function(e){!function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&se(e,r)}(a,e);var r,n,t,o,i=(t=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=de(t);if(o){var n=de(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,r){if(r&&("object"===ue(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e){var r;!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,a);var n=(r=i.call(this,e)).props,t=n.node,o=n.tab,c=void 0===o?{}:o,l=n.tabCreate;return c.id||l({id:t.getLabel(),node:t}),r}return r=a,n=[{key:"componentDidMount",value:function(){var e=this.props,r=e.pydio,n=e.node,t=e.tab,o=e.tabModify,i=t.id;r.ApiClient.getPlainContent(n,(function(e){o({id:i||n.getLabel(),editable:!0,editortools:!0,searchable:!0,lineNumbers:!0,content:e,node:n})}))}},{key:"componentWillReceiveProps",value:function(e){var r=this.props.editorModify;r&&e.isActive&&r({fixedToolbar:!0})}},{key:"render",value:function(){var e=this.props,r=e.node,n=e.tab,t=e.error,o=e.tabModify;if(!n)return null;var i=n.id,a=n.content,c=n.lineWrapping,l=n.lineNumbers;if("md"===r.getAjxpMime()){var s=V().getViewportWidth()>480;return b().createElement("div",{style:{display:"flex",flex:1,width:"100%",backgroundColor:"white"}},b().createElement(ie,ce({},this.props,{url:r.getPath(),content:a,options:{lineNumbers:l,lineWrapping:c},error:t,onLoad:function(e){return o({id:i,codemirror:e})},onChange:function(e){return o({id:i,content:e})},onCursorChange:function(e){return o({id:i,cursor:e})},cmStyle:{flex:1,width:s?"60%":"100%"}})),s&&b().createElement(Y(),{source:a,className:"mdviewer"}))}return b().createElement(ie,ce({},this.props,{url:r.getPath(),content:a,options:{lineNumbers:l,lineWrapping:c},error:t,onLoad:function(e){return o({id:i,codemirror:e})},onChange:function(e){return o({id:i,content:e})},onCursorChange:function(e){return o({id:i,cursor:e})}}))}}],n&&le(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),a}(b().Component))||ae})(),window.PydioCodeMirror=c})();